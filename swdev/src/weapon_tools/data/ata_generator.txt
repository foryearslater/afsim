# ****************************************************************************
# CUI
#
# The Advanced Framework for Simulation, Integration, and Modeling (AFSIM)
#
# The use, dissemination or disclosure of data in this file is subject to
# limitation or restriction. See accompanying README and LICENSE for details.
# ****************************************************************************


# ****************************************************************************
#             WEAPON TOOL INPUT FILE - ATA Launch Computer Generator
# ****************************************************************************
# Example input data file to configure and exercise the ATA Launch Computer
# Generator Weapon Tool.  Examples for all possible input keywords and values
# are given below; however, default values are often sufficient, and when so,
# the input keyword and its corresponding default value is commented out to
# show the input is not mandatory. 
# ****************************************************************************

include ../../data/weapons/aim-9x.txt

# *****************************************************************************
# This lethality is "perfect" if within lethal range.  Necessary, because
# for the Tool to work properly we must have a kill if the missile is
# kinematically able to pass within lethal range of its target. 
# NOTE:  The weapon's fuse should not have 'hit_proximity_range' set
#        greater than the radius indicated below.

weapon_effects WEAPON_TOOL_LETHALITY WSF_GRADUATED_LETHALITY
   radius_and_pk 30.0 ft 1.00 # All Platforms
end_weapon_effects

# *****************************************************************************
# The following is used as the launch platform type

platform_type LAUNCH_PLATFORM_TYPE WSF_PLATFORM
  icon F-18E
  # (The default weapon fired by all Weapon Tools is the first one
  #  encountered on the launch platform.)
  weapon launching_weapon AIM-9X end_weapon
end_platform_type

# *****************************************************************************
# The following is used as a target

platform_type TARGET_PLATFORM_TYPE WSF_PLATFORM
  icon F-18
  mover WSF_AIR_MOVER end_mover
end_platform_type

# *****************************************************************************

tool ATA_LAUNCH_COMPUTER_GENERATOR # ata_launch_computer_generator

  # === Tool Input Keywords ===
  
  #tool_debug
  
  # The inputs below position the test case somewhere
  # on the globe, and indicate the firing conditions
  
  #altitude            10000 ft   # ATA Launcher defaults to 10000 ft alt.
  #position     00:00n 00:00w
  #heading                 0 deg
  position      34:54n 117:53w   # Near Edwards AFB

  #frame_step            0.5 sec # Time interval between Tool updates
    
  #target_platform_type TARGET_PLATFORM_TYPE
  #launch_platform_type LAUNCH_PLATFORM_TYPE

  # The default is to select the first weapon on the launch_platform_type 
  #weapon_name <first_weapon_on_launch_platform_type> # (No matter what it is named.)

  # (The PK should usually boosted to 1.0 for this generator to work properly.)
  #weapon_effects WEAPON_TOOL_LETHALITY

  # The following two string values are used to assist with naming output
  # objects and files, if the names are not explicitly provided by user input.
  
  #tool_produces _ata_launch_computer
  
  #output_file_extension .txt
  
  # The user may have letter case preferences on file names, or a preferred naming
  # convention, so may choose to explicitly override the two Tool-provided names below:
  
  # 1. Output object name
  # (If not provided, the default name is to aggregate the two items shown below.) 
  #output_object_name <weapon_platform_type><tool_produces>

  # 2. Output file name
  # (If not provided, the default name is to aggregate the two items shown below.) 
  #output_file_name   <output_object_name><output_file_extension>

  output_object_name AIM-9X_ATA_LAUNCH_COMPUTER_10KFT_0.6MACH       # *** TEMPORARY NON_DEFAULT OVERRIDE
  output_file_name aim-9x_ata_launch_computer_alt10kft_0.6mach.txt  # *** TEMPORARY NON_DEFAULT OVERRIDE

  # === WsfATALaunchComputer Input Keywords === 

  # The following specifies the launching platform's altitude and speed, for which the launch computer
  # is valid.  (If the generated computer is used at a different altitude and speed, the accuracy of its
  # predictions are not guaranteed.)  The speed may be specified as a Mach number if desired, but only
  # if the altitude is also specified at the same time:
  #speed 383 kts  # When altitude is specified separately via the "altitude" keyword.
  #altitude_and_mach  10000.0 ft 0.6 # Must be specified together, so that Mach yields a speed value. 
  
  # (Any inputs that are valid for a WsfATALaunchComputer may be specified here, to configure the
  #  prototype_computer as desired.)
  
  # User MUST specify either the 'generate_rectangular_results' keyword block, or the
  # 'intercept_results' block below.  (The 'generate_rectangular_results' block is used primarily
  # as input to the Weapon Tool for auto-generation of an instance of WsfATALaunchComputer.  After
  # the generation is complete, then the Weapon Tool normally writes out the 'intercept_results'
  # block to serialize the instance of WsfATALaunchComputer for later use.  The 'generate_
  # rectangular_results' block will be easier to use in this context, because default values are
  # available, and the actual block specification may be empty.  The 'intercept_results' block has
  # no defaults, so must be specified fully and explicitly.)

  generate_rectangular_results

     # The following defaults are defined (not in this Tool, but in WsfATALaunchComputer).
     #aspect_angle_bin_count 4
     
     #azimuth_bin_count      4
     #azimuth_limit             90.0 deg
     
     #elevation_bin_count    4
     #elevation_lower_limit    -45.0 deg
     #elevation_upper_limit     45.0 deg
     
     #range_rate_bin_count   4
     #range_rate_lower_limit -1000.0 fpm
     #range_rate_upper_limit  1000.0 fpm
     
     #range_bin_count        4
     #minimum_ground_range       0.0 m
     #maximum_ground_range      40.0 nmi  # default value
     
     maximum_ground_range      15.0 nmi  # *** TEMPORARY NON_DEFAULT OVERRIDE  Range was shortend for this test case.

  end_generate_rectangular_results
  
  #intercept_results
  #   # Note:  For the purposes of this Tool, the supplied time_of_flight values are immaterial,
  #            because they are overwritten with values calculated by this Tool.
  #   # The independent variable ranges below must be defined before the results table...
  #   # Aspect angle has to cover zero to 180 degrees approach angle,
  #   # and results are assumed symmetric about Left and Right,
  #   # so the only question is how many bins (what resolution).
  #   number_of_aspect_angle_bins 4
  #   # Azimuth results are assumed symmetric about the centerline, so should cover zero to
  #   # <limit value> target azimuth angle, user must specify how many bins (what resolution).
  #   azimuth_bin_count_and_limit 4 90 deg
  #   # Elevation results are not assumed symmetric about the horizon, so should cover
  #   # <negative limit> to <positive limit> target elevation angle, and how many bins (what resolution).
  #   elevation_bin_count_min_and_max_limits 4 -45 deg 45 deg
  #   range_rate_bin_count_min_and_max_limits 4 -304.8 m/s 304.8 m/s
  #   firing_range_bin_count_and_values 4
  #        0 m  6945 m  13890 m  20835 m  27780 m 
  #   time_of_flight_values
  #      # Dependent Variable = Time Of Flight (sec.)  [0.0 => Miss] Hits/Misses = 146 344
  #      5.95 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 5.85 21.45 0 0 0 0 0 0 0 0 0 0 0 0 
  #      0 0 5.9 20.5 0 0 0 0 0 0 0 0 0 0 0 0 0 0 6.15 19.5 0 0 0 0 0 0 0 0 0 0 
  #      #  < ... many values omitted ... >
  #   end_time_of_flight_values
  #end_intercept_results
    
end_tool

# *****************************************************************************
# Define the DIS replay file output, if needed, for post-processing visualization, etc.

dis_interface
  record lc_generation.rep
end_dis_interface

