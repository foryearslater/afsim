
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>WsfClusterManager &#8212; AFSIM 2.9.0 Documentation</title>
    <link rel="stylesheet" href="../../_static/wsftheme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/collapse.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/admonition.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/table.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/pseudo-header.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/pseudo-topic.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/quick-search.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/collapse_sections.js"></script>
    
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="WsfComm" href="wsfcomm.html" />
    <link rel="prev" title="WsfCircularize" href="wsfcircularize.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="wsfcomm.html" title="WsfComm"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="wsfcircularize.html" title="WsfCircularize"
             accesskey="P">previous</a> |</li>
  <li>
    <img src="../../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="../main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="wsfclustermanager">
<h1>WsfClusterManager<a class="headerlink" href="#wsfclustermanager" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt>
WsfClusterManager  inherits <a class="reference internal" href="object.html#Object" title="Object">Object</a></dt>
<dd></dd></dl>

<p>WsfClusterManager provides access to various clustering algorithms.  It accepts arrays of objects as input and
forms clusters (other arrays) that best fit the groupings of the objects provided.  WsfClusterManager can be
configured to cluster the objects according to a K-Means or a Hierarchical Tree clustering method.  WsfClusterManager
creates and returns arrays of clusters (arrays of arrays).  When determining the best fit, WsfClusterManager can use
2D position, 3D position, or a custom user score as a similarity measurement between objects.  WsfClusterManager
can cluster the following object types: WsfTrack, WsfLocalTrack, WsfPlatform, WsfGeoPoint, &amp; WsfAssetPerception.  It
accepts arrays of said objects and it also accepts these types:  WsfTrackList, WsfLocalTrackList, &amp; WsfPlatformList.</p>
<section id="configuration-methods">
<h2>Configuration Methods<a class="headerlink" href="#configuration-methods" title="Permalink to this headline">¶</a></h2>
<p>Configuration methods provide a way to create and/or modify the settings of the WsfClusterManager.  These settings
determine how the manager will cluster.  In many cases, the choices here will be ineffectual because the groupings of
the objects are obvious and any algorithm choice or similarity measure will produce the same results.  Only in special
cases will there be noticeable differences.  If no distance limit or number of clusters are specified, the cluster
manager will make a guess for you on the best number of clusters of generate. Example: if clustering 10 objects, then
3 clusters will be generated, and if clustering 21 objects, then 5 clusters will be generated, etc.  Please set the
distance limit for best usage.</p>
<dl class="method">
<dt id="WsfClusterManager.Create">
<a class="reference internal" href="#WsfClusterManager" title="WsfClusterManager">WsfClusterManager</a> Create<span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.Create" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of a WsfClusterManager.  See “Construction” example above.</p>
</dd></dl>

<dl class="method">
<dt id="WsfClusterManager.SetClusterMethod">
void SetClusterMethod<span class="sig-paren">(</span><em class="sig-param"><a class="reference internal" href="string.html#string" title="string">string</a> methodName</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.SetClusterMethod" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows the user to tell the cluster manager which clustering algorithm to use.  Options:</p>
<ul class="simple">
<li><p>“H_TREE_MAX”, a complete linkage agglomerative method. Provides tight groupings with diameter no larger than the limit.</p></li>
<li><p>“H_TREE_MIN”, a single linkage agglomerative method. Can provide longer strings of objects linked together.</p></li>
<li><p>“H_TREE_AVG”, a dynamic linkage agglomerative method, average between min and max, but takes longer.</p></li>
<li><p>“K_MEANS”, not dynamic, but best suited for when you know how many clusters you want.  Use: SetClusterCount(int).</p></li>
</ul>
<p>Default: “H_TREE_MAX”.</p>
<p>Example Clustering: H_TREE_MAX, H_TREE_MIN, and K_MEANS (with K = 2):</p>
<img alt="../../_images/cluster_htree_max.png" src="../../_images/cluster_htree_max.png" />
<img alt="../../_images/cluster_htree_min.png" src="../../_images/cluster_htree_min.png" />
<img alt="../../_images/cluster_kmeans_3.png" src="../../_images/cluster_kmeans_3.png" />
</dd></dl>

<dl class="method">
<dt id="WsfClusterManager.SetDistanceFunction">
void SetDistanceFunction<span class="sig-paren">(</span><em class="sig-param"><a class="reference internal" href="string.html#string" title="string">string</a> measure</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.SetDistanceFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows the user to tell the cluster manager what measure to use while computing similarity between tracks.  Options:</p>
<ul class="simple">
<li><p>“POSITION_ONLY”, uses 3D position.</p></li>
<li><p>“2D_POSITION_ONLY”, only uses 2D position, no altitude.</p></li>
</ul>
<p>Default: “POSITION_ONLY”.</p>
</dd></dl>

<dl class="method">
<dt id="WsfClusterManager.SetScriptDistanceFunction">
void SetScriptDistanceFunction<span class="sig-paren">(</span><em class="sig-param"><a class="reference internal" href="string.html#string" title="string">string</a> functionName</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.SetScriptDistanceFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows the user to specify a script method to be used in scoring the similarity (or distance) of potential cluster
members. The argument types of the function need to match the type of objects you will be clustering. Users can override
the script function as often as they like.
Warning - only used for cluster methods “H_TREE_MAX” and “H_TREE_MIN”.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">script</span> <span class="n">double</span> <span class="n">MyTrackFunction</span><span class="p">(</span><span class="n">WsfTrack</span> <span class="n">t1</span><span class="p">,</span> <span class="n">WsfTrack</span> <span class="n">t2</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">t1</span><span class="o">.</span><span class="n">GroundRangeTo</span><span class="p">(</span><span class="n">t2</span><span class="p">);</span>
<span class="n">end_script</span>

<span class="n">script</span> <span class="n">double</span> <span class="n">MyPlatformFunction</span><span class="p">(</span><span class="n">WsfPlatform</span> <span class="n">p1</span><span class="p">,</span> <span class="n">WsfPlatform</span> <span class="n">p2</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">p1</span><span class="o">.</span><span class="n">SlantRangeTo</span><span class="p">(</span><span class="n">p2</span><span class="p">);</span>
<span class="n">end_script</span>

<span class="n">on_update</span>
  <span class="n">WsfClusterManager</span> <span class="n">cm</span> <span class="o">=</span> <span class="n">WsfClusterManager</span><span class="o">.</span><span class="n">Create</span><span class="p">();</span>
  <span class="n">cm</span><span class="o">.</span><span class="n">SetScriptDistanceFunction</span><span class="p">(</span><span class="s2">&quot;MyTrackFunction&quot;</span><span class="p">);</span>
  <span class="n">Array</span><span class="o">&lt;</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">WsfLocalTrack</span><span class="o">&gt;&gt;</span> <span class="n">trackClusters</span> <span class="o">=</span> <span class="n">cm</span><span class="o">.</span><span class="n">GetClusters</span><span class="p">(</span><span class="n">PLATFORM</span><span class="o">.</span><span class="n">MasterTrackList</span><span class="p">());</span>
  <span class="o">//</span><span class="n">now</span> <span class="n">use</span> <span class="n">a</span> <span class="n">custom</span> <span class="n">function</span> <span class="n">to</span> <span class="n">cluster</span> <span class="n">a</span> <span class="n">different</span> <span class="nb">object</span> <span class="nb">type</span>
  <span class="n">cm</span><span class="o">.</span><span class="n">SetScriptDistanceFunction</span><span class="p">(</span><span class="s2">&quot;MyPlatformFunction&quot;</span><span class="p">);</span>
  <span class="n">Array</span><span class="o">&lt;</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">WsfPlatform</span><span class="o">&gt;&gt;</span> <span class="n">platformClusters</span> <span class="o">=</span> <span class="n">cm</span><span class="o">.</span><span class="n">GetClusters</span><span class="p">(</span><span class="n">PLATFORM</span><span class="o">.</span><span class="n">Subordinates</span><span class="p">());</span>
<span class="n">end_on_update</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="WsfClusterManager.SetDistanceLimit">
void SetDistanceLimit<span class="sig-paren">(</span><em class="sig-param">double newLimit</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.SetDistanceLimit" title="Permalink to this definition">¶</a></dt>
<dd><p>Default: not used.  Reasonable starting value: 46300 (meters == 25 nm).
Informs the cluster manager how close a potential member has to be to a cluster in order to be considered part of that
cluster.  How this value is actually used depends on the clustering method.  For example: if “H_TREE_MIN” is chosen as
your clustering method, then a potential member can be considered part of a cluster if it’s within the distance limit
to any of the current members.  “H_TREE_MAX” requires members to be within the limit to all other members.</p>
</dd></dl>

<dl class="method">
<dt id="WsfClusterManager.SetNumClustersToCreate">
void SetNumClustersToCreate<span class="sig-paren">(</span><em class="sig-param">int count</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.SetNumClustersToCreate" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows the user to tell the cluster manager how many clusters to form.  Warning: only use this function if you want a
specific number of clusters because this might not allow the manager to best fit the data.</p>
</dd></dl>

</section>
<section id="cluster-methods">
<h2>Cluster Methods<a class="headerlink" href="#cluster-methods" title="Permalink to this headline">¶</a></h2>
<p>A cluster can be thought of as an array of objects.  When you get clusters from the manager, it will provide you an
array of clusters (an array of arrays).  The cluster manager does not record or maintain any clusters inside
of itself; the manager calculates them when you call one of these methods and it gives them back to you immediately.
The cluster manager generates clusters based on how it has been configured.</p>
<dl class="method">
<dt id="WsfClusterManager.GetClusters">
Array&lt;Array&lt;WsfTrack&gt;&gt; GetClusters<span class="sig-paren">(</span><em class="sig-param"><a class="reference internal" href="wsftracklist.html#WsfTrackList" title="WsfTrackList">WsfTrackList</a> objects</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.GetClusters" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.GetClusters">
Array&lt;Array&lt;WsfLocalTrack&gt;&gt; GetClusters<span class="sig-paren">(</span><em class="sig-param"><a class="reference internal" href="wsflocaltracklist.html#WsfLocalTrackList" title="WsfLocalTrackList">WsfLocalTrackList</a> objects</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.GetClusters" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.GetClusters">
Array&lt;Array&lt;WsfPlatform&gt;&gt; GetClusters<span class="sig-paren">(</span><em class="sig-param"><a class="reference internal" href="wsfplatformlist.html#WsfPlatformList" title="WsfPlatformList">WsfPlatformList</a> objects</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.GetClusters" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.GetClusters">
Array&lt;Array&lt;WsfTrack&gt;&gt; GetClusters<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfTrack&gt; objects</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.GetClusters" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.GetClusters">
Array&lt;Array&lt;WsfLocalTrack&gt;&gt; GetClusters<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfLocalTrack&gt; objects</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.GetClusters" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.GetClusters">
Array&lt;Array&lt;WsfPlatform&gt;&gt; GetClusters<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfPlatform&gt; objects</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.GetClusters" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.GetClusters">
Array&lt;Array&lt;WsfGeoPoint&gt;&gt; GetClusters<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfGeoPoint&gt; objects</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.GetClusters" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.GetClusters">
Array&lt;Array&lt;WsfAssetPerception&gt;&gt; GetClusters<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfAssetPerception&gt; objects</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.GetClusters" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs a clustering algorithm on the objects and returns an array of clusters.  A cluster is an array of objects.</p>
</dd></dl>

</section>
<section id="utility-methods">
<h2>Utility Methods<a class="headerlink" href="#utility-methods" title="Permalink to this headline">¶</a></h2>
<p>These methods provide addition data about your clusters.</p>
<dl class="method">
<dt id="WsfClusterManager.UniqueId">
int UniqueId<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfTrack&gt; cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.UniqueId" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.UniqueId">
int UniqueId<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfLocalTrack&gt; cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.UniqueId" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.UniqueId">
int UniqueId<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfPlatform&gt; cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.UniqueId" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.UniqueId">
int UniqueId<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfGeoPoint&gt; cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.UniqueId" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.UniqueId">
int UniqueId<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfAssetPerception&gt; cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.UniqueId" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a unique ID for the cluster based on the cluster members.  If another cluster happens to have the same exact
members (no more, no less) then it will have the same ID.</p>
</dd></dl>

<dl class="method">
<dt id="WsfClusterManager.ConvexHull">
Array&lt;WsfTrack&gt; ConvexHull<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfTrack&gt; cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.ConvexHull" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.ConvexHull">
Array&lt;WsfLocalTrack&gt; ConvexHull<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfLocalTrack&gt; cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.ConvexHull" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.ConvexHull">
Array&lt;WsfPlatform&gt; ConvexHull<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfPlatform&gt; cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.ConvexHull" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.ConvexHull">
Array&lt;WsfGeoPoint&gt; ConvexHull<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfGeoPoint&gt; cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.ConvexHull" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.ConvexHull">
Array&lt;WsfAssetPerception&gt; ConvexHull<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfAssetPerception&gt; cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.ConvexHull" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the convex hull bounding shape that encapsulates the members of the cluster.
The hull is comprised of cluster member objects that form the shape.</p>
</dd></dl>

<dl class="method">
<dt id="WsfClusterManager.MeanLocation">
<a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> MeanLocation<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfTrack&gt; cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.MeanLocation" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.MeanLocation">
<a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> MeanLocation<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfLocalTrack&gt; cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.MeanLocation" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.MeanLocation">
<a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> MeanLocation<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfPlatform&gt; cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.MeanLocation" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.MeanLocation">
<a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> MeanLocation<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfGeoPoint&gt; cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.MeanLocation" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.MeanLocation">
<a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> MeanLocation<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfAssetPerception&gt; cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.MeanLocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the average position of the members in the cluster.
Similar to center of gravity of the cluster (assuming all members have the same “mass”).</p>
</dd></dl>

<dl class="method">
<dt id="WsfClusterManager.NearestMember">
<a class="reference internal" href="wsftrack.html#WsfTrack" title="WsfTrack">WsfTrack</a> NearestMember<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfTrack&gt; cluster</em>, <em class="sig-param"><a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> refPt</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.NearestMember" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.NearestMember">
<a class="reference internal" href="wsflocaltrack.html#WsfLocalTrack" title="WsfLocalTrack">WsfLocalTrack</a> NearestMember<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfLocalTrack&gt; cluster</em>, <em class="sig-param"><a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> refPt</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.NearestMember" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.NearestMember">
<a class="reference internal" href="wsfplatform.html#WsfPlatform" title="WsfPlatform">WsfPlatform</a> NearestMember<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfPlatform&gt; cluster</em>, <em class="sig-param"><a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> refPt</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.NearestMember" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.NearestMember">
<a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> NearestMember<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfGeoPoint&gt; cluster</em>, <em class="sig-param"><a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> refPt</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.NearestMember" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.NearestMember">
<a class="reference internal" href="wsfassetperception.html#WsfAssetPerception" title="WsfAssetPerception">WsfAssetPerception</a> NearestMember<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfAssetPerception&gt; cluster</em>, <em class="sig-param"><a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> refPt</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.NearestMember" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the nearest cluster member object to the given reference point.</p>
</dd></dl>

<dl class="method">
<dt id="WsfClusterManager.NearestEdgePoint">
Array&lt;Object&gt; NearestEdgePoint<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfTrack&gt; cluster</em>, <em class="sig-param"><a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> refPt</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.NearestEdgePoint" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.NearestEdgePoint">
Array&lt;Object&gt; NearestEdgePoint<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfLocalTrack&gt; cluster</em>, <em class="sig-param"><a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> refPt</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.NearestEdgePoint" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.NearestEdgePoint">
Array&lt;Object&gt; NearestEdgePoint<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfPlatform&gt; cluster</em>, <em class="sig-param"><a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> refPt</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.NearestEdgePoint" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.NearestEdgePoint">
Array&lt;Object&gt; NearestEdgePoint<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfGeoPoint&gt; cluster</em>, <em class="sig-param"><a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> refPt</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.NearestEdgePoint" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.NearestEdgePoint">
Array&lt;Object&gt; NearestEdgePoint<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfAssetPerception&gt; cluster</em>, <em class="sig-param"><a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> refPt</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.NearestEdgePoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the nearest cluster edge point of the cluster to the given reference point; it also returns
the two indices of cluster members that share the edge of the nearest point.  If the nearest edge point
is on a corner (on a member), then the indices will be the same.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">WsfTrack</span><span class="o">&gt;</span> <span class="n">cluster</span><span class="p">;</span>     <span class="o">//</span><span class="n">filled</span> <span class="k">with</span> <span class="n">tracks</span> <span class="n">somehow</span>
<span class="n">Array</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">vals</span> <span class="o">=</span> <span class="n">manager</span><span class="o">.</span><span class="n">NearestEdgePoint</span><span class="p">(</span><span class="n">cluster</span><span class="p">,</span> <span class="n">PLATFORM</span><span class="o">.</span><span class="n">Location</span><span class="p">());</span>
<span class="nb">int</span>         <span class="n">index1</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">)</span>        <span class="n">vals</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="nb">int</span>         <span class="n">index2</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">)</span>        <span class="n">vals</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="n">WsfGeoPoint</span> <span class="n">point</span>  <span class="o">=</span> <span class="p">(</span><span class="n">WsfGeoPoint</span><span class="p">)</span><span class="n">vals</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="n">WsfTrack</span> <span class="n">member1</span> <span class="o">=</span> <span class="n">cluster</span><span class="p">[</span><span class="n">index1</span><span class="p">];</span>
<span class="n">WsfTrack</span> <span class="n">member2</span> <span class="o">=</span> <span class="n">cluster</span><span class="p">[</span><span class="n">index2</span><span class="p">];</span>
</pre></div>
</div>
<p>Image key: three clusters rendered (type: hull) with draw() using a purple color. The yellow point is the reference point. The green line is drawn to the nearest edge point. The blue lines are drawn to the members that share the edge point (given by the two indices returned).</p>
</dd></dl>

<img alt="../../_images/nearest_edge_point.png" src="../../_images/nearest_edge_point.png" />
<dl class="method">
<dt id="WsfClusterManager.Draw">
void Draw<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfTrack&gt; cluster</em>, <em class="sig-param">double duration</em>, <em class="sig-param"><a class="reference internal" href="vec3.html#Vec3" title="Vec3">Vec3</a> color</em>, <em class="sig-param"><a class="reference internal" href="string.html#string" title="string">string</a> type</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.Draw" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.Draw">
void Draw<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfLocalTrack&gt; cluster</em>, <em class="sig-param">double duration</em>, <em class="sig-param"><a class="reference internal" href="vec3.html#Vec3" title="Vec3">Vec3</a> color</em>, <em class="sig-param"><a class="reference internal" href="string.html#string" title="string">string</a> type</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.Draw" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.Draw">
void Draw<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfPlatform&gt; cluster</em>, <em class="sig-param">double duration</em>, <em class="sig-param"><a class="reference internal" href="vec3.html#Vec3" title="Vec3">Vec3</a> color</em>, <em class="sig-param"><a class="reference internal" href="string.html#string" title="string">string</a> type</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.Draw" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.Draw">
void Draw<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfGeoPoint&gt; cluster</em>, <em class="sig-param">double duration</em>, <em class="sig-param"><a class="reference internal" href="vec3.html#Vec3" title="Vec3">Vec3</a> color</em>, <em class="sig-param"><a class="reference internal" href="string.html#string" title="string">string</a> type</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.Draw" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.Draw">
void Draw<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfAssetPerception&gt; cluster</em>, <em class="sig-param">double duration</em>, <em class="sig-param"><a class="reference internal" href="vec3.html#Vec3" title="Vec3">Vec3</a> color</em>, <em class="sig-param"><a class="reference internal" href="string.html#string" title="string">string</a> type</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.Draw" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws the given ‘cluster’ for ‘duration’ with the ‘color’.  Type can be “hull” or “star”.  Default: “hull”.</p>
</dd></dl>

<dl class="method">
<dt id="WsfClusterManager.CrossLength">
Array&lt;Object&gt; CrossLength<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfTrack&gt; cluster</em>, <em class="sig-param"><a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> refPt</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.CrossLength" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.CrossLength">
Array&lt;Object&gt; CrossLength<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfLocalTrack&gt; cluster</em>, <em class="sig-param"><a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> refPt</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.CrossLength" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.CrossLength">
Array&lt;Object&gt; CrossLength<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfPlatform&gt; cluster</em>, <em class="sig-param"><a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> refPt</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.CrossLength" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.CrossLength">
Array&lt;Object&gt; CrossLength<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfGeoPoint&gt; cluster</em>, <em class="sig-param"><a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> refPt</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.CrossLength" title="Permalink to this definition">¶</a></dt>
<dt id="WsfClusterManager.CrossLength">
Array&lt;Object&gt; CrossLength<span class="sig-paren">(</span><em class="sig-param">Array&lt;WsfAssetPerception&gt; cluster</em>, <em class="sig-param"><a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> refPt</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfClusterManager.CrossLength" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the cross beam of the cluster relative to the reference point; it also returns the two end points of the cross beam.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Array</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">vals</span> <span class="o">=</span> <span class="n">manager</span><span class="o">.</span><span class="n">CrossLength</span><span class="p">(</span><span class="n">cluster</span><span class="p">,</span> <span class="n">PLATFORM</span><span class="o">.</span><span class="n">Location</span><span class="p">());</span>
<span class="n">double</span>      <span class="n">length</span> <span class="o">=</span> <span class="p">(</span><span class="n">double</span><span class="p">)</span>     <span class="n">vals</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="n">WsfGeoPoint</span> <span class="n">left</span>   <span class="o">=</span> <span class="p">(</span><span class="n">WsfGeoPoint</span><span class="p">)</span><span class="n">vals</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="n">WsfGeoPoint</span> <span class="n">right</span>  <span class="o">=</span> <span class="p">(</span><span class="n">WsfGeoPoint</span><span class="p">)</span><span class="n">vals</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
</pre></div>
</div>
<p>Image key: three clusters rendered (type: hull) with draw() using a purple color. The yellow point is the reference point. The gray lines are to the mean locations of the clusters. The black line is the cross beam line (relative to the yellow point) which is drawn between the two points returned.</p>
</dd></dl>

<img alt="../../_images/cross_length.png" src="../../_images/cross_length.png" />
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>end_time 5 min
dis_interface
   record replay.rep
end_dis_interface

platform tracker WSF_PLATFORM
  add mover WSF_AIR_MOVER
  end_mover
  route position 0.0n 0.1w altitude 10 km heading 90 deg speed 400 kts end_route
  add sensor geom-1 WSF_GEOMETRIC_SENSOR
     frame_time 1 s
     maximum_range 20 km
     azimuth_error_sigma 10 deg
     elevation_error_sigma 10 deg
     range_error_sigma 1000 m
     reports_location
     reports_velocity
     processor track_processor
     on
  end_sensor
  add processor track_processor WSF_TRACK_PROCESSOR end_processor

  script_variables
     WsfClusterManager manager = WsfClusterManager.Create();
  end_script_variables

  execute at_time .1 s absolute
      manager.SetClusterMethod(&quot;H_TREE_MAX&quot;);
      manager.SetDistanceFunction(&quot;POSITION_VELOCITY&quot;);
      manager.SetDistanceLimit(9260); # 5nm
  end_execute

  execute at_interval_of 5.0 s
    WsfLocalTrackList tracks = PLATFORM.MasterTrackList();
    Array&lt;Array&lt;WsfLocalTrack&gt;&gt; trackClusters = manager.GetClusters(tracks);
    foreach(Array&lt;WsfLocalTrack&gt; cluster in trackClusters)
    {
       manager.Draw(cluster, 5, Vec3.Construct(1,0,1), &quot;hull&quot;);  #draw purple colored cluster hull for 5 seconds
       int id = manager.UniqueId(cluster);
       foreach(WsfLocalTrack member in cluster)
       {
          writeln(&quot;cluster &quot;, id,&quot; member: &quot;, member.TargetName());
       }
       Array&lt;WsfLocalTrack&gt; hull = manager.ConvexHull(cluster);
       WsfGeoPoint mean = manager.MeanLocation(cluster);
       WsfTrack member = manager.NearestMember(cluster, PLATFORM.Location());
       Array&lt;Object&gt; vals = manager.NearestEdgePoint(cluster, PLATFORM.Location());
       Array&lt;Object&gt; vals = manager.CrossLength(cluster, PLATFORM.Location());
    }
  end_execute
end_platform

//put at least 2 targets out there, to make it interesting (why cluster just one?).
platform target WSF_PLATFORM
  add mover WSF_AIR_MOVER end_mover
  route position 0.0n 0.0e altitude 10 km heading 90 deg speed 400 kts end_route
end_platform
platform target_2 WSF_PLATFORM
  add mover WSF_AIR_MOVER end_mover
  route position 0.0n 0.05w altitude 10 km heading 90 deg speed 400 kts end_route
end_platform
</pre></div>
</div>
</section>
</section>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    <p class="logo"><a href="../main_page.html">
      <img class="logo" src="../../_static/sidebar_logo.png" alt="Logo"/>
    </a></p>
  

<script src="../../_static/extension.js"></script>
<p>
   <ul class="Core-menu">
      <li><a href="../main_page.html">Main Page</a></li>
      <li><a href="../changelog/afsim_2.9.html">Changelog</a> | <a href="../afsim_change_log.html">History</a></li>
      <li><a href="../documents.html">Documents</a></li>
      <li><a href="../security_info.html">Security Information</a></li>
      <li><a href="../contact_info.html">Contact Information</a></li>
   </ul>
</p>

<br>
<hr>
<br>

<p>
   <h3>Core Apps</h3>
   <ul class="Core-menu">
     <li><a href="../wsf_core.html">Main Page</a></li>
     <li><a href="../wsf_reference_guide.html">Reference Guide</a></li>
     <li><a href="../changelog/wsf_2.9.html">Changelog</a> | <a href="../wsf_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Demos</h3>
   <ul class="DEMOS-menu">
     <li><a href="../changelog/demos_2.9.html">Changelog</a> | <a href="../demos_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Mystic</h3>
   <ul class="Mystic-menu">
     <li><a href="../mystic.html">Main Page</a></li>
     <li><a href="../mystic_users_guide.html">User's Guide</a></li>
     <li><a href="../mystic_reference_guide.html">Reference Guide</a></li>
     <li><a href="../pymystic.html">Batch Processing</a></li>
     <li><a href="../changelog/mystic_2.9.html">Changelog</a> | <a href="../mystic_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Warlock</h3>
   <ul class="WARLOCK-menu">
     <li><a href="../warlock.html">Main Page</a></li>
     <li><a href="../warlock_users_guide.html">User's Guide</a></li>
     <li><a href="../warlock_reference_guide.html">Reference Guide</a></li>
     <li><a href="../changelog/warlock_2.9.html">Changelog</a> | <a href="../warlock_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Wizard</h3>
   <ul class="WIZARD-menu">
     <li><a href="../wizard.html">Main Page</a></li>
     <li><a href="../wizard_users_guide.html">User's Guide</a></li>
     <li><a href="../wizard_reference_guide.html">Reference Guide</a></li>
     <li><a href="../changelog/wizard_2.9.html">Changelog</a> | <a href="../wizard_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>EVT Reader</h3>
   <ul class="EvtReader-menu">
     <li><a href="../evtreader.html">Main Page</a></li>
   </ul>
</p>

<p>
   <h3>Mover Creator</h3>
   <ul class="MoverCreator-menu">
     <li><a href="../mover_creator.html">Main Page</a></li>
     <li><a href="../mc_users_guide.html">User's Guide</a></li>
     <li><a href="../mc_reference_guide.html">Reference Guide</a></li>
     <li><a href="../changelog/mover_creator_2.9.html">Changelog</a> | <a href="../mc_change_log.html">History</a></li>
   </ul>
</p>

<br>
<hr>
<br>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/docs/script/wsfclustermanager.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="wsfcomm.html" title="WsfComm"
             >next</a> |</li>
        <li class="right" >
          <a href="wsfcircularize.html" title="WsfCircularize"
             >previous</a> |</li>
  <li>
    <img src="../../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="../main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Multiple, All Rights Reserved.
      Last updated on Feb 25, 2022.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>