
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>WsfZoneRouteFinder &#8212; AFSIM 2.9.0 Documentation</title>
    <link rel="stylesheet" href="../../_static/wsftheme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/collapse.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/admonition.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/table.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/pseudo-header.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/pseudo-topic.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/quick-search.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/collapse_sections.js"></script>
    
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Script Commands" href="../script_commands.html" />
    <link rel="prev" title="WsfZone" href="wsfzone.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="../script_commands.html" title="Script Commands"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="wsfzone.html" title="WsfZone"
             accesskey="P">previous</a> |</li>
  <li>
    <img src="../../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="../main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="wsfzoneroutefinder">
<h1>WsfZoneRouteFinder<a class="headerlink" href="#wsfzoneroutefinder" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt>
WsfZoneRouteFinder  inherits <a class="reference internal" href="wsfobject.html#WsfObject" title="WsfObject">WsfObject</a><p><div class="line"><strong> Construction: </strong><code class="docutils literal notranslate"><span class="pre">WsfZoneRouteFinder</span> <span class="pre">newObj</span> <span class="pre">=</span> <span class="pre">WsfZoneRouteFinder();</span></code></div>
</p>
</dt>
<dd></dd></dl>

<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Use the WsfZoneRouteFinder in script to find a safe route around any number and combination of polygonal lat/lon zones.  The WsfZoneRouteFinder works in the general case, meaning that zones can be overlapping, containing, or disjoint and a route is still found if at all possible.</p>
</section>
<section id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="WsfZoneRouteFinder.AvoidZone">
void AvoidZone<span class="sig-paren">(</span><em class="sig-param"><a class="reference internal" href="wsfzone.html#WsfZone" title="WsfZone">WsfZone</a> aZone</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfZoneRouteFinder.AvoidZone" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="WsfZoneRouteFinder.AvoidZone">
void AvoidZone<span class="sig-paren">(</span><em class="sig-param"><a class="reference internal" href="string.html#string" title="string">string</a> aZoneName</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfZoneRouteFinder.AvoidZone" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell the zone route finder to avoid a particular zone.  You can provide the zone name or a zone object.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All zones must be polygonal lat/lon zones.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="WsfZoneRouteFinder.NumberOfAvoidanceZones">
int NumberOfAvoidanceZones<span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#WsfZoneRouteFinder.NumberOfAvoidanceZones" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of avoidance zones.</p>
</dd></dl>

<dl class="method">
<dt id="WsfZoneRouteFinder.GetAvoidanceZone">
<a class="reference internal" href="wsfzone.html#WsfZone" title="WsfZone">WsfZone</a> GetAvoidanceZone<span class="sig-paren">(</span><em class="sig-param">int aIndex</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfZoneRouteFinder.GetAvoidanceZone" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the entry at the specified <em>aIndex</em> in the list of avoidance zones, if <em>aIndex</em> is in the valid range; otherwise returns a null reference.</p>
</dd></dl>

<dl class="method">
<dt id="WsfZoneRouteFinder.">
void ClearAvoidanceZones <span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#WsfZoneRouteFinder." title="Permalink to this definition">¶</a></dt>
<dd><p>Clear all previously defined avoid zone commands from the zone route finder.</p>
</dd></dl>

<dl class="method">
<dt id="WsfZoneRouteFinder.RouteAroundZones">
<a class="reference internal" href="wsfroute.html#WsfRoute" title="WsfRoute">WsfRoute</a> RouteAroundZones<span class="sig-paren">(</span><em class="sig-param"><a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> aStart</em>, <em class="sig-param"><a class="reference internal" href="wsfgeopoint.html#WsfGeoPoint" title="WsfGeoPoint">WsfGeoPoint</a> aEnd</em>, <em class="sig-param">double speed</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfZoneRouteFinder.RouteAroundZones" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the best (shortest) route around all avoidance zones and returns it.  If either the starting or ending locations are contained within an avoidance zone, then finder intelligently shifts those points to nearby locations outside the zones.  If the route is somehow impossible (start and end are cut off from each other or surrounded) then the route returned will be empty.</p>
</dd></dl>

<dl class="method">
<dt id="WsfZoneRouteFinder.">
void DrawGraph <span class="sig-paren">(</span><em class="sig-param">double aDuration</em>, <em class="sig-param"><a class="reference internal" href="vec3.html#Vec3" title="Vec3">Vec3</a> aColor</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfZoneRouteFinder." title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="WsfZoneRouteFinder.">
void DrawAvoidances <span class="sig-paren">(</span><em class="sig-param">double aDuration</em>, <em class="sig-param"><a class="reference internal" href="vec3.html#Vec3" title="Vec3">Vec3</a> aColor</em><span class="sig-paren">)</span><a class="headerlink" href="#WsfZoneRouteFinder." title="Permalink to this definition">¶</a></dt>
<dd><p>Draw a datum of the zone route finder using the given color lasting for the given duration.  DrawGraph will show all possible routes around the zones.  DrawAvoidances will display all polygonal zones it is avoiding.</p>
</dd></dl>

</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>This example has “player-1” use a WsfRouteFinder to route to the “target” platform while avoiding two static regions.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">end_time</span> <span class="mi">1200</span> <span class="n">sec</span>
<span class="n">dis_interface</span> <span class="n">record</span> <span class="n">zone_route_finder_1</span><span class="o">.</span><span class="n">rep</span> <span class="n">end_dis_interface</span>

<span class="n">zone</span> <span class="n">crown_zone</span>
  <span class="n">polygonal</span>
  <span class="n">lat_lon</span>
  <span class="n">point</span> <span class="mi">15</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mf">03.43</span><span class="n">s</span> <span class="mi">47</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mf">50.48</span><span class="n">e</span>
  <span class="n">point</span> <span class="mi">14</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="mf">32.73</span><span class="n">s</span> <span class="mi">48</span><span class="p">:</span><span class="mi">08</span><span class="p">:</span><span class="mf">10.60</span><span class="n">e</span>
  <span class="n">point</span> <span class="mi">14</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mf">34.83</span><span class="n">s</span> <span class="mi">48</span><span class="p">:</span><span class="mi">51</span><span class="p">:</span><span class="mf">40.79</span><span class="n">e</span>
  <span class="n">point</span> <span class="mi">14</span><span class="p">:</span><span class="mi">44</span><span class="p">:</span><span class="mf">05.75</span><span class="n">s</span> <span class="mi">48</span><span class="p">:</span><span class="mi">16</span><span class="p">:</span><span class="mf">38.58</span><span class="n">e</span>
  <span class="n">point</span> <span class="mi">15</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mf">40.66</span><span class="n">s</span> <span class="mi">48</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mf">42.78</span><span class="n">e</span>
  <span class="n">point</span> <span class="mi">15</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mf">11.55</span><span class="n">s</span> <span class="mi">48</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mf">50.11</span><span class="n">e</span>
  <span class="n">point</span> <span class="mi">15</span><span class="p">:</span><span class="mi">44</span><span class="p">:</span><span class="mf">09.04</span><span class="n">s</span> <span class="mi">48</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span><span class="mf">38.06</span><span class="n">e</span>
<span class="n">end_zone</span>

<span class="n">zone</span> <span class="n">poly_zone</span>
  <span class="n">polygonal</span>
  <span class="n">lat_lon</span>
  <span class="n">point</span> <span class="mi">13</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mf">11.27</span><span class="n">s</span> <span class="mi">48</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mf">54.76</span><span class="n">e</span>
  <span class="n">point</span> <span class="mi">13</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mf">43.68</span><span class="n">s</span> <span class="mi">49</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mf">45.98</span><span class="n">e</span>
  <span class="n">point</span> <span class="mi">14</span><span class="p">:</span><span class="mi">08</span><span class="p">:</span><span class="mf">43.62</span><span class="n">s</span> <span class="mi">49</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mf">04.57</span><span class="n">e</span>
  <span class="n">point</span> <span class="mi">14</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">02.04</span><span class="n">s</span> <span class="mi">48</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mf">11.21</span><span class="n">e</span>
<span class="n">end_zone</span>

<span class="n">platform</span>  <span class="n">target</span>  <span class="n">WSF_PLATFORM</span>
  <span class="n">side</span> <span class="n">red</span>
  <span class="n">icon</span> <span class="n">bullseye</span>
  <span class="n">position</span> <span class="mi">13</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mi">39</span><span class="n">s</span> <span class="mi">48</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">24</span><span class="n">e</span> <span class="n">altitude</span> <span class="mi">20000</span> <span class="n">ft</span>
<span class="n">end_platform</span>

<span class="n">platform</span>  <span class="n">router</span>  <span class="n">WSF_PLATFORM</span>
  <span class="n">side</span> <span class="n">blue</span>
  <span class="n">icon</span> <span class="n">F</span><span class="o">-</span><span class="mi">18</span>
  <span class="n">add</span> <span class="n">mover</span> <span class="n">WSF_AIR_MOVER</span>
    <span class="n">at_end_of_path</span> <span class="n">stop</span>
  <span class="n">end_mover</span>
  <span class="n">route</span>
    <span class="n">position</span> <span class="mi">15</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">04</span><span class="n">s</span> <span class="mi">49</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">50</span><span class="n">e</span> <span class="n">altitude</span> <span class="mi">35000</span> <span class="n">ft</span> <span class="n">msl</span> <span class="n">speed</span> <span class="mi">250</span> <span class="n">m</span><span class="o">/</span><span class="n">s</span>
  <span class="n">end_route</span>
  <span class="n">on_initialize2</span>
    <span class="n">WsfZoneRouteFinder</span> <span class="n">finder</span> <span class="o">=</span> <span class="n">WsfZoneRouteFinder</span><span class="p">();</span>
    <span class="n">finder</span><span class="o">.</span><span class="n">AvoidZone</span><span class="p">(</span><span class="s2">&quot;crown_zone&quot;</span><span class="p">);</span>   <span class="c1">#avoid zone by name</span>
    <span class="n">WsfZone</span> <span class="n">polyZone</span> <span class="o">=</span> <span class="n">WsfZone</span><span class="o">.</span><span class="n">FindZone</span><span class="p">(</span><span class="s2">&quot;poly_zone&quot;</span><span class="p">);</span>
    <span class="n">finder</span><span class="o">.</span><span class="n">AvoidZone</span><span class="p">(</span><span class="n">polyZone</span><span class="p">);</span>       <span class="c1">#avoid zone by script object</span>
    <span class="n">WsfGeoPoint</span> <span class="n">tgt</span> <span class="o">=</span> <span class="n">WsfSimulation</span><span class="o">.</span><span class="n">FindPlatform</span><span class="p">(</span><span class="s2">&quot;target&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Location</span><span class="p">();</span>
    <span class="n">WsfRoute</span> <span class="n">path</span> <span class="o">=</span> <span class="n">finder</span><span class="o">.</span><span class="n">RouteAroundZones</span><span class="p">(</span><span class="n">PLATFORM</span><span class="o">.</span><span class="n">Location</span><span class="p">(),</span> <span class="n">tgt</span><span class="p">,</span> <span class="mi">250</span><span class="p">);</span>
    <span class="n">finder</span><span class="o">.</span><span class="n">DrawAvoidances</span><span class="p">(</span><span class="mi">1200</span><span class="p">,</span><span class="n">Vec3</span><span class="o">.</span><span class="n">Construct</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">));</span>
    <span class="n">finder</span><span class="o">.</span><span class="n">DrawGraph</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="n">Vec3</span><span class="o">.</span><span class="n">Construct</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.8</span><span class="p">,</span><span class="mi">0</span><span class="p">));</span>
    <span class="n">PLATFORM</span><span class="o">.</span><span class="n">SetRoute</span><span class="p">(</span><span class="n">path</span><span class="p">);</span>
  <span class="n">end_on_initialize2</span>
<span class="n">end_platform</span>
</pre></div>
</div>
<img alt="../../_images/zoneroutefinder.png" src="../../_images/zoneroutefinder.png" />
</section>
</section>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    <p class="logo"><a href="../main_page.html">
      <img class="logo" src="../../_static/sidebar_logo.png" alt="Logo"/>
    </a></p>
  

<script src="../../_static/extension.js"></script>
<p>
   <ul class="Core-menu">
      <li><a href="../main_page.html">Main Page</a></li>
      <li><a href="../changelog/afsim_2.9.html">Changelog</a> | <a href="../afsim_change_log.html">History</a></li>
      <li><a href="../documents.html">Documents</a></li>
      <li><a href="../security_info.html">Security Information</a></li>
      <li><a href="../contact_info.html">Contact Information</a></li>
   </ul>
</p>

<br>
<hr>
<br>

<p>
   <h3>Core Apps</h3>
   <ul class="Core-menu">
     <li><a href="../wsf_core.html">Main Page</a></li>
     <li><a href="../wsf_reference_guide.html">Reference Guide</a></li>
     <li><a href="../changelog/wsf_2.9.html">Changelog</a> | <a href="../wsf_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Demos</h3>
   <ul class="DEMOS-menu">
     <li><a href="../changelog/demos_2.9.html">Changelog</a> | <a href="../demos_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Mystic</h3>
   <ul class="Mystic-menu">
     <li><a href="../mystic.html">Main Page</a></li>
     <li><a href="../mystic_users_guide.html">User's Guide</a></li>
     <li><a href="../mystic_reference_guide.html">Reference Guide</a></li>
     <li><a href="../pymystic.html">Batch Processing</a></li>
     <li><a href="../changelog/mystic_2.9.html">Changelog</a> | <a href="../mystic_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Warlock</h3>
   <ul class="WARLOCK-menu">
     <li><a href="../warlock.html">Main Page</a></li>
     <li><a href="../warlock_users_guide.html">User's Guide</a></li>
     <li><a href="../warlock_reference_guide.html">Reference Guide</a></li>
     <li><a href="../changelog/warlock_2.9.html">Changelog</a> | <a href="../warlock_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Wizard</h3>
   <ul class="WIZARD-menu">
     <li><a href="../wizard.html">Main Page</a></li>
     <li><a href="../wizard_users_guide.html">User's Guide</a></li>
     <li><a href="../wizard_reference_guide.html">Reference Guide</a></li>
     <li><a href="../changelog/wizard_2.9.html">Changelog</a> | <a href="../wizard_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>EVT Reader</h3>
   <ul class="EvtReader-menu">
     <li><a href="../evtreader.html">Main Page</a></li>
   </ul>
</p>

<p>
   <h3>Mover Creator</h3>
   <ul class="MoverCreator-menu">
     <li><a href="../mover_creator.html">Main Page</a></li>
     <li><a href="../mc_users_guide.html">User's Guide</a></li>
     <li><a href="../mc_reference_guide.html">Reference Guide</a></li>
     <li><a href="../changelog/mover_creator_2.9.html">Changelog</a> | <a href="../mc_change_log.html">History</a></li>
   </ul>
</p>

<br>
<hr>
<br>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/docs/script/wsfzoneroutefinder.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="../script_commands.html" title="Script Commands"
             >next</a> |</li>
        <li class="right" >
          <a href="wsfzone.html" title="WsfZone"
             >previous</a> |</li>
  <li>
    <img src="../../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="../main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Multiple, All Rights Reserved.
      Last updated on Feb 25, 2022.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>