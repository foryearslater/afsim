
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Script Commands &#8212; AFSIM 2.9.0 Documentation</title>
    <link rel="stylesheet" href="../_static/wsftheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/collapse.css" />
    <link rel="stylesheet" type="text/css" href="../_static/admonition.css" />
    <link rel="stylesheet" type="text/css" href="../_static/table.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pseudo-header.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pseudo-topic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/quick-search.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/collapse_sections.js"></script>
    
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Script demo 1.txt" href="script_demo_1.txt.html" />
    <link rel="prev" title="WsfZoneRouteFinder" href="script/wsfzoneroutefinder.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="script_demo_1.txt.html" title="Script demo 1.txt"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="script/wsfzoneroutefinder.html" title="WsfZoneRouteFinder"
             accesskey="P">previous</a> |</li>
  <li>
    <img src="../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="script-commands">
<span id="id1"></span><h1>Script Commands<a class="headerlink" href="#script-commands" title="Permalink to this headline">¶</a></h1>
<dl class="command">
<dt id="_.script_commands.script_call_trace">
<span id="script_commands.script_call_trace"></span><span id="script_call_trace"></span>script_call_trace [ off | on ]<a class="headerlink" href="#_.script_commands.script_call_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls whether a trace of script method calls will be written to standard output. This can be very useful for
debugging complex scripts. If enabled, a line indicating the time, platform, platform part name and script name is
written prior to calling the method. Upon return from the method another line is written which contains the function
return value.</p>
<p>This command can appear at the global level, inside a platform or inside a platform component. The default global value
is false. If this command is specified at the global level then it will apply to all platforms and their components for
which a value has not been explicitly defined. If this occurs at the platform level then it applies to the platform and
any component on the platform for which a value has not been explicitly defined.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The resulting trace only includes scripts that are <strong>directly</strong> invoked from WSF. It does not
include scripts that are invoked by the scripts. This will probably be implemented in a future release.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This can produce <strong>a lot</strong> of output (especially when used at the global level).</p>
</div>
</dd></dl>

<dl class="command">
<dt id="_.script_commands.script_debug_writes">
<span id="script_commands.script_debug_writes"></span><span id="script_debug_writes"></span>script_debug_writes [ off | on ]<a class="headerlink" href="#_.script_commands.script_debug_writes" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls whether the script debug write statements write_d and writeln_d are executed. If enabled, write_d and
writeln_d statements are executed.</p>
<p>This command can appear at the global level, inside a platform or inside a platform component. The default global value
is false. If this command is specified at the global level then it will apply to all platforms and their components for
which a value has not been explicitly defined. If this occurs at the platform level then it applies to the platform and
any component on the platform for which a value has not been explicitly defined.</p>
<p>The “write_d” writes a line without a carriage return.
The “writeln_d” writes a line with a carriage return.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The use of “write” and “writeln” are not affected by this command.</p>
</div>
</dd></dl>

<dl class="command">
<dt id="_.script_commands.script_abort_on_null_references">
<span id="script_commands.script_abort_on_null_references"></span><span id="script_abort_on_null_references"></span>script_abort_on_null_references [ off | on ]<a class="headerlink" href="#_.script_commands.script_abort_on_null_references" title="Permalink to this definition">¶</a></dt>
<dd><p>When a script method is called with an invalid object or argument, an error is printed to the screen.  When this option
is enabled, the application will also terminate immediately.  This command is only available in a global context.</p>
<p><strong>Default:</strong> off</p>
</dd></dl>

<dl class="command">
<dt id="_.script_commands.script_abort_on_assert">
<span id="script_commands.script_abort_on_assert"></span><span id="script_abort_on_assert"></span>script_abort_on_assert [ off | on]<a class="headerlink" href="#_.script_commands.script_abort_on_assert" title="Permalink to this definition">¶</a></dt>
<dd><p>When a call to <a class="reference internal" href="script/builtin.html#__BUILTIN__.assert" title="__BUILTIN__.assert"><span class="xref wsf wsf-method">assert()</span></a> in script fails, the application will usually abort.  Setting this option to
‘off’ will still print an error but will not abort the application.</p>
<p><strong>Default:</strong> on</p>
</dd></dl>

<dl class="command">
<dt id="_.script_commands.script">
<span id="script_commands.script"></span><span id="script"></span>script … end_script<a class="headerlink" href="#_.script_commands.script" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines a script.</p>
</dd></dl>

<dl class="command">
<dt id="_.script_commands.script_variables">
<span id="script_commands.script_variables"></span><span id="script_variables"></span>script_variables … end_script_variables<a class="headerlink" href="#_.script_commands.script_variables" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Allows users to declare a set of variables that are accessible to scripts within a given context. For example, if the
<a class="reference internal" href="#script_variables">script_variables</a> command is used inside the platform command, then all scripts defined within that platform have
access to the variables that are defined. In addition, any scriptable platform parts can access their parents variables
by using the <strong>extern</strong> keyword.</p>
<p>The <a class="reference internal" href="#script_variables">script_variables</a> block accepts standard <a class="reference internal" href="#_.script_commands.script" title="script (_.script_commands)"><span class="xref wsf wsf-command">script</span></a> variable declaration, definition and assignment commands
with the exception that definition and assignment cannot invoke functions or other scripts.</p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">platform_type</span> <span class="n">MY_PLATFORM_TYPE</span> <span class="n">WSF_PLATFORM</span>
   <span class="n">script_variables</span>
      <span class="nb">int</span> <span class="n">mMyInt</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>
      <span class="nb">int</span> <span class="n">mMyDouble</span> <span class="o">=</span> <span class="mf">1.23456</span><span class="p">;</span>

      <span class="n">Array</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">mMyArray</span> <span class="o">=</span> <span class="n">Array</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span><span class="p">();</span>
      <span class="n">mMyArray</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;hello&#39;</span><span class="p">;</span>
      <span class="n">mMyArray</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;world&#39;</span><span class="p">;</span>

      <span class="n">mMyDouble</span> <span class="o">=</span> <span class="o">-</span><span class="n">mMyDouble</span><span class="p">;</span>
      <span class="n">mMyInt</span> <span class="o">=</span> <span class="n">mMyDouble</span> <span class="o">+</span> <span class="mi">100</span><span class="p">;</span>
   <span class="n">end_script_variables</span>

   <span class="n">on_initialize</span>
      <span class="n">writeln</span><span class="p">(</span><span class="s2">&quot;mMyInt=&quot;</span><span class="p">,</span> <span class="n">mMyInt</span><span class="p">);</span>    <span class="o">//</span> <span class="n">The</span> <span class="n">on_initialize</span> <span class="n">script</span> <span class="n">can</span> <span class="n">access</span> <span class="n">the</span> <span class="n">mMyInt</span> <span class="n">variable</span>
                                     <span class="o">//</span> <span class="n">that</span> <span class="n">was</span> <span class="n">defined</span> <span class="ow">in</span> <span class="n">current</span> <span class="n">context</span> <span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="p">,</span> <span class="n">the</span> <span class="n">platform</span><span class="p">)</span><span class="o">.</span>
   <span class="n">end_on_initialize</span>

   <span class="n">processor</span> <span class="n">script</span><span class="o">-</span><span class="n">processor</span><span class="o">-</span><span class="mi">1</span> <span class="n">WSF_SCRIPT_PROCESSOR</span>
      <span class="n">on_initialize</span>
         <span class="n">extern</span> <span class="nb">int</span> <span class="n">mMyInt</span><span class="p">;</span>          <span class="o">//</span> <span class="n">To</span> <span class="n">access</span> <span class="n">the</span> <span class="n">mMyInt</span> <span class="n">variable</span> <span class="n">defined</span> <span class="n">by</span> <span class="n">the</span> <span class="n">parent</span> <span class="n">platform</span> <span class="n">the</span>
                                     <span class="o">//</span> <span class="n">script</span> <span class="n">processor</span> <span class="n">must</span> <span class="n">first</span> <span class="n">extern</span> <span class="n">it</span><span class="o">.</span>
         <span class="n">writeln</span><span class="p">(</span><span class="s2">&quot;mMyInt=&quot;</span><span class="p">,</span> <span class="n">mMyInt</span><span class="p">);</span>
      <span class="n">end_on_initialize</span>
   <span class="n">end_processor</span>

   <span class="n">processor</span> <span class="n">script</span><span class="o">-</span><span class="n">processor</span><span class="o">-</span><span class="mi">2</span> <span class="n">WSF_SCRIPT_PROCESSOR</span>
      <span class="n">script_variables</span>
         <span class="nb">int</span> <span class="n">mMyInt</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>            <span class="o">//</span> <span class="n">If</span> <span class="n">a</span> <span class="n">child</span> <span class="n">context</span> <span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="p">,</span> <span class="n">the</span> <span class="n">script</span> <span class="n">processor</span><span class="p">)</span> <span class="n">defines</span> <span class="n">a</span> <span class="n">script</span> <span class="n">variable</span>
                                     <span class="o">//</span> <span class="k">with</span> <span class="n">the</span> <span class="n">same</span> <span class="n">name</span> <span class="k">as</span> <span class="n">a</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">parent</span><span class="s1">&#39;s context (i.e., the platform)</span>
                                     <span class="o">//</span> <span class="n">it</span> <span class="n">creates</span> <span class="n">its</span> <span class="n">own</span> <span class="n">copy</span> <span class="n">that</span> <span class="ow">is</span> <span class="n">independent</span> <span class="n">of</span> <span class="n">the</span> <span class="n">parents</span><span class="o">.</span>
      <span class="n">end_script_variables</span>

      <span class="n">on_initialize</span>
         <span class="n">writeln</span><span class="p">(</span><span class="s2">&quot;mMyInt=&quot;</span><span class="p">,</span> <span class="n">mMyInt</span><span class="p">);</span> <span class="o">//</span> <span class="n">This</span> <span class="n">will</span> <span class="nb">print</span> <span class="mf">12.</span>
      <span class="n">end_on_initialize</span>
   <span class="n">end_processor</span>
<span class="n">end_platform</span>
</pre></div>
</div>
</dd></dl>

<dl class="command">
<dt id="_.script_commands.script_interface">
<span id="script_commands.script_interface"></span><span id="script_interface"></span>script_interface … end_script_interface<a class="headerlink" href="#_.script_commands.script_interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Configures the scripting system.
Multiple <a class="reference internal" href="#script_interface">script_interface</a> blocks may be provided. If the same subcommand is specified in multiple blocks then
the last value given will be used</p>
</dd></dl>

<section id="subcommands">
<h2>SUBCOMMANDS<a class="headerlink" href="#subcommands" title="Permalink to this headline">¶</a></h2>
<dl class="command">
<dt id="_.script_commands.debug">
<span id="script_commands.debug"></span><span id="debug"></span>debug<a class="headerlink" href="#_.script_commands.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells the compiler to produce a source listing and any errors that may occur during compilation (by default debug
output is turned off).</p>
</dd></dl>

<dl class="command">
<dt id="_.script_commands.no_debug">
<span id="script_commands.no_debug"></span><span id="no_debug"></span>no_debug<a class="headerlink" href="#_.script_commands.no_debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells the compiler not to produce the source and detailed error listing. The compiler will still display a simple
message if an error occurs during compilation.</p>
</dd></dl>

<dl class="command">
<dt id="_.script_commands.script">
<span id="script_commands.script"></span><span id="script"></span>script … end_script<a class="headerlink" href="#_.script_commands.script" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines a script that is callable by all platforms in the simulation.</p>
</dd></dl>

</section>
</section>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    <p class="logo"><a href="main_page.html">
      <img class="logo" src="../_static/sidebar_logo.png" alt="Logo"/>
    </a></p>
  

<script src="../_static/extension.js"></script>
<p>
   <ul class="Core-menu">
      <li><a href="main_page.html">Main Page</a></li>
      <li><a href="changelog/afsim_2.9.html">Changelog</a> | <a href="afsim_change_log.html">History</a></li>
      <li><a href="documents.html">Documents</a></li>
      <li><a href="security_info.html">Security Information</a></li>
      <li><a href="contact_info.html">Contact Information</a></li>
   </ul>
</p>

<br>
<hr>
<br>

<p>
   <h3>Core Apps</h3>
   <ul class="Core-menu">
     <li><a href="wsf_core.html">Main Page</a></li>
     <li><a href="wsf_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/wsf_2.9.html">Changelog</a> | <a href="wsf_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Demos</h3>
   <ul class="DEMOS-menu">
     <li><a href="changelog/demos_2.9.html">Changelog</a> | <a href="demos_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Mystic</h3>
   <ul class="Mystic-menu">
     <li><a href="mystic.html">Main Page</a></li>
     <li><a href="mystic_users_guide.html">User's Guide</a></li>
     <li><a href="mystic_reference_guide.html">Reference Guide</a></li>
     <li><a href="pymystic.html">Batch Processing</a></li>
     <li><a href="changelog/mystic_2.9.html">Changelog</a> | <a href="mystic_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Warlock</h3>
   <ul class="WARLOCK-menu">
     <li><a href="warlock.html">Main Page</a></li>
     <li><a href="warlock_users_guide.html">User's Guide</a></li>
     <li><a href="warlock_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/warlock_2.9.html">Changelog</a> | <a href="warlock_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Wizard</h3>
   <ul class="WIZARD-menu">
     <li><a href="wizard.html">Main Page</a></li>
     <li><a href="wizard_users_guide.html">User's Guide</a></li>
     <li><a href="wizard_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/wizard_2.9.html">Changelog</a> | <a href="wizard_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>EVT Reader</h3>
   <ul class="EvtReader-menu">
     <li><a href="evtreader.html">Main Page</a></li>
   </ul>
</p>

<p>
   <h3>Mover Creator</h3>
   <ul class="MoverCreator-menu">
     <li><a href="mover_creator.html">Main Page</a></li>
     <li><a href="mc_users_guide.html">User's Guide</a></li>
     <li><a href="mc_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/mover_creator_2.9.html">Changelog</a> | <a href="mc_change_log.html">History</a></li>
   </ul>
</p>

<br>
<hr>
<br>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/docs/script_commands.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="script_demo_1.txt.html" title="Script demo 1.txt"
             >next</a> |</li>
        <li class="right" >
          <a href="script/wsfzoneroutefinder.html" title="WsfZoneRouteFinder"
             >previous</a> |</li>
  <li>
    <img src="../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Multiple, All Rights Reserved.
      Last updated on Feb 25, 2022.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>