
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Scenario Importer Demo &#8212; AFSIM 2.9.0 Documentation</title>
    <link rel="stylesheet" href="../../_static/wsftheme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/collapse.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/admonition.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/table.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/pseudo-header.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/pseudo-topic.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/quick-search.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/collapse_sections.js"></script>
    
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Script Debugger - Wizard" href="wiz_script_debugger.html" />
    <link rel="prev" title="Scenario Importer Stages" href="scenario_importer_stages.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="wiz_script_debugger.html" title="Script Debugger - Wizard"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="scenario_importer_stages.html" title="Scenario Importer Stages"
             accesskey="P">previous</a> |</li>
  <li>
    <img src="../../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="../main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../../site_index.html">Site Index</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../wizard_reference_guide.html" >Wizard Reference Guide</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="wiz_scenario_importer.html" accesskey="U">Scenario Importer</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="scenario-importer-demo">
<span id="id1"></span><h1>Scenario Importer Demo<a class="headerlink" href="#scenario-importer-demo" title="Permalink to this headline">¶</a></h1>
<p>To demonstrate how a user might use the Scenario Importer, this section will walk through a use case and describe how one might put together a scenario from raw platform data provided externally.  This demonstration will show how to go from raw external data into a an AFSIM-ready scenario laydown.</p>
<section id="file-input">
<h2>File Input<a class="headerlink" href="#file-input" title="Permalink to this headline">¶</a></h2>
<img alt="../../_images/demo_0_file_loaded.png" class="align-center" src="../../_images/demo_0_file_loaded.png" />
<p>The first step is to load scenario data from the external file. Clicking the “Open file” button will bring up a new window prompting the user to select the input file of interest. If any pre-processing is required then it will be applied in the next step.</p>
</section>
<section id="pre-processing">
<h2>Pre-processing<a class="headerlink" href="#pre-processing" title="Permalink to this headline">¶</a></h2>
<img alt="../../_images/demo_1b_remove_line.png" class="align-center" src="../../_images/demo_1b_remove_line.png" />
<p>Any pre-processing program which the user has written can be loaded into the pre-processor and applied to the raw input. For this example, we have written a simple executable which merely removes the first line of input which contains header information not needed for the following import steps. Any errors or warnings generated by the external command will be written to the Importer’s errors panel, and the output is viewable in the output tab to the bottom right to check for the intended changes.</p>
</section>
<section id="generating-a-parser-table">
<span id="scenario-importer-demo-generating-a-parser-table"></span><h2>Generating a Parser Table<a class="headerlink" href="#generating-a-parser-table" title="Permalink to this headline">¶</a></h2>
<p>Up until this stage the input data has been in a raw form without any capturing or tagging of desired data types. Users may need to generate a parser table to organize data into tagged and named columns. These will be essential to writing a formatting template which will generate the desired scenario file.</p>
<section id="adding-parser-columns">
<h3>Adding Parser Columns<a class="headerlink" href="#adding-parser-columns" title="Permalink to this headline">¶</a></h3>
<img alt="../../_images/demo_3a_parser_add_columns.png" class="align-center" src="../../_images/demo_3a_parser_add_columns.png" />
<p>Columns can be added on the table in the output panel by clicking the upper left <em>‘ + ‘</em> column, or by right clicking and setting the number of columns directly. Columns can be deleted by right clicking their header entries as well.</p>
<p>In this example case, the platforms will have a maximum of 10 unique data entries because the header contains 10 entries.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At any point the user can view previous input or output from the stages by navigating between them on the input and output panels.  This action does not trigger any processing.</p>
</div>
</section>
<section id="reading-multi-line-data-inputs">
<h3>Reading Multi-Line Data Inputs<a class="headerlink" href="#reading-multi-line-data-inputs" title="Permalink to this headline">¶</a></h3>
<img alt="../../_images/bdemo_3b_parser_needs_multiline.png" class="align-center" src="../../_images/bdemo_3b_parser_needs_multiline.png" />
<p>Above, we can see that it appears some of the platform entries have parts and fields which are not on the same line. If the raw data happens to be of this form, the user can check <em>Multi Line Inputs</em>, which will force data entries to fill to the last column. Note that in this example, the entries which do not have sensors and icons - those which are not <em>ew_radar</em> platforms - have extra delimiters which tell the importer to add blank entries to a particular platform entry.</p>
<p>Below we see the proper output with <em>Multi Line Inputs</em> checked; each row contains all the data for a platform within the scenario, the user can now label the data for use in formatting.</p>
<img alt="../../_images/demo_3c_parser_with_multiline.png" class="align-center" src="../../_images/demo_3c_parser_with_multiline.png" />
</section>
<section id="naming-and-tagging-data-entries">
<h3>Naming and Tagging Data Entries<a class="headerlink" href="#naming-and-tagging-data-entries" title="Permalink to this headline">¶</a></h3>
<img alt="../../_images/demo_3d_parser_naming_tagging.png" class="align-center" src="../../_images/demo_3d_parser_naming_tagging.png" />
<p>Next the data columns should be named so that they can be called programatically in the next stage. Clicking on each column header will load its configuration panel, which can be filled in with a name, a non-comma delimiter, and a data type for validation purposes. Labeling the data type is not required, but doing so instructs the importer to check for the validity of the data depending on its type.</p>
<section id="filtering-out-parser-errors">
<h4>Filtering out Parser Errors<a class="headerlink" href="#filtering-out-parser-errors" title="Permalink to this headline">¶</a></h4>
<img alt="../../_images/bdemo_3e_parser_errors.png" class="align-center" src="../../_images/bdemo_3e_parser_errors.png" />
<p>Having named and labeled all of the data entries the parsing stage has thrown up an error and a warning.</p>
<ul class="simple">
<li><p>Error: Invalid token</p></li>
<li><p>Warning: 9 Empty tokens found</p></li>
</ul>
<p>The warning can be ignored in this case; it refers to the empty data entries for the platforms which do not have sensors and icons, which are known to be correct.
Clicking on the error directs us to the data entry which was found to be invalid, in this case the <em>200_ew_radar</em> platform had positional values which were out of the legal range or formatted incorrectly. This could be solved by saving the importer settings up to this point, and going to edit the entries in the input data directly and re-loading the importer. Alternatively, the user may also use the <strong>Filter Stage</strong> to remove that particular entry.</p>
<img alt="../../_images/demo_3f_filter_remove_parser_errors.png" class="align-center" src="../../_images/demo_3f_filter_remove_parser_errors.png" />
<p>Back in the filter stage, the user can add a filter which excludes the lines which make up the <em>200_ew_radar</em> platform. Note that the Multi-line setting from the parser does not effect this stage, and so at this point in the processing the user will need to remove all three lines which include the platform, sensor, and icon, in order to not have extra platform parts hanging around in the parser.</p>
<p>Moving back to the parser stage after making this change will trigger a re-processing of the filtered data, at which point the <em>200_ew_radar</em> entry has been removed and processing can proceed without errors.</p>
</section>
</section>
</section>
<section id="formatting-with-the-template-stage">
<span id="scenario-importer-demo-formatting-with-the-template-stage"></span><h2>Formatting with the Template Stage<a class="headerlink" href="#formatting-with-the-template-stage" title="Permalink to this headline">¶</a></h2>
<p>With the scenario data tagged and ready to be written, all that remains is aggregating the data in the proper format. The <em>template</em> which we write in this stage will act as a format for each data entry that was output from the parser, which can be conveniently viewed on the template input panel to the bottom right. There are several functions which users have available to them which are documented in the <a class="reference internal" href="scenario_importer_stages.html#scenario-importer-stages-template-stage"><span class="std std-ref">template stage description</span></a> and demonstrated below.</p>
<section id="writing-platform-parts-with-tokens">
<h3>Writing platform parts with tokens<a class="headerlink" href="#writing-platform-parts-with-tokens" title="Permalink to this headline">¶</a></h3>
<img alt="../../_images/demo_4a_template_tokens.png" class="align-center" src="../../_images/demo_4a_template_tokens.png" />
<p>Using the column names from the input data the user can input platform parts and fields using the token notation, which is simply to capture the name with square brackets: [ ]. If we call for a platform part which does not exist for a particular record, it will simply appear as a blank in the formatted output.  The user can additionally use conditionals to vary the formatting on a per-platform basis to get around this.</p>
</section>
<section id="conditional-formatting">
<h3>Conditional formatting<a class="headerlink" href="#conditional-formatting" title="Permalink to this headline">¶</a></h3>
<img alt="../../_images/demo_4c_conditional.png" class="align-center" src="../../_images/demo_4c_conditional.png" />
<p>In this example, it is desired to only print the icons of <em>ew_radar</em> platform types. To do this, write a condition in the template, which resembles the AFSIM script format for a conditional and is also described in the template stage description linked above. Specifically, the user can test that the platform type is <em>EW_RADAR</em> and only list the icon in that case, note that in the output below the template only the first visible <em>300_ew_radar</em> platform gets assigned an icon.</p>
<img alt="../../_images/demo_4d_conditional_alternative.png" class="align-center" src="../../_images/demo_4d_conditional_alternative.png" />
<p>Alternatively, the user can test for the existence of a particular data entry directly. Conditional statements will interpret any lone token as a test that it exists for a particular platform entry.</p>
</section>
<section id="randomized-output">
<h3>Randomized Output<a class="headerlink" href="#randomized-output" title="Permalink to this headline">¶</a></h3>
<img alt="../../_images/bdemo_4e_random_frequency.png" class="align-center" src="../../_images/bdemo_4e_random_frequency.png" />
<p>The user may also chose to randomize any numeric values in the scenario using random tokens. In the example above, a random transmitter frequency will be set in the range of 150 - 180 MHz to any platform which has a sensor containing a transmitter.</p>
</section>
<section id="translating-platform-coordinates">
<h3>Translating Platform Coordinates<a class="headerlink" href="#translating-platform-coordinates" title="Permalink to this headline">¶</a></h3>
<img alt="../../_images/demo_4f_translate.png" class="align-center" src="../../_images/demo_4f_translate.png" />
<p>Users have the option to translate any positional data (latitude and longitude) on a per platform basis as well. Given a 0 - 360 degree heading, distance and input positions, the translate token will output a translated lat-long pair.</p>
<p>In the example above will translate all platforms under the command of <em>100_radar_company</em> 240 nautical miles to the west. Note that if no units are input for distance, the Importer will use kilometers by default.</p>
<img alt="../../_images/demo_4g_translate_with_randoms.png" class="align-center" src="../../_images/demo_4g_translate_with_randoms.png" />
<p>Random tokens can also be used for both the direction and distance inputs when translating platform positions, as demonstrated in the template shown above.</p>
</section>
<section id="changing-token-cases">
<h3>Changing token cases<a class="headerlink" href="#changing-token-cases" title="Permalink to this headline">¶</a></h3>
<img alt="../../_images/demo_4h_tocase.png" class="align-center" src="../../_images/demo_4h_tocase.png" />
<p>For convenience there are also toCase functions if for any reason the input scenario data had incorrect cases for platorm types or other fields.  Changes can be applied to entire tokens or a selection of a particular length.</p>
</section>
</section>
<section id="finalizing-scenario-output">
<h2>Finalizing Scenario Output<a class="headerlink" href="#finalizing-scenario-output" title="Permalink to this headline">¶</a></h2>
<img alt="../../_images/bdemo_5a_multifile.png" class="align-center" src="../../_images/bdemo_5a_multifile.png" />
<p>Initially, the preview stage will simply show the output from the previous templating stage.  From here, the user is able to divide the output into multiple files. If the scenario contained platforms on multiple sides the user can divide them into files for each side, or as in the example the user can divide the platforms into files by their commander.</p>
<img alt="../../_images/1_file_control_panel.png" class="align-center" src="../../_images/1_file_control_panel.png" />
<p>With the data finalized, the user is now able to select an output directory and save the formatted output files.  The current Scenario Importer configuration can also be saved in order to quickly process similar data in the future.  Saving the configuration for future use allows for expedient processing of future data sets and reduces potentially tedious data entry steps.</p>
<img alt="../../_images/demo_5b_saved.png" class="align-center" src="../../_images/demo_5b_saved.png" />
<p>With the scenario laydown successfully converted into AFSIM commands, the imported files can now be used by AFSIM.</p>
<img alt="../../_images/demo_5c_loaded_in_wizard.png" class="align-center" src="../../_images/demo_5c_loaded_in_wizard.png" />
</section>
</section>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    <p class="logo"><a href="../main_page.html">
      <img class="logo" src="../../_static/sidebar_logo.png" alt="Logo"/>
    </a></p>
  

<script src="../../_static/extension.js"></script>
<p>
   <ul class="Core-menu">
      <li><a href="../main_page.html">Main Page</a></li>
      <li><a href="../changelog/afsim_2.9.html">Changelog</a> | <a href="../afsim_change_log.html">History</a></li>
      <li><a href="../documents.html">Documents</a></li>
      <li><a href="../security_info.html">Security Information</a></li>
      <li><a href="../contact_info.html">Contact Information</a></li>
   </ul>
</p>

<br>
<hr>
<br>

<p>
   <h3>Core Apps</h3>
   <ul class="Core-menu">
     <li><a href="../wsf_core.html">Main Page</a></li>
     <li><a href="../wsf_reference_guide.html">Reference Guide</a></li>
     <li><a href="../changelog/wsf_2.9.html">Changelog</a> | <a href="../wsf_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Demos</h3>
   <ul class="DEMOS-menu">
     <li><a href="../changelog/demos_2.9.html">Changelog</a> | <a href="../demos_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Mystic</h3>
   <ul class="Mystic-menu">
     <li><a href="../mystic.html">Main Page</a></li>
     <li><a href="../mystic_users_guide.html">User's Guide</a></li>
     <li><a href="../mystic_reference_guide.html">Reference Guide</a></li>
     <li><a href="../pymystic.html">Batch Processing</a></li>
     <li><a href="../changelog/mystic_2.9.html">Changelog</a> | <a href="../mystic_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Warlock</h3>
   <ul class="WARLOCK-menu">
     <li><a href="../warlock.html">Main Page</a></li>
     <li><a href="../warlock_users_guide.html">User's Guide</a></li>
     <li><a href="../warlock_reference_guide.html">Reference Guide</a></li>
     <li><a href="../changelog/warlock_2.9.html">Changelog</a> | <a href="../warlock_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Wizard</h3>
   <ul class="WIZARD-menu">
     <li><a href="../wizard.html">Main Page</a></li>
     <li><a href="../wizard_users_guide.html">User's Guide</a></li>
     <li><a href="../wizard_reference_guide.html">Reference Guide</a></li>
     <li><a href="../changelog/wizard_2.9.html">Changelog</a> | <a href="../wizard_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>EVT Reader</h3>
   <ul class="EvtReader-menu">
     <li><a href="../evtreader.html">Main Page</a></li>
   </ul>
</p>

<p>
   <h3>Mover Creator</h3>
   <ul class="MoverCreator-menu">
     <li><a href="../mover_creator.html">Main Page</a></li>
     <li><a href="../mc_users_guide.html">User's Guide</a></li>
     <li><a href="../mc_reference_guide.html">Reference Guide</a></li>
     <li><a href="../changelog/mover_creator_2.9.html">Changelog</a> | <a href="../mc_change_log.html">History</a></li>
   </ul>
</p>

<br>
<hr>
<br>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/docs/wkf_plugin/scenario_importer_demo.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="wiz_script_debugger.html" title="Script Debugger - Wizard"
             >next</a> |</li>
        <li class="right" >
          <a href="scenario_importer_stages.html" title="Scenario Importer Stages"
             >previous</a> |</li>
  <li>
    <img src="../../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="../main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../../site_index.html">Site Index</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../wizard_reference_guide.html" >Wizard Reference Guide</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="wiz_scenario_importer.html" >Scenario Importer</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Multiple, All Rights Reserved.
      Last updated on Feb 25, 2022.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>