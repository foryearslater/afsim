
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>WSF_WEAPON_SERVER_PROCESSOR &#8212; AFSIM 2.9.0 Documentation</title>
    <link rel="stylesheet" href="../_static/wsftheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/collapse.css" />
    <link rel="stylesheet" type="text/css" href="../_static/admonition.css" />
    <link rel="stylesheet" type="text/css" href="../_static/table.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pseudo-header.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pseudo-topic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/quick-search.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/collapse_sections.js"></script>
    
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="WSF_WEAPON_TRACK_PROCESSOR" href="wsf_weapon_track_processor.html" />
    <link rel="prev" title="wsf_weapon_server" href="wsf_weapon_server.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="wsf_weapon_track_processor.html" title="WSF_WEAPON_TRACK_PROCESSOR"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="wsf_weapon_server.html" title="wsf_weapon_server"
             accesskey="P">previous</a> |</li>
  <li>
    <img src="../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="wsf-weapon-server-processor">
<h1>WSF_WEAPON_SERVER_PROCESSOR<a class="headerlink" href="#wsf-weapon-server-processor" title="Permalink to this headline">¶</a></h1>
<p><strong>Script Class:</strong> <span class="xref wsf wsf-class">WsfWeaponServerProcessor</span></p>
<dl class="model">
<dt id="WSF_WEAPON_SERVER_PROCESSOR">
processor WSF_WEAPON_SERVER_PROCESSOR<a class="headerlink" href="#WSF_WEAPON_SERVER_PROCESSOR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<pre class="literal-block">processor &lt;name&gt; <a class="reference internal" href="#WSF_WEAPON_SERVER_PROCESSOR" title="WSF_WEAPON_SERVER_PROCESSOR"><span class="xref wsf wsf-model">WSF_WEAPON_SERVER_PROCESSOR</span></a>
   <a class="reference internal" href="processor.html#processor" title="processor"><span class="xref wsf wsf-command">processor Commands</span></a> ...
   <a class="reference internal" href="platform_part_commands.html#platform-part-commands"><span class="std std-ref">Platform Part Commands</span></a> ...
   <a class="reference internal" href="external_link_commands.html#external-link-commands"><span class="std std-ref">External Link Commands</span></a> ...

   <a class="reference internal" href="#wpn_server_type">wpn_server_type</a>
   <a class="reference internal" href="#wpn_server_site">wpn_server_site</a>
   <a class="reference internal" href="#wpn_server_application">wpn_server_application</a>
   <a class="reference internal" href="#wpn_server_entity">wpn_server_entity</a>
   <a class="reference internal" href="#ack_time_tolerance">ack_time_tolerance</a>
   <a class="reference internal" href="#WSF_WEAPON_SERVER_PROCESSOR.reallocate_on_NACK" title="reallocate_on_NACK (WSF_WEAPON_SERVER_PROCESSOR)"><span class="xref wsf wsf-command">reallocate_on_NACK</span></a>
   <a class="reference internal" href="#debug">debug</a>

end_processor</pre>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="#WSF_WEAPON_SERVER_PROCESSOR" title="WSF_WEAPON_SERVER_PROCESSOR"><span class="xref wsf wsf-model">WSF_WEAPON_SERVER_PROCESSOR</span></a> implements a processor interface to an external weapon server. It is responsible for
handling the outgoing weapon transfer to the appropriate weapon server over a specified network connection.</p>
<p>Background Information:</p>
<p>The id for a weapon is to be unique. Before the weapon allocation stage and during setup, the id will be referred to as
the store id. After the weapon has actually been allocated, the id for the weapon will be referred to as weapon id. The
store id is sent into the weapon server processor. The weapon server processor may or may not change the store id. That
would depend on whether or not the dis_entity_id_offset value is set in the <a class="reference internal" href="wsf_explicit_weapon.html#WSF_EXPLICIT_WEAPON" title="WSF_EXPLICIT_WEAPON"><span class="xref wsf wsf-model">WSF_EXPLICIT_WEAPON</span></a> block for that
particular weapon_system_type.</p>
<pre class="literal-block">weapon USER_WEAPON_TYPE WSF_EXPLICIT_WEAPON
    .
    .
    .
   <a class="reference internal" href="wsf_explicit_weapon.html#WSF_EXPLICIT_WEAPON.dis_entity_id_offset" title="dis_entity_id_offset (WSF_EXPLICIT_WEAPON)"><span class="xref wsf wsf-command">dis_entity_id_offset</span></a> 5000
end_weapon</pre>
<p>The weapon server processor in this case adds the store id to the dis_entity_id_offset (if not supplied then the
dis_entity_id_offset is 0) to form the weapon id. The weapon id will be considered the datalink or ju number for the
weapon. This value used also in the weapon’s DisEntityState entity id field, and is set accordingly in the SetData
PDUs, which is passed to the DREAMS weapon server. Upon allocation of the weapon, the SetData PDU is sent to the DREAMS
Weapon Server Application. If the DREAMS weapon server validates the Allocation Set Data PDU, it sends back a
responding Data PDU with the allocation field set to 1 indicating the weapon is allocated, then the weapon goes to an
ALLOCATE (1) state, after which the weapon server processor will send umbilical data. If that data is acknowledged by
the Weapon Server Application, then the process is complete and the weapon goes to the READY (4) state. The weapon can
ONLY be launched when it is in the READY state, else the Fire command is not functional.</p>
<p>If the process was successful, and the ‘Fire’ command was executed using the weapon id parameter, the DisFire PDU
issued by the WSF application will have the weapon id inserted into the DisFire Pdu entity id field. If the fire
command is executed without the weapon id parameter, the DisFire PDU is issued by WSF using the WSF id method to id
the missile. Most likely the id that was set up during the allocation sequence will not match and there may be problems
with the launch sequence.</p>
<p>The weapon can be allocated using the following <strong>WsfWeapon</strong> script command:
<a class="reference internal" href="script/wsfweapon.html#WsfWeapon.AllocateTheWeapon" title="WsfWeapon.AllocateTheWeapon"><span class="xref wsf wsf-method">AllocateTheWeapon()</span></a></p>
<p>The weapon State must be evaluated prior to launch and must be in the READY state (4) to be fired.  A return
state of 1 indicates the weapon was allocated.  A return state of (3) indicates the weapon was never allocated.  The
user can check to see if the DIS Entity Type for the outgoing <strong>weapon_system_type</strong> matches.</p>
<p>The weapon can be fired by using the <strong>WsfWeapon</strong> <a class="reference internal" href="script/wsfweapon.html#WsfWeapon.Fire" title="WsfWeapon.Fire"><span class="xref wsf wsf-method">Fire</span></a> script command.</p>
<p>Initially, the store_id value can be set using the <strong>WsfWeaponServerProcessor</strong> function:
SetStoreIdTrackPairing_()</p>
</section>
<section id="commands">
<h2>Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h2>
<dl class="command">
<dt id="WSF_WEAPON_SERVER_PROCESSOR.wpn_server_type">
<span id="wpn_server_type"></span>wpn_server_type [ DREAMS | WSF | VENDOR_R ]<a class="headerlink" href="#WSF_WEAPON_SERVER_PROCESSOR.wpn_server_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Acceptable weapon server choices are DREAMS, WSF and VENDOR_R.</p>
</dd></dl>

<dl class="command">
<dt id="WSF_WEAPON_SERVER_PROCESSOR.wpn_server_site">
<span id="wpn_server_site"></span>wpn_server_site<a class="reference internal" href="argumenttypes.html#positive-integer" title="positive-integer"><em> &lt;positive-integer&gt;</em></a><a class="headerlink" href="#WSF_WEAPON_SERVER_PROCESSOR.wpn_server_site" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsigned 16-bit integer value that matches weapon server site.</p>
</dd></dl>

<dl class="command">
<dt id="WSF_WEAPON_SERVER_PROCESSOR.wpn_server_application">
<span id="wpn_server_application"></span>wpn_server_application<a class="reference internal" href="argumenttypes.html#positive-integer" title="positive-integer"><em> &lt;positive-integer&gt;</em></a><a class="headerlink" href="#WSF_WEAPON_SERVER_PROCESSOR.wpn_server_application" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsigned 16-bit integer value that matches weapon server application.</p>
</dd></dl>

<dl class="command">
<dt id="WSF_WEAPON_SERVER_PROCESSOR.wpn_server_entity">
<span id="wpn_server_entity"></span>wpn_server_entity<a class="reference internal" href="argumenttypes.html#positive-integer" title="positive-integer"><em> &lt;positive-integer&gt;</em></a><a class="headerlink" href="#WSF_WEAPON_SERVER_PROCESSOR.wpn_server_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsigned 16-bit integer value that matches weapon server entity.</p>
</dd></dl>

<dl class="command">
<dt id="WSF_WEAPON_SERVER_PROCESSOR.ack_time_tolerance">
<span id="ack_time_tolerance"></span>ack_time_tolerance<a class="reference internal" href="argumenttypes.html#time-value" title="time-value"><em> &lt;time-value&gt;</em></a><a class="headerlink" href="#WSF_WEAPON_SERVER_PROCESSOR.ack_time_tolerance" title="Permalink to this definition">¶</a></dt>
<dd><p>Time allowed before the Set Data PDU to allocate the weapon is resent to the weapon server on receipt of a NACK or no
reply.</p>
<p>Default (1.0 second)</p>
</dd></dl>

<dl class="command">
<dt id="WSF_WEAPON_SERVER_PROCESSOR.reallocate_on_NACK">
<span id="reallocate_on_NACK"></span>reallocate_on_NACK<a class="reference internal" href="argumenttypes.html#boolean-value" title="boolean-value"><em> &lt;boolean-value&gt;</em></a><a class="headerlink" href="#WSF_WEAPON_SERVER_PROCESSOR.reallocate_on_NACK" title="Permalink to this definition">¶</a></dt>
<dd><p>Keep resending even if weapon server sends a NACK signal back for a weapon.  If this flag is set to false, will only
try to send once, may assume the data is bad going to the weapon server.</p>
<p>Default (true)</p>
</dd></dl>

<dl class="command">
<dt id="WSF_WEAPON_SERVER_PROCESSOR.debug">
<span id="debug"></span>debug<a class="reference internal" href="argumenttypes.html#boolean-value" title="boolean-value"><em> &lt;boolean-value&gt;</em></a><a class="headerlink" href="#WSF_WEAPON_SERVER_PROCESSOR.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows some debug statements to be written to console.</p>
<p>Default (false)</p>
</dd></dl>

</section>
<section id="the-dis-interface-file-inputs-for-the-dreams-weapon-server">
<h2>The DIS Interface File Inputs for the DREAMS Weapon Server<a class="headerlink" href="#the-dis-interface-file-inputs-for-the-dreams-weapon-server" title="Permalink to this headline">¶</a></h2>
<p>The dis_interface block would be set up as usual with the site and application fields matching what is in the platform
block in the xml input file shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>wsrc_userName.xml input file

.
.
.

&lt;platform&gt;
 &lt;entity-id&gt;
 &lt;site&gt;79&lt;/site&gt;
 &lt;appv2000&lt;/app&gt;
  .
  .
  .
 &lt;/entity-id&gt;
 &lt;/platform&gt;

&lt;munition-type-defn&gt;
 &lt;!-- Assign a unique identifier to the munition type  --&gt;
  &lt;name&gt;JDRADM_POD&lt;/name&gt;
  &lt;enable&gt;true&lt;/enable&gt;
  &lt;entity-type&gt;
   &lt;kind&gt;2&lt;/kind&gt;
   &lt;domain&gt;1&lt;/domain&gt;
   &lt;country&gt;225&lt;/country&gt;
   &lt;category&gt;1&lt;/category&gt;
   &lt;subcategory&gt;29&lt;/subcategory&gt;
   &lt;specific&gt;0&lt;/specific&gt;
   &lt;extra&gt;0&lt;/extra&gt;
  &lt;/entity-type&gt;
  .
  .
  .
&lt;/munition-type-defn&gt;
.
.
.
end of wsrc_userName.xml file.
</pre></div>
</div>
<pre class="literal-block">dis_interface

  <a class="reference internal" href="dis_interface.html#dis_interface.site" title="site (dis_interface)"><span class="xref wsf wsf-command">site</span></a>              79
  <a class="reference internal" href="dis_interface.html#dis_interface.application" title="application (dis_interface)"><span class="xref wsf wsf-command">application</span></a> 2000
  <a class="reference internal" href="dis_interface.html#dis_interface.exercise" title="exercise (dis_interface)"><span class="xref wsf wsf-command">exercise</span></a>     1
  <a class="reference internal" href="dis_interface.html#dis_interface.port" title="port (dis_interface)"><span class="xref wsf wsf-command">port</span></a>             3456
    .
    .
    .

  //List both the weapon system type and the weapon platform type in the entity_type list
  //in the entity_type list.  Note the entity type match in the munition-type-defn portion
  //of the DREAMS xml file.

  //entity_type_keyword      weapon_server_type      kind do main country cat subcat specific extra

  <a class="reference internal" href="dis_interface.html#dis_interface.entity_type" title="entity_type (dis_interface)"><span class="xref wsf wsf-command">entity_type</span></a>            &amp;nbsp
    ;       <strong>ATA_POD</strong>
            2 1 225 1 29 0 0  // Must match
                            // out_going_weapon_transfer
                            // input line
  <a class="reference internal" href="dis_interface.html#dis_interface.entity_type" title="entity_type (dis_interface)"><span class="xref wsf wsf-command">entity_type</span></a>            &amp;nbsp
    ;      ATA_PLATFORM           &amp;nbsp
    ;  2 1 225 1 29 0 0  // Must match the
                           // out_going_weapon_transfer
                           // input line

    .
    .
    .

This is the critical line that does the weapon transfer out and does the fire PDU and drops the weapon on the WSF
side. Add this line for all weapon_system_types that are going to be controlled by the weapon server.

  <a class="reference internal" href="dis_interface.html#dis_interface.outgoing_weapon_transfer" title="outgoing_weapon_transfer (dis_interface)"><span class="xref wsf wsf-command">outgoing_weapon_transfer</span></a> <strong>ATA_POD</strong>
  <a class="reference internal" href="dis_interface.html#dis_interface.outgoing_weapon_transfer" title="outgoing_weapon_transfer (dis_interface)"><span class="xref wsf wsf-command">outgoing_weapon_transfer</span></a> msl_weapon_jassm
  <a class="reference internal" href="dis_interface.html#dis_interface.outgoing_weapon_transfer" title="outgoing_weapon_transfer (dis_interface)"><span class="xref wsf wsf-command">outgoing_weapon_transfer</span></a> msl_weapon_sdb_new

end_dis_interface</pre>
</section>
<section id="wsf-input-file-changes-for-the-weapon-server-interface">
<h2>WSF Input File Changes for the Weapon Server Interface<a class="headerlink" href="#wsf-input-file-changes-for-the-weapon-server-interface" title="Permalink to this headline">¶</a></h2>
<p>The spatial_domain for the target MUST be specified for each DREAMS weapon target in order to fill the
air-to-ground or air-to-air field the DREAMS weapon server is expecting.
::Add spatial_domain &lt;;air | land&gt;; appropriately for the platform type.</p>
<p>Each missile type will have its own range and this gets set by using the input dis_entity_id_offset on the
WSF_EXPLICIT_WEAPON block.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">weapon</span> <span class="n">msl_weapon_jassm</span> <span class="n">WSF_EXPLICIT_WEAPON</span>
  <span class="n">quantity</span> <span class="mi">12</span>
  <span class="n">launched_platform_type</span> <span class="n">msl_platform_jassm</span>
  <span class="n">weapon_effects</span> <span class="n">msl_effects</span>
  <span class="n">dis_entity_id_offset</span> <span class="o">&lt;</span><span class="n">DisUint16</span> <span class="n">Value</span><span class="o">&gt;</span>

  <span class="n">aux_data</span>
   <span class="o">//</span> <span class="n">available</span> <span class="n">fields</span> <span class="n">to</span> <span class="nb">set</span> <span class="n">umbilical</span> <span class="n">data</span>
   <span class="o">//</span> <span class="mi">1</span> <span class="o">=</span> <span class="n">laser</span><span class="p">;</span> <span class="mi">2</span> <span class="o">=</span> <span class="n">sensor</span><span class="p">;</span> <span class="mi">3</span> <span class="o">=</span> <span class="n">coordinate</span> <span class="p">(</span><span class="n">default</span> <span class="mi">2</span><span class="p">)</span>
   <span class="nb">int</span> <span class="n">attack_mode</span> <span class="o">=</span> <span class="mi">2</span>

   <span class="o">//</span> <span class="n">To</span> <span class="n">define</span> <span class="n">one</span> <span class="n">of</span> <span class="n">the</span> <span class="n">source</span> <span class="n">target</span> <span class="n">originator</span> <span class="n">fields</span><span class="p">,</span> <span class="n">use</span> <span class="n">one</span> <span class="n">of</span> <span class="n">the</span> <span class="n">two</span> <span class="n">options</span>
   <span class="o">//</span> <span class="mi">1</span><span class="p">)</span> <span class="n">use</span> <span class="n">initial_target_index_originator</span> <span class="o">-</span> <span class="n">track</span> <span class="n">information</span> <span class="n">coming</span> <span class="kn">from</span> <span class="nn">launching</span> <span class="n">platform</span>
   <span class="o">//</span> <span class="mi">2</span><span class="p">)</span> <span class="n">use</span> <span class="n">third_party_source_number</span> <span class="n">to</span> <span class="nb">set</span> <span class="n">a</span> <span class="n">third</span> <span class="n">party</span> <span class="k">as</span> <span class="n">the</span> <span class="n">source</span> <span class="n">of</span> <span class="n">track</span> <span class="n">information</span><span class="o">.</span>
   <span class="o">//</span> <span class="n">They</span> <span class="n">are</span> <span class="n">mutually</span> <span class="n">exclusive</span>
   <span class="o">//</span> <span class="n">Each</span> <span class="n">option</span> <span class="n">has</span> <span class="n">a</span> <span class="nb">bool</span> <span class="nb">input</span> <span class="n">that</span> <span class="n">must</span> <span class="n">be</span> <span class="nb">set</span> <span class="n">to</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="ow">in</span> <span class="n">order</span> <span class="k">for</span> <span class="n">the</span> <span class="n">field</span> <span class="n">to</span> <span class="n">be</span>
   <span class="o">//</span> <span class="nb">set</span> <span class="k">with</span> <span class="n">the</span> <span class="n">assigned</span> <span class="n">data</span><span class="o">.</span>
   <span class="o">//</span> <span class="n">To</span> <span class="n">use</span> <span class="n">the</span> <span class="n">initial</span> <span class="n">target</span> <span class="n">index</span> <span class="n">originator</span><span class="o">/</span><span class="n">target</span> <span class="n">index</span> <span class="n">pair</span> <span class="p">(</span><span class="ow">and</span> <span class="n">NOT</span> <span class="n">the</span> <span class="n">third</span> <span class="n">party</span>
   <span class="o">//</span> <span class="n">source</span> <span class="n">number</span><span class="p">)</span><span class="o">.</span>
   <span class="o">//</span> <span class="n">Set</span> <span class="n">the</span> <span class="n">associated</span> <span class="nb">bool</span> <span class="n">first</span>
   <span class="o">//</span>    <span class="nb">bool</span> <span class="n">use_initial_target_index_originator</span> <span class="o">&lt;</span><span class="n">true</span> <span class="o">|</span> <span class="n">yes</span> <span class="o">|</span> <span class="n">false</span> <span class="o">|</span> <span class="n">no</span><span class="o">&gt;</span>
   <span class="o">//</span> <span class="k">if</span> <span class="n">omitted</span> <span class="n">will</span> <span class="n">be</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">false</span> <span class="ow">and</span> <span class="n">data</span> <span class="n">field</span> <span class="n">will</span> <span class="ow">not</span> <span class="n">get</span> <span class="nb">set</span><span class="o">.</span>
   <span class="o">//</span>
   <span class="o">//</span> <span class="nb">bool</span> <span class="n">use_initial_target_index_originator</span> <span class="o">=</span> <span class="n">true</span>
   <span class="o">//</span>
   <span class="o">//</span> <span class="n">Then</span> <span class="nb">set</span> <span class="n">data</span> <span class="k">for</span> <span class="n">the</span> <span class="n">the</span> <span class="n">initial</span> <span class="n">target</span> <span class="n">index</span> <span class="n">originator</span> <span class="n">field</span><span class="p">,</span>
   <span class="o">//</span>    <span class="n">initial_target_index_originator</span> <span class="o">&lt;</span><span class="n">decimal</span><span class="o">-</span><span class="n">track</span><span class="o">-</span><span class="n">number</span><span class="o">&gt;</span>
   <span class="o">//</span> <span class="n">where</span> <span class="n">decimal</span><span class="o">-</span><span class="n">track</span><span class="o">-</span><span class="n">number</span> <span class="o">=</span> <span class="n">decimal_track_number</span> <span class="n">defined</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">l16_computer</span> <span class="n">block</span><span class="o">.</span>
   <span class="o">//</span>
   <span class="o">//</span> <span class="nb">int</span> <span class="n">initial_target_index_originator</span> <span class="o">=</span> <span class="mi">121</span>
   <span class="o">//</span>
   <span class="o">//</span> <span class="n">XOR</span>
   <span class="o">//</span>
   <span class="o">//</span> <span class="n">Set</span> <span class="n">the</span> <span class="nb">bool</span> <span class="n">to</span> <span class="n">allow</span> <span class="n">the</span> <span class="n">third_party_source_number</span> <span class="n">field</span> <span class="n">to</span> <span class="n">be</span> <span class="n">filled</span><span class="o">.</span>
   <span class="o">//</span>    <span class="n">use_third_party_source_number</span> <span class="o">&lt;</span><span class="n">true</span> <span class="o">|</span> <span class="n">yes</span> <span class="o">|</span> <span class="n">false</span> <span class="o">|</span> <span class="n">no</span><span class="o">&gt;</span>
   <span class="o">//</span> <span class="n">If</span> <span class="n">omitted</span> <span class="ow">or</span> <span class="n">use_third_party_source_number</span> <span class="nb">set</span> <span class="n">to</span> <span class="o">&lt;</span><span class="n">no</span> <span class="o">|</span> <span class="n">false</span> <span class="o">&gt;</span> <span class="n">then</span> <span class="n">the</span> <span class="n">third</span><span class="o">-</span><span class="n">party</span> <span class="n">source</span> <span class="n">number</span>
   <span class="o">//</span> <span class="n">will</span> <span class="ow">not</span> <span class="n">be</span> <span class="n">used</span><span class="o">.</span>
   <span class="o">//</span><span class="nb">bool</span> <span class="n">use_third_party_source_number</span> <span class="o">=</span> <span class="n">true</span>
   <span class="o">//</span>
   <span class="o">//</span> <span class="n">Set</span> <span class="n">the</span> <span class="n">third</span><span class="o">-</span><span class="n">party</span> <span class="n">source</span> <span class="n">number</span> <span class="n">field</span>
   <span class="o">//</span>    <span class="n">third_party_source_number</span> <span class="o">&lt;</span><span class="n">decimal</span><span class="o">-</span><span class="n">track</span><span class="o">-</span><span class="n">number</span><span class="o">&gt;</span>
   <span class="o">//</span> <span class="n">Where</span> <span class="n">the</span> <span class="n">decimal</span><span class="o">-</span><span class="n">track</span><span class="o">-</span><span class="n">number</span> <span class="o">=</span> <span class="n">decimal_track_number</span> <span class="n">defined</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">l16_computer</span> <span class="n">block</span><span class="o">.</span>
   <span class="nb">int</span> <span class="n">third_party_source_number</span> <span class="o">=</span> <span class="mi">121</span>
   <span class="o">//</span>
   <span class="o">//</span> <span class="n">can</span> <span class="n">reassign</span> <span class="n">the</span> <span class="n">weapon</span> <span class="n">site</span> <span class="ow">and</span> <span class="n">application</span> <span class="n">value</span><span class="p">,</span> <span class="k">else</span> <span class="n">will</span> <span class="n">be</span> <span class="n">site</span> <span class="ow">and</span>
   <span class="n">app</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">dis</span> <span class="n">text</span> <span class="n">file</span>
   <span class="nb">int</span> <span class="n">weapon_site</span>
   <span class="nb">int</span> <span class="n">weapon_app</span>
  <span class="n">end_aux_data</span>

 <span class="n">end_weapon</span>

<span class="n">platform</span> <span class="n">platform_name</span> <span class="n">WSF_PLATFORM</span>
 <span class="n">aux_data</span>
  <span class="nb">int</span> <span class="n">initial_target_index_originator</span> <span class="o">=</span> <span class="mi">120</span>
  <span class="o">//</span> <span class="n">match</span> <span class="n">decimal_track_number</span> <span class="ow">in</span> <span class="n">l16_computer</span><span class="p">,</span> <span class="k">else</span> <span class="n">will</span> <span class="n">use</span> <span class="n">the</span> <span class="n">platform</span><span class="s1">&#39;s index</span>
  <span class="nb">int</span> <span class="n">decimal_track_number</span> <span class="o">=</span> <span class="mi">120</span>
 <span class="n">aux_data</span>
<span class="n">end_platform</span>
</pre></div>
</div>
<p>For Each Platform that is to interact with the weapon server must have a weapon server processor.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">processor</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="n">WSF_WPN_SERVER_PROCESSOR</span>
  <span class="n">available</span> <span class="n">inputs</span>
   <span class="o">&lt;</span><span class="n">on</span> <span class="o">|</span> <span class="n">off</span><span class="o">&gt;</span>
   <span class="n">update_interval</span> <span class="n">time</span>
   <span class="n">wpn_server_type</span> <span class="o">&lt;</span><span class="n">DREAMS</span> <span class="o">|</span> <span class="n">WSF</span> <span class="o">|</span> <span class="n">VENDOR_R</span><span class="o">&gt;</span>
   <span class="n">wpn_server_site</span>
<span class="n">value</span>
<span class="o">//</span> <span class="n">maps</span> <span class="n">to</span> <span class="n">site</span> <span class="n">macrotag</span>
   <span class="n">wpn_server_application</span> <span class="n">value</span>     <span class="o">//</span> <span class="n">maps</span> <span class="n">to</span> <span class="n">app</span> <span class="n">macrotag</span>
   <span class="n">wpn_server_entity</span>
<span class="n">value</span>              <span class="o">//</span> <span class="n">maps</span> <span class="n">to</span> <span class="n">entity</span> <span class="n">macrotag</span>
   <span class="n">ack_tolerance_time</span>
<span class="n">time</span>             <span class="o">//</span> <span class="n">time</span> <span class="n">it</span> <span class="n">takes</span> <span class="n">before</span> <span class="n">resend</span> <span class="k">if</span> <span class="n">weapon</span> <span class="n">server</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">respond</span>
<span class="n">end_processor</span>
</pre></div>
</div>
<p>Example shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">platform_type</span> <span class="n">weapon_server_type</span> <span class="n">WSF_PLATFORM</span>
   <span class="o">.</span>
   <span class="o">.</span>
   <span class="o">.</span>
 <span class="o">//</span> <span class="n">would</span> <span class="n">have</span> <span class="n">link16</span> <span class="n">comm</span> <span class="nb">set</span> <span class="n">up</span> <span class="n">here</span> <span class="n">also</span>

 <span class="o">//</span> <span class="n">launching</span> <span class="n">platform</span> <span class="ow">or</span> <span class="n">at</span> <span class="n">least</span> <span class="n">the</span> <span class="n">one</span> <span class="n">sending</span> <span class="n">the</span> <span class="n">initial</span>
 <span class="o">//</span> <span class="n">allocation</span> <span class="n">data</span> <span class="p">(</span><span class="nb">set</span> <span class="n">data</span> <span class="n">pdus</span><span class="p">)</span> <span class="n">to</span> <span class="n">the</span> <span class="n">weapon</span> <span class="n">server</span>
 <span class="n">processor</span> <span class="n">wpn_server_proc</span> <span class="n">WSF_WPN_SERVER_PROCESSOR</span>
  <span class="n">on</span>
  <span class="n">update_interval</span> <span class="mi">1</span> <span class="n">sec</span>
  <span class="n">wpn_server_type</span> <span class="n">DREAMS</span>
  <span class="n">wpn_server_site</span> <span class="mi">11</span>
  <span class="n">wpn_server_application</span> <span class="mi">22</span>
  <span class="n">wpn_server_entity</span> <span class="mi">33</span>
  <span class="n">ack_tolerance_time</span> <span class="mi">3</span> <span class="n">s</span>
 <span class="n">end_processor</span>
   <span class="o">.</span>
   <span class="o">.</span>
   <span class="o">.</span>
<span class="n">end_platform</span>
</pre></div>
</div>
</section>
</section>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    <p class="logo"><a href="main_page.html">
      <img class="logo" src="../_static/sidebar_logo.png" alt="Logo"/>
    </a></p>
  

<script src="../_static/extension.js"></script>
<p>
   <ul class="Core-menu">
      <li><a href="main_page.html">Main Page</a></li>
      <li><a href="changelog/afsim_2.9.html">Changelog</a> | <a href="afsim_change_log.html">History</a></li>
      <li><a href="documents.html">Documents</a></li>
      <li><a href="security_info.html">Security Information</a></li>
      <li><a href="contact_info.html">Contact Information</a></li>
   </ul>
</p>

<br>
<hr>
<br>

<p>
   <h3>Core Apps</h3>
   <ul class="Core-menu">
     <li><a href="wsf_core.html">Main Page</a></li>
     <li><a href="wsf_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/wsf_2.9.html">Changelog</a> | <a href="wsf_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Demos</h3>
   <ul class="DEMOS-menu">
     <li><a href="changelog/demos_2.9.html">Changelog</a> | <a href="demos_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Mystic</h3>
   <ul class="Mystic-menu">
     <li><a href="mystic.html">Main Page</a></li>
     <li><a href="mystic_users_guide.html">User's Guide</a></li>
     <li><a href="mystic_reference_guide.html">Reference Guide</a></li>
     <li><a href="pymystic.html">Batch Processing</a></li>
     <li><a href="changelog/mystic_2.9.html">Changelog</a> | <a href="mystic_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Warlock</h3>
   <ul class="WARLOCK-menu">
     <li><a href="warlock.html">Main Page</a></li>
     <li><a href="warlock_users_guide.html">User's Guide</a></li>
     <li><a href="warlock_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/warlock_2.9.html">Changelog</a> | <a href="warlock_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Wizard</h3>
   <ul class="WIZARD-menu">
     <li><a href="wizard.html">Main Page</a></li>
     <li><a href="wizard_users_guide.html">User's Guide</a></li>
     <li><a href="wizard_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/wizard_2.9.html">Changelog</a> | <a href="wizard_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>EVT Reader</h3>
   <ul class="EvtReader-menu">
     <li><a href="evtreader.html">Main Page</a></li>
   </ul>
</p>

<p>
   <h3>Mover Creator</h3>
   <ul class="MoverCreator-menu">
     <li><a href="mover_creator.html">Main Page</a></li>
     <li><a href="mc_users_guide.html">User's Guide</a></li>
     <li><a href="mc_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/mover_creator_2.9.html">Changelog</a> | <a href="mc_change_log.html">History</a></li>
   </ul>
</p>

<br>
<hr>
<br>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/docs/wsf_weapon_server_processor.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="wsf_weapon_track_processor.html" title="WSF_WEAPON_TRACK_PROCESSOR"
             >next</a> |</li>
        <li class="right" >
          <a href="wsf_weapon_server.html" title="wsf_weapon_server"
             >previous</a> |</li>
  <li>
    <img src="../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Multiple, All Rights Reserved.
      Last updated on Feb 25, 2022.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>