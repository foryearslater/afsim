
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>AFSIM Comms 2.4 Conversion Guide &#8212; AFSIM 2.9.0 Documentation</title>
    <link rel="stylesheet" href="../../_static/wsftheme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/collapse.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/admonition.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/table.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/pseudo-header.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/pseudo-topic.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/quick-search.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/collapse_sections.js"></script>
    
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Communication, Sensor and Jamming Systems Equations" href="comm_sensor_and_jamming_equations.html" />
    <link rel="prev" title="AMTI Component" href="../amti_component.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="comm_sensor_and_jamming_equations.html" title="Communication, Sensor and Jamming Systems Equations"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../amti_component.html" title="AMTI Component"
             accesskey="P">previous</a> |</li>
  <li>
    <img src="../../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="../main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="afsim-comms-2-4-conversion-guide">
<h1>AFSIM Comms 2.4 Conversion Guide<a class="headerlink" href="#afsim-comms-2-4-conversion-guide" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#quick-conversion-guide-for-typical-laydowns" id="id1">Quick Conversion Guide for Typical Laydowns</a></p></li>
<li><p><a class="reference internal" href="#comm-naming" id="id2">Comm Naming</a></p></li>
<li><p><a class="reference internal" href="#performance-considerations-for-large-scenarios" id="id3">Performance Considerations for Large Scenarios</a></p></li>
</ul>
</div>
<section id="quick-conversion-guide-for-typical-laydowns">
<h2><a class="toc-backref" href="#id1">Quick Conversion Guide for Typical Laydowns</a><a class="headerlink" href="#quick-conversion-guide-for-typical-laydowns" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ol class="arabic">
<li><p>Ensure that the typical command chain <strong>commander</strong> and <strong>subordinate</strong> comm object are named the same throughout the scenario (they have typically been named <strong>sub_net</strong> and <strong>cmdr_net</strong>)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Top Commander platform:</span>
   <span class="n">comm</span>  <span class="n">sub_net</span> <span class="n">WSF_COMM_TRANSCEIVER</span>     <span class="c1"># only needs subnet</span>
      <span class="n">network_name</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span><span class="n">master</span><span class="o">&gt;</span>
      <span class="n">internal_link</span> <span class="n">data_mgr</span>
      <span class="n">internal_link</span> <span class="n">task_mgr</span>
   <span class="n">end_comm</span>

<span class="c1"># Subordinate platform:</span>
   <span class="n">comm</span>  <span class="n">cmdr_net</span> <span class="n">WSF_COMM_TRANSCEIVER</span>      <span class="c1"># talks to his commander</span>
      <span class="n">network_name</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span><span class="n">slave</span><span class="o">&gt;</span>
      <span class="n">internal_link</span> <span class="n">data_mgr</span>
      <span class="n">internal_link</span> <span class="n">task_mgr</span>
   <span class="n">end_comm</span>
   <span class="n">comm</span>   <span class="n">sub_net</span> <span class="n">WSF_COMM_TRANSCEIVER</span>     <span class="c1"># has subordinates too</span>
      <span class="n">network_name</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span><span class="n">master</span><span class="o">&gt;</span>
      <span class="n">internal_link</span> <span class="n">data_mgr</span>
      <span class="n">internal_link</span> <span class="n">task_mgr</span>
   <span class="n">end_comm</span>

<span class="c1"># SubSubordinate platform</span>
   <span class="n">comm</span>  <span class="n">cmdr_net</span> <span class="n">WSF_COMM_TRANSCEIVER</span>      <span class="c1"># talks to his commander</span>
      <span class="n">network_name</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span><span class="n">slave</span><span class="o">&gt;</span>
      <span class="n">internal_link</span> <span class="n">data_mgr</span>
      <span class="n">internal_link</span> <span class="n">task_mgr</span>
   <span class="n">end_comm</span>
</pre></div>
</div>
</li>
<li><p>For any launchers or non-command platforms using the <strong>datalink</strong> named comm, rename this comm to <strong>cmdr_net</strong>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># SubSubordinate platform</span>
   <span class="n">comm</span>  <span class="n">cmdr_net</span> <span class="n">WSF_COMM_TRANSCEIVER</span>      <span class="c1"># talks to his commander</span>
      <span class="n">network_name</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span><span class="n">slave</span><span class="o">&gt;</span>
      <span class="n">internal_link</span> <span class="n">data_mgr</span>
      <span class="n">internal_link</span> <span class="n">task_mgr</span>
   <span class="n">end_comm</span>
</pre></div>
</div>
</li>
<li><p>Replace all old <a class="reference internal" href="../external_link_commands.html#_.External_Link_Commands.external_link" title="external_link (_.External_Link_Commands)"><span class="xref wsf wsf-command">external_link</span></a> or <a class="reference internal" href="../external_link_commands.html#_.External_Link_Commands.report_to" title="report_to (_.External_Link_Commands)"><span class="xref wsf wsf-command">report_to</span></a> commands with the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">report_to</span> <span class="n">commander</span> <span class="o">-&gt;</span> <span class="n">report_to</span> <span class="n">commander</span> <span class="n">via</span> <span class="n">cmdr_net</span> <span class="n">to</span> <span class="n">sub_net</span> <span class="c1"># Commanders comm name is sub_net</span>
<span class="n">report_to</span> <span class="n">subordinates</span> <span class="o">-&gt;</span> <span class="n">report_to</span> <span class="n">subordinates</span> <span class="n">via</span> <span class="n">sub_net</span> <span class="n">to</span> <span class="n">cmdr_net</span>
<span class="n">report_to</span> <span class="n">peers</span> <span class="o">-&gt;</span> <span class="n">report_to</span> <span class="n">peers</span> <span class="n">via</span> <span class="n">cmdr_net</span> <span class="n">OR</span> <span class="n">report_to</span> <span class="n">peers</span> <span class="n">via</span> <span class="n">sub_net</span>
</pre></div>
</div>
</li>
</ol>
</div></blockquote>
</section>
<section id="comm-naming">
<h2><a class="toc-backref" href="#id2">Comm Naming</a><a class="headerlink" href="#comm-naming" title="Permalink to this headline">¶</a></h2>
<p>When sending messages between platforms, if the name of the receiver comm is different than the sender comm, the comm name of the receiver must be specified using the “to” keyword.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># commander</span>
  <span class="o">...</span>
  <span class="n">comm</span>  <span class="n">type1</span> <span class="n">WSF_COMM_TRANSCEIVER</span>   <span class="c1"># type1 name of comm</span>
     <span class="n">network_name</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span><span class="n">master</span><span class="o">&gt;</span>
     <span class="n">internal_link</span> <span class="n">data_mgr</span>
     <span class="n">internal_link</span> <span class="n">task_mgr</span>
  <span class="n">end_comm</span>
  <span class="n">processor</span> <span class="n">data_mgr</span> <span class="n">WSF_TRACK_PROCESSOR</span>
     <span class="n">report_to</span> <span class="n">subordinates</span> <span class="n">via</span> <span class="n">type1</span> <span class="n">to</span> <span class="n">type2</span>
  <span class="n">end_processor</span>
  <span class="o">...</span>

<span class="c1"># subordinate</span>
  <span class="o">...</span>
  <span class="n">comm</span>  <span class="n">type2</span> <span class="n">WSF_COMM_TRANSCEIVER</span>    <span class="c1"># type2 name of comm</span>
     <span class="n">network_name</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span><span class="n">slave</span><span class="o">&gt;</span>
     <span class="n">internal_link</span> <span class="n">data_mgr</span>
     <span class="n">internal_link</span> <span class="n">task_mgr</span>
  <span class="n">end_comm</span>
  <span class="n">processor</span> <span class="n">data_mgr</span> <span class="n">WSF_TRACK_PROCESSOR</span>
     <span class="n">report_to</span> <span class="n">commander</span> <span class="n">via</span> <span class="n">type2</span> <span class="n">to</span> <span class="n">type1</span>  <span class="c1"># Commander&#39;s comm name is different</span>
  <span class="n">end_processor</span>
  <span class="o">...</span>
</pre></div>
</div>
<p>For wired perfect communication (<a class="reference internal" href="../wsf_comm_transceiver.html#WSF_COMM_TRANSCEIVER" title="WSF_COMM_TRANSCEIVER"><span class="xref wsf wsf-model">WSF_COMM_TRANSCEIVER</span></a>), having only one comm device per platform type is sufficient; having both a sub_net and cmdr_net comm really isn’tnecessary. In the following example, both sender and receiver have only one comm and they are named the same.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># commander</span>
  <span class="o">...</span>
  <span class="n">comm</span>  <span class="n">type1</span> <span class="n">WSF_COMM_TRANSCEIVER</span>   <span class="c1"># TYPE1 NAME OF COMM</span>
     <span class="n">network_name</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span><span class="n">master</span><span class="o">&gt;</span>
     <span class="n">internal_link</span> <span class="n">data_mgr</span>
     <span class="n">internal_link</span> <span class="n">task_mgr</span>
  <span class="n">end_comm</span>
  <span class="n">processor</span> <span class="n">data_mgr</span> <span class="n">WSF_TRACK_PROCESSOR</span>
     <span class="n">report_to</span> <span class="n">subordinates</span> <span class="n">via</span> <span class="n">type1</span> <span class="c1">#to type1 not needed because the subs have same comm name</span>
  <span class="n">end_processor</span>
  <span class="o">...</span>

<span class="c1"># subordinate</span>
  <span class="o">...</span>
  <span class="n">comm</span>  <span class="n">type1</span> <span class="n">WSF_COMM_TRANSCEIVER</span>    <span class="c1"># TYPE1 NAME OF COMM</span>
     <span class="n">network_name</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span><span class="n">slave</span><span class="o">&gt;</span>
     <span class="n">internal_link</span> <span class="n">data_mgr</span>
     <span class="n">internal_link</span> <span class="n">task_mgr</span>
  <span class="n">end_comm</span>
  <span class="n">processor</span> <span class="n">data_mgr</span> <span class="n">WSF_TRACK_PROCESSOR</span>
     <span class="n">report_to</span> <span class="n">commander</span> <span class="n">via</span> <span class="n">type1</span> <span class="c1">#to type1 not needed because the commander has same comm name</span>
  <span class="n">end_processor</span>
  <span class="o">...</span>
</pre></div>
</div>
</section>
<section id="performance-considerations-for-large-scenarios">
<h2><a class="toc-backref" href="#id3">Performance Considerations for Large Scenarios</a><a class="headerlink" href="#performance-considerations-for-large-scenarios" title="Permalink to this headline">¶</a></h2>
<p>AFSIM’s default network topology is a mesh: everyone on the same network can communicate directly to each other. This creates a very large number of links when using &lt;local:master&gt; and &lt;local:slave&gt; to define the linkage between platforms. Performance issues will most likely be experienced. For simulations having greater than a couple thousand platforms, consider using a star network topology. To convert a scenario to use a star network, the outline is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">comm</span> <span class="n">MY_COMM</span> <span class="n">WSF_COMM_TRANSCEIVER</span>
<span class="n">end_comm</span>

<span class="n">platform_type</span> <span class="n">COMMANDER_TYPE</span> <span class="n">WSF_PLATFORM</span>
  <span class="n">comm</span> <span class="n">comm1</span> <span class="n">MY_COMM</span>
  <span class="n">end_comm</span>
<span class="n">end_platform_type</span>

<span class="n">platform_type</span>  <span class="n">LAUNCHER_TYPE</span>   <span class="n">WSF_PLATFORM</span>
  <span class="n">comm</span> <span class="n">comm1</span> <span class="n">MY_COMM</span>
  <span class="n">end_comm</span>
<span class="n">end_platform_type</span>

<span class="n">platform_type</span>  <span class="n">RADAR_TYPE</span>   <span class="n">WSF_PLATFORM</span>
  <span class="n">comm</span> <span class="n">comm1</span> <span class="n">MY_COMM</span>
  <span class="n">end_comm</span>
<span class="n">end_platform_type</span>


<span class="c1">###Now Instantiate the platforms (scenario file)</span>
<span class="n">platform</span> <span class="n">commander_of_the_net</span> <span class="n">COMMANDER_TYPE</span>
  <span class="n">comm</span> <span class="n">comm1</span>
      <span class="n">network_name</span> <span class="n">commander_of_the_net</span>
  <span class="n">end_comm</span>
<span class="n">end_platform</span>

<span class="n">platform</span> <span class="n">launcher1</span> <span class="n">LAUNCHER_TYPE</span>
  <span class="n">comm</span> <span class="n">comm1</span>
      <span class="n">network_name</span> <span class="n">commander_of_the_net</span>
  <span class="n">end_comm</span>
<span class="n">end_platform</span>

<span class="n">platform</span> <span class="n">launcher2</span> <span class="n">LAUNCHER_TYPE</span>
  <span class="n">comm</span> <span class="n">comm1</span>
      <span class="n">network_name</span> <span class="n">commander_of_the_net</span>
  <span class="n">end_comm</span>
<span class="n">end_platform</span>

<span class="n">platform</span>  <span class="n">radar1</span>  <span class="n">RADAR_TYPE</span>
  <span class="n">comm</span> <span class="n">comm1</span>
      <span class="n">network_name</span> <span class="n">commander_of_the_net</span>
  <span class="n">end_comm</span>
<span class="n">end_platform</span>
<span class="n">platform</span>  <span class="n">radar2</span>  <span class="n">RADAR_TYPE</span>
  <span class="n">comm</span> <span class="n">comm1</span>
      <span class="n">network_name</span> <span class="n">commander_of_the_net</span>
  <span class="n">end_comm</span>
<span class="n">end_platform</span>

<span class="c1"># define the star network by defining the network_name to a star network</span>
<span class="c1"># this can be done after the platforms are instantiated because it is an attribute, just like a signature.</span>
<span class="n">network</span> <span class="n">commander_of_the_net</span> <span class="n">WSF_COMM_NETWORK_STAR</span>
   <span class="n">hub_named</span> <span class="n">commander_of_the_net</span> <span class="n">comm1</span>  <span class="c1">#commander is the hub</span>
<span class="c1">## comm_list not needed because they are defined at instantiation -  this would be overkill.</span>
<span class="c1">#   comm_list</span>
<span class="c1">#      member launcher1 comm1</span>
<span class="c1">#      member radar1 comm1</span>
<span class="c1">#      member radar2 comm1</span>
<span class="c1">#      member launcher2 comm1</span>
<span class="c1">#   end_comm_list</span>
<span class="n">end_network</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The commander does NOT have to be the hub</p>
</div>
</section>
</section>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    <p class="logo"><a href="../main_page.html">
      <img class="logo" src="../../_static/sidebar_logo.png" alt="Logo"/>
    </a></p>
  

<script src="../../_static/extension.js"></script>
<p>
   <ul class="Core-menu">
      <li><a href="../main_page.html">Main Page</a></li>
      <li><a href="../changelog/afsim_2.9.html">Changelog</a> | <a href="../afsim_change_log.html">History</a></li>
      <li><a href="../documents.html">Documents</a></li>
      <li><a href="../security_info.html">Security Information</a></li>
      <li><a href="../contact_info.html">Contact Information</a></li>
   </ul>
</p>

<br>
<hr>
<br>

<p>
   <h3>Core Apps</h3>
   <ul class="Core-menu">
     <li><a href="../wsf_core.html">Main Page</a></li>
     <li><a href="../wsf_reference_guide.html">Reference Guide</a></li>
     <li><a href="../changelog/wsf_2.9.html">Changelog</a> | <a href="../wsf_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Demos</h3>
   <ul class="DEMOS-menu">
     <li><a href="../changelog/demos_2.9.html">Changelog</a> | <a href="../demos_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Mystic</h3>
   <ul class="Mystic-menu">
     <li><a href="../mystic.html">Main Page</a></li>
     <li><a href="../mystic_users_guide.html">User's Guide</a></li>
     <li><a href="../mystic_reference_guide.html">Reference Guide</a></li>
     <li><a href="../pymystic.html">Batch Processing</a></li>
     <li><a href="../changelog/mystic_2.9.html">Changelog</a> | <a href="../mystic_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Warlock</h3>
   <ul class="WARLOCK-menu">
     <li><a href="../warlock.html">Main Page</a></li>
     <li><a href="../warlock_users_guide.html">User's Guide</a></li>
     <li><a href="../warlock_reference_guide.html">Reference Guide</a></li>
     <li><a href="../changelog/warlock_2.9.html">Changelog</a> | <a href="../warlock_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Wizard</h3>
   <ul class="WIZARD-menu">
     <li><a href="../wizard.html">Main Page</a></li>
     <li><a href="../wizard_users_guide.html">User's Guide</a></li>
     <li><a href="../wizard_reference_guide.html">Reference Guide</a></li>
     <li><a href="../changelog/wizard_2.9.html">Changelog</a> | <a href="../wizard_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>EVT Reader</h3>
   <ul class="EvtReader-menu">
     <li><a href="../evtreader.html">Main Page</a></li>
   </ul>
</p>

<p>
   <h3>Mover Creator</h3>
   <ul class="MoverCreator-menu">
     <li><a href="../mover_creator.html">Main Page</a></li>
     <li><a href="../mc_users_guide.html">User's Guide</a></li>
     <li><a href="../mc_reference_guide.html">Reference Guide</a></li>
     <li><a href="../changelog/mover_creator_2.9.html">Changelog</a> | <a href="../mc_change_log.html">History</a></li>
   </ul>
</p>

<br>
<hr>
<br>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/docs/analyst_ocd/comm_2_4_conversion_guide.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="comm_sensor_and_jamming_equations.html" title="Communication, Sensor and Jamming Systems Equations"
             >next</a> |</li>
        <li class="right" >
          <a href="../amti_component.html" title="AMTI Component"
             >previous</a> |</li>
  <li>
    <img src="../../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="../main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Multiple, All Rights Reserved.
      Last updated on Feb 25, 2022.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>