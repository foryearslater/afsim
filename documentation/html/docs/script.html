
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>script &#8212; AFSIM 2.9.0 Documentation</title>
    <link rel="stylesheet" href="../_static/wsftheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/collapse.css" />
    <link rel="stylesheet" type="text/css" href="../_static/admonition.css" />
    <link rel="stylesheet" type="text/css" href="../_static/table.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pseudo-header.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pseudo-topic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/quick-search.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/collapse_sections.js"></script>
    
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Array" href="script/array.html" />
    <link rel="prev" title="Scheduler Commands" href="scheduler_commands.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="script/array.html" title="Array"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="scheduler_commands.html" title="Scheduler Commands"
             accesskey="P">previous</a> |</li>
  <li>
    <img src="../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="script">
<span id="id1"></span><h1>script<a class="headerlink" href="#script" title="Permalink to this headline">¶</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Scripts provide a way for the user to execute a complex set of instructions based upon events that occur in the
simulation.  The language is similar to C# and Java and should be familiar to anyone with basic programming skills. It
is block-structured and contains familiar declaration, assignment, and flow control statements that allow the user to
examine and manipulate the simulation environment.</p>
<p>Scripts are essentially a list of instructions that are generated by the script compiler that understands the scripting
language syntax and how to translate that into the appropriate instructions.  Once compiled, scripts can be executed in
a script context (execution context), which is responsible for interpreting the script’s instructions and providing the
interface between the script and application (i.e., simulation) layers.  In WSF, the execution contexts are chained
to form a tree structure allowing child contexts to inherit scripts that are defined by their parents (see figure
below).</p>
<img alt="../_images/scripting_language.jpg" src="../_images/scripting_language.jpg" />
<p>As shown, the global simulation instance, platforms, and certain platform parts contain a script context allowing them
to execute scripts.  A script defined in the simulations ‘global’ context is accessible by all platforms and platform
parts.  Just as a script defined in a particular platform is accessible to all of its platform parts.   However, the
reverse situation is not true.  Platforms cannot access scripts defined on their platform parts.</p>
<p>For completion, the script grammar is defined here: <a class="reference internal" href="scripting_language_grammar.html#script-grammar"><span class="std std-ref">Script Language Grammar</span></a>.</p>
</section>
<section id="basic-types">
<h2>Basic Types<a class="headerlink" href="#basic-types" title="Permalink to this headline">¶</a></h2>
<p>Script has 4 basic types.  Basic types are copied when assigned to variables and passed to functions.  The basic types
are:</p>
<dl>
<dt>int</dt><dd><p>A 32-bit integer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">prime5</span> <span class="o">=</span> <span class="mi">11</span><span class="p">;</span>
</pre></div>
</div>
</dd>
<dt>bool</dt><dd><p>A Boolean value.  Either ‘true’ or ‘false’:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bool</span> <span class="n">isTrue</span> <span class="o">=</span> <span class="n">true</span><span class="p">;</span>
</pre></div>
</div>
</dd>
<dt>double</dt><dd><p>A double-precision floating-point value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">double</span> <span class="n">gravity</span> <span class="o">=</span> <span class="mf">9.8</span><span class="p">;</span>
</pre></div>
</div>
</dd>
<dt>string</dt><dd><p>A string of characters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">string</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Hello World&quot;</span><span class="p">;</span>
</pre></div>
</div>
</dd>
</dl>
<p>Basic types support a number of operators.  ‘int’ and ‘double’ both support basic arithmetic and comparison:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Arithmetic</span> <span class="p">(</span> <span class="o">+</span><span class="p">,</span> <span class="o">-</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="o">/</span> <span class="p">)</span>
<span class="n">double</span> <span class="n">abc</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span> <span class="o">+</span> <span class="mf">2.5</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">;</span>
<span class="o">//</span> <span class="n">Arithmetic</span> <span class="n">assignment</span><span class="p">:</span> <span class="p">(</span> <span class="o">+=</span><span class="p">,</span> <span class="o">-=</span><span class="p">,</span> <span class="o">*=</span><span class="p">,</span> <span class="o">/=</span> <span class="p">)</span>
<span class="n">abc</span> <span class="o">+=</span> <span class="mf">5.0</span><span class="p">;</span>  <span class="o">//</span> <span class="n">add</span> <span class="mi">5</span> <span class="n">to</span> <span class="n">abc</span>
<span class="o">//</span> <span class="n">Comparison</span> <span class="p">(</span> <span class="o">&gt;</span><span class="p">,</span> <span class="o">&gt;=</span><span class="p">,</span> <span class="o">&lt;</span><span class="p">,</span> <span class="o">&lt;=</span><span class="p">,</span> <span class="o">==</span><span class="p">,</span> <span class="o">!=</span> <span class="p">)</span>
<span class="nb">bool</span> <span class="n">isPositive</span> <span class="o">=</span> <span class="n">abc</span> <span class="o">&gt;</span> <span class="mf">0.0</span><span class="p">;</span>
</pre></div>
</div>
<p>‘string’ supports comparison operators and ‘+’ as concatenation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">string</span> <span class="n">alphabet</span> <span class="o">=</span> <span class="s2">&quot;alphabet&quot;</span><span class="p">;</span>
<span class="n">string</span> <span class="n">zoo</span> <span class="o">=</span> <span class="s2">&quot;zoo&quot;</span><span class="p">;</span>
<span class="nb">bool</span> <span class="n">trueVal</span> <span class="o">=</span> <span class="n">alphabet</span> <span class="o">&lt;</span> <span class="n">zoo</span><span class="p">;</span>
<span class="n">string</span> <span class="n">combine</span> <span class="o">=</span> <span class="n">alphabet</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">zoo</span><span class="p">;</span>
</pre></div>
</div>
<p>‘bool’ supports comparison operators, as expected.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bool</span> <span class="n">trueVal</span> <span class="o">=</span> <span class="n">true</span> <span class="o">!=</span> <span class="n">false</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="script-classes">
<h2>Script Classes<a class="headerlink" href="#script-classes" title="Permalink to this headline">¶</a></h2>
<p>All other types are known as script classes.  These types are copied by reference.  A number of types are available,
see <a class="reference internal" href="script_types.html"><span class="doc">Script Types</span></a> for a full list.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Defining</span> <span class="n">a</span> <span class="n">variable</span> <span class="k">with</span> <span class="n">one</span> <span class="n">of</span> <span class="n">the</span> <span class="n">nonbasic</span> <span class="n">types</span><span class="o">.</span>
<span class="o">//</span> <span class="n">In</span> <span class="n">this</span> <span class="n">example</span><span class="p">,</span> <span class="n">val</span> <span class="n">has</span> <span class="n">no</span> <span class="n">value</span> <span class="ow">and</span> <span class="ow">is</span> <span class="s1">&#39;null&#39;</span><span class="o">.</span>

<span class="n">Vec3</span> <span class="n">val</span><span class="p">;</span>

<span class="o">//</span> <span class="n">This</span> <span class="n">creates</span> <span class="n">a</span> <span class="n">new</span> <span class="n">Vec3</span> <span class="n">value</span>

<span class="n">Vec3</span> <span class="n">val2</span> <span class="o">=</span> <span class="n">Vec3</span><span class="p">();</span>

<span class="o">//</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">example</span> <span class="n">of</span> <span class="n">calling</span> <span class="n">a</span> <span class="n">static</span> <span class="n">method</span> <span class="n">which</span> <span class="n">returns</span> <span class="n">a</span> <span class="n">value</span><span class="o">.</span>

<span class="n">Vec3</span> <span class="n">val3</span> <span class="o">=</span> <span class="n">Vec3</span><span class="o">.</span><span class="n">Construct</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<p>Methods are functions that exist on script classes.  A method may either be static or non-static.  Static methods can
be called without a script object as in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Vec3</span><span class="o">.</span><span class="n">Construct</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
<p>Non-static methods must be called on a valid object, as in Magnitude():</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Vec3</span> <span class="n">v</span> <span class="o">=</span> <span class="n">Vec3</span><span class="o">.</span><span class="n">Construct</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
<span class="n">double</span> <span class="n">length</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Magnitude</span><span class="p">();</span>
</pre></div>
</div>
<p>Calling a non-static method on an invalid object results in an error at runtime:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Vec3</span> <span class="n">v</span><span class="p">;</span>
<span class="n">v</span><span class="o">.</span><span class="n">Magnitude</span><span class="p">();</span> <span class="o">//</span> <span class="n">produces</span> <span class="n">an</span> <span class="n">error</span><span class="p">,</span> <span class="n">v</span> <span class="ow">is</span> <span class="n">uninitialized</span> <span class="ow">and</span> <span class="n">therefore</span> <span class="s1">&#39;null&#39;</span>
</pre></div>
</div>
<p>Objects may be tested for validity like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">{</span>
   <span class="n">double</span> <span class="n">length</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Magnitude</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="scripts">
<h2>Scripts<a class="headerlink" href="#scripts" title="Permalink to this headline">¶</a></h2>
<p>User-defined functions are called ‘scripts’.  Usually scripts have this syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">script</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">script</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">([</span><span class="o">&lt;</span><span class="n">variable</span><span class="o">-</span><span class="n">declaration</span><span class="o">-</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">])</span>
   <span class="o">&lt;</span><span class="n">script</span><span class="o">-</span><span class="n">commands</span><span class="o">...&gt;</span>
<span class="n">end_script</span>
</pre></div>
</div>
<p>Scripts may call other scripts defined in the same context or scripts defined in a parent’s context.  Take this example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">script</span> <span class="nb">bool</span> <span class="n">global_script</span><span class="p">()</span>
   <span class="n">writeln</span><span class="p">(</span><span class="s2">&quot;Global script called&quot;</span><span class="p">);</span>
   <span class="k">return</span> <span class="n">true</span><span class="p">;</span>
<span class="n">end_script</span>

<span class="n">platform</span> <span class="n">plat</span> <span class="n">WSF_PLATFORM</span>
   <span class="n">script</span> <span class="n">void</span> <span class="n">local_script</span><span class="p">()</span>
      <span class="n">writeln</span><span class="p">(</span><span class="s2">&quot;Local script&quot;</span><span class="p">);</span>
   <span class="n">end_script</span>

   <span class="o">//</span> <span class="n">on_initialize</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">example</span> <span class="n">of</span> <span class="n">a</span> <span class="n">different</span> <span class="n">script</span> <span class="n">syntax</span><span class="o">.</span>
   <span class="n">on_initialize</span>
      <span class="o">//</span> <span class="n">Call</span> <span class="n">a</span> <span class="k">global</span> <span class="n">script</span><span class="p">,</span> <span class="n">accessible</span> <span class="n">anywhere</span>
      <span class="n">global_script</span><span class="p">();</span>
      <span class="o">//</span> <span class="n">Call</span> <span class="n">a</span> <span class="n">local</span> <span class="n">script</span><span class="p">,</span> <span class="n">only</span> <span class="n">accessible</span> <span class="n">on</span> <span class="n">this</span> <span class="n">platform</span>
      <span class="n">local_script</span><span class="p">();</span>

      <span class="o">//</span> <span class="n">To</span> <span class="n">call</span> <span class="n">a</span> <span class="n">script</span> <span class="n">defined</span> <span class="n">later</span><span class="p">,</span> <span class="n">you</span> <span class="n">must</span> <span class="n">declare</span> <span class="n">it</span> <span class="k">with</span> <span class="s1">&#39;extern&#39;</span>
      <span class="n">extern</span> <span class="nb">bool</span> <span class="n">global_later</span><span class="p">(</span><span class="n">double</span><span class="p">);</span>

      <span class="n">global_later</span><span class="p">(</span><span class="mf">123.0</span><span class="p">);</span>

   <span class="n">end_on_initialize</span>
<span class="n">end_platform</span>

<span class="n">script</span> <span class="nb">bool</span> <span class="n">global_later</span><span class="p">(</span><span class="n">double</span> <span class="n">value</span><span class="p">)</span>
   <span class="n">writeln</span><span class="p">(</span><span class="s2">&quot;global_later(&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="s2">&quot;)&quot;</span><span class="p">);</span>
<span class="n">end_script</span>

<span class="n">platform</span> <span class="n">plat2</span> <span class="n">WSF_PLATFORM</span>
   <span class="o">//</span> <span class="n">this</span> <span class="n">platform</span> <span class="n">doesn</span><span class="s1">&#39;t have direct access to scripts on &#39;</span><span class="n">plat</span><span class="s1">&#39;</span>
   <span class="o">//</span>
   <span class="n">script</span> <span class="n">void</span> <span class="n">call_plat1</span><span class="p">()</span>
      <span class="o">//</span> <span class="n">Find</span> <span class="n">the</span> <span class="n">platform</span> <span class="n">defined</span> <span class="n">above</span>
      <span class="n">WsfPlatform</span> <span class="n">plat</span> <span class="o">=</span> <span class="n">WsfSimulation</span><span class="o">.</span><span class="n">FindPlatform</span><span class="p">(</span><span class="s2">&quot;plat&quot;</span><span class="p">);</span>

      <span class="o">//</span> <span class="n">Here</span><span class="p">,</span> <span class="n">the</span> <span class="s1">&#39;.&#39;</span> <span class="n">operator</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">used</span> <span class="n">to</span> <span class="n">call</span> <span class="n">local_script</span><span class="p">()</span> <span class="n">on</span> <span class="s1">&#39;plat&#39;</span>
      <span class="o">//</span> <span class="n">The</span> <span class="s1">&#39;-&gt;&#39;</span> <span class="n">operator</span> <span class="n">allows</span> <span class="n">access</span> <span class="n">to</span> <span class="n">other</span> <span class="n">objects</span><span class="p">,</span> <span class="n">but</span> <span class="n">that</span> <span class="n">access</span> <span class="ow">is</span> <span class="ow">not</span>
      <span class="o">//</span> <span class="n">checked</span> <span class="n">at</span> <span class="n">startup</span><span class="o">.</span>
      <span class="n">plat</span><span class="o">-&gt;</span><span class="n">local_script</span><span class="p">();</span>

      <span class="o">//</span> <span class="n">If</span> <span class="n">a</span> <span class="n">mistake</span> <span class="ow">is</span> <span class="n">made</span><span class="p">,</span> <span class="n">an</span> <span class="n">error</span> <span class="ow">is</span> <span class="n">issued</span> <span class="n">at</span> <span class="n">run</span><span class="o">-</span><span class="n">time</span><span class="o">.</span>
      <span class="o">//</span> <span class="n">This</span> <span class="n">would</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">run</span><span class="o">-</span><span class="n">time</span> <span class="n">error</span><span class="p">:</span>
      <span class="o">//</span> <span class="n">plat</span><span class="o">-&gt;</span><span class="n">bad_script</span><span class="p">();</span>
   <span class="n">end_script</span>
<span class="n">end_platform</span>
</pre></div>
</div>
<section id="global-variables">
<h3>Global Variables<a class="headerlink" href="#global-variables" title="Permalink to this headline">¶</a></h3>
<p>Global variables allow values to be stored and accessed from more than one script.  When a global variable is defined,
it is global only to its parent context.  For instance, defining
a global variable on a platform allows access to that variable from that specific platform only.  There are multiple
ways to define global variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">variables</span> <span class="n">defined</span> <span class="ow">in</span> <span class="n">a</span> <span class="s1">&#39;script_variables&#39;</span> <span class="n">block</span> <span class="n">outside</span> <span class="n">of</span> <span class="n">a</span> <span class="n">platform</span> <span class="n">are</span> <span class="n">always</span> <span class="k">global</span><span class="o">.</span>
<span class="o">//</span> <span class="s1">&#39;x&#39;</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">true</span> <span class="s1">&#39;global&#39;</span> <span class="n">variable</span> <span class="n">available</span> <span class="n">anywhere</span>
<span class="n">script_variables</span>
   <span class="n">double</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">;</span>
<span class="n">end_script_variables</span>

<span class="n">platform</span> <span class="n">plat</span> <span class="n">WSF_PLATFORM</span>
   <span class="o">//</span> <span class="n">y</span> <span class="ow">is</span> <span class="n">a</span> <span class="k">global</span> <span class="n">variable</span> <span class="n">only</span> <span class="n">available</span> <span class="n">to</span> <span class="n">scripts</span> <span class="n">located</span> <span class="n">on</span> <span class="s1">&#39;plat&#39;</span>
   <span class="n">script_variables</span>
      <span class="n">double</span> <span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
   <span class="n">end_script_variables</span>

   <span class="n">script</span> <span class="n">void</span> <span class="n">test</span><span class="p">()</span>
      <span class="o">//</span> <span class="k">global</span> <span class="n">variables</span> <span class="n">can</span> <span class="n">be</span> <span class="n">used</span> <span class="n">just</span> <span class="n">like</span> <span class="n">regular</span> <span class="n">variables</span>
      <span class="n">y</span> <span class="o">+=</span> <span class="n">x</span><span class="p">;</span>

      <span class="o">//</span> <span class="k">global</span> <span class="n">variables</span> <span class="n">can</span> <span class="n">also</span> <span class="n">be</span> <span class="n">defined</span> <span class="ow">in</span> <span class="nb">any</span> <span class="n">script</span> <span class="n">using</span> <span class="n">the</span> <span class="s1">&#39;global&#39;</span> <span class="n">keyword</span><span class="p">:</span>
      <span class="k">global</span> <span class="n">double</span> <span class="n">z</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>
   <span class="n">end_script</span>

<span class="n">end_platform</span>

<span class="n">script</span> <span class="n">void</span> <span class="n">test2</span><span class="p">()</span>
   <span class="o">//</span> <span class="n">Find</span> <span class="n">the</span> <span class="n">platform</span> <span class="n">defined</span> <span class="n">above</span>
   <span class="n">WsfPlatform</span> <span class="n">plat</span> <span class="o">=</span> <span class="n">WsfSimulation</span><span class="o">.</span><span class="n">FindPlatform</span><span class="p">(</span><span class="s2">&quot;plat&quot;</span><span class="p">);</span>
   <span class="o">//</span> <span class="n">the</span> <span class="s1">&#39;-&gt;&#39;</span> <span class="n">operator</span> <span class="n">can</span> <span class="n">be</span> <span class="n">used</span> <span class="n">to</span> <span class="n">access</span> <span class="n">variables</span> <span class="n">belonging</span> <span class="n">to</span> <span class="n">an</span> <span class="nb">object</span><span class="o">.</span>
   <span class="n">plat</span><span class="o">-&gt;</span><span class="n">y</span> <span class="o">-=</span> <span class="n">x</span><span class="p">;</span>
<span class="n">end_script</span>
</pre></div>
</div>
</section>
<section id="static-variables">
<h3>Static Variables<a class="headerlink" href="#static-variables" title="Permalink to this headline">¶</a></h3>
<p>Static variables are variables that only have a single instance and are only initialized once.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">script</span> <span class="n">void</span> <span class="n">test_static</span><span class="p">()</span>
   <span class="o">//</span> <span class="n">In</span> <span class="n">this</span> <span class="n">example</span><span class="p">,</span> <span class="n">x</span> <span class="ow">is</span> <span class="n">initialized</span> <span class="n">to</span> <span class="mf">1.0</span> <span class="n">the</span> <span class="n">first</span> <span class="n">time</span> <span class="ow">in</span> <span class="n">this</span> <span class="n">script</span><span class="o">.</span>
   <span class="o">//</span> <span class="n">x</span><span class="s1">&#39;s value is maintained between calls to test_static().</span>
   <span class="o">//</span> <span class="n">This</span> <span class="n">would</span> <span class="n">output</span> <span class="mf">1234.</span><span class="o">..</span> <span class="n">one</span> <span class="n">number</span> <span class="k">for</span> <span class="n">each</span> <span class="n">call</span> <span class="n">to</span> <span class="n">test_static</span><span class="p">()</span><span class="o">.</span>
   <span class="n">static</span> <span class="n">double</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">;</span>
   <span class="n">write</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
   <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">end_script</span>
</pre></div>
</div>
</section>
<section id="casting">
<h3>Casting<a class="headerlink" href="#casting" title="Permalink to this headline">¶</a></h3>
<p>Casting converts a value from one type to another.  Casting is done with the syntax, (&lt;type&gt;)value.  Basic types may be
casted between freely:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">five</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="mf">5.5</span><span class="p">;</span>
<span class="n">string</span> <span class="n">fivePointFive</span> <span class="o">=</span> <span class="p">(</span><span class="n">string</span><span class="p">)</span><span class="mf">5.5</span><span class="p">;</span>
</pre></div>
</div>
<p>Casting between nonbasic types is allowed, but users should exercise caution.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WsfMessage</span> <span class="n">msg</span> <span class="o">=</span> <span class="n">GetControlMessage</span><span class="p">();</span>
<span class="p">((</span><span class="n">WsfControlMessage</span><span class="p">)</span><span class="n">msg</span><span class="p">)</span><span class="o">.</span><span class="n">SetResource</span><span class="p">(</span><span class="s2">&quot;my_resource&quot;</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="operators">
<h3>Operators<a class="headerlink" href="#operators" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">.</span></code></dt><dd><p>The ‘.’ operator is used to call <a class="reference internal" href="#methods">Methods</a> on script class objects, or static methods on script classes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">-&gt;</span></code></dt><dd><p>The ‘-&gt;’ operator is used to call user-defined scripts on objects, and get/set user-defined script variables on objects.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">+</span></code></dt><dd><p>Add numeric values, and concatenate strings</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">-</span></code></dt><dd><p>Subtract numeric values; 1 - 1</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">*</span></code></dt><dd><p>Multiply numeric values; 2 * 2</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">/</span></code></dt><dd><p>Divide numeric values; 4 / 2</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&gt;</span></code></dt><dd><p>Test for greater-than; 1 &gt; 0</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&gt;=</span></code></dt><dd><p>Test for greater-than or equal to; 1 &gt;= 1</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;</span></code></dt><dd><p>Test for less-than; 0 &lt; 1</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;=</span></code></dt><dd><p>Test for less-than or equal to; 0 &lt;= 1</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">==</span></code></dt><dd><p>Test for equal-to; 1 == 1</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">!=</span></code></dt><dd><p>Test for not-equal-to; 1 != 0</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">!</span></code></dt><dd><p>Boolean-not; true == !false</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">()</span></code></dt><dd><p>Ordering expressions; (1+1)*2 == 4</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">(&lt;type&gt;)</span></code></dt><dd><p><a class="reference internal" href="#casting">Casting</a> operator</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">=</span></code></dt><dd><p>Assignment operator; double x = 2.0;</p>
</dd>
</dl>
</section>
</section>
<section id="details">
<h2>Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
<p>This is detailed documentation of the script grammar</p>
</section>
<section id="notation">
<h2>Notation<a class="headerlink" href="#notation" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>Angle brackets ( <strong>&lt; &gt;</strong> ) surround category tags.</p></li>
<li><p>Brackets ( <strong>[ ]</strong> )surround optional items.</p></li>
<li><p>Curly braces ( <strong>{ }</strong> )surround repetitive items.</p></li>
<li><p>Single quotes (  ‘ ‘  )surround literal items.</p></li>
<li><p><strong>Bold text</strong> indicates a reserved word.</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The full grammar of the language can be found in <a class="reference internal" href="scripting_language_grammar.html#script-grammar"><span class="std std-ref">Scripting Language Grammar</span></a>.</p>
</div>
</section>
<section id="command-template">
<h2>Command Template<a class="headerlink" href="#command-template" title="Permalink to this headline">¶</a></h2>
<p>A script is defined using the following sequence:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">script</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">script</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">([</span><span class="o">&lt;</span><span class="n">variable</span><span class="o">-</span><span class="n">declaration</span><span class="o">-</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">])</span>
   <span class="o">&lt;</span><span class="n">script</span><span class="o">-</span><span class="n">commands</span><span class="o">&gt;</span>
<span class="n">end_script</span>
</pre></div>
</div>
</section>
<section id="language-description">
<h2>Language Description<a class="headerlink" href="#language-description" title="Permalink to this headline">¶</a></h2>
<p>The language is composed of the following constructs:</p>
<section id="identifier">
<h3>&lt;identifier&gt;<a class="headerlink" href="#identifier" title="Permalink to this headline">¶</a></h3>
<p>An identifier represents the name of a variable or function. An identifier starts with a letter (upper or lower case),
followed by zero or more letters, digits (0-9) or and underscore (‘_’). Identifiers are case-sensitive.  Therefore, the
identifiers ‘x1’ and ‘X1’ represent different variables. Examples of valid identifiers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span>
<span class="n">X1</span>
<span class="n">aLongIdentifier</span>
<span class="n">x_2</span>
</pre></div>
</div>
</section>
<section id="type">
<h3>&lt;type&gt;<a class="headerlink" href="#type" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Every variable has a ‘type’, which defines the type of data that it can contain. There are two main types of data:
<strong>&lt;basic_type&gt;</strong> and <strong>&lt;complex_type&gt;</strong>.  All types derive from a ‘base’ type called <strong>Object</strong>.</p>
</div></blockquote>
</section>
<section id="object">
<h3>Object<a class="headerlink" href="#object" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>A ‘base’ type that all other types are compatible with.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Object</span> <span class="n">myObject</span><span class="p">;</span>
<span class="n">myObject</span> <span class="o">=</span> <span class="s1">&#39;hello&#39;</span><span class="p">;</span>
<span class="n">myObject</span> <span class="o">=</span> <span class="mi">19</span><span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="basic-type">
<h3>&lt;basic_type&gt;<a class="headerlink" href="#basic-type" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The Script Language types match those that most modern programming languages provide:</p>
<ul class="simple">
<li><p>int</p></li>
<li><p>double</p></li>
<li><p>bool</p></li>
<li><p>string</p></li>
</ul>
</div></blockquote>
</section>
<section id="complex-type">
<h3>&lt;complex_type&gt;<a class="headerlink" href="#complex-type" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>These are more complex types that are typically composed of several basic_types or other complex types, and typically
include functions that can access and operate on the data within the type.  Complex types cannot be defined in script;
they are defined in C++ and exported for use in script.  A complete list of complex types is available in the
<a class="reference internal" href="script_types.html"><span class="doc">Script Types</span></a> section.</p>
</div></blockquote>
</section>
<section id="storage-type">
<h3>&lt;storage-type&gt;<a class="headerlink" href="#storage-type" title="Permalink to this headline">¶</a></h3>
<p>When variables are declared (see below) a memory storage type is either implicitly or explicitly set.  By default (if
no storage type is specified) variables are considered to be automatic, meaning they are created in the memory space of
the current <strong>&lt;block&gt;</strong>.  This also means that they are only available for use inside the current <strong>&lt;block&gt;</strong> and the
<strong>&lt;block&gt;</strong>s nested inside of it.  In addition to automatic variables there are <strong>global</strong> and <strong>static</strong> variables.
<strong>global</strong> variables are allocated in global memory and are available within all scripts. <strong>static</strong> variables work
just like automatic variables, except their memory (and its current value) is preserved between calls to a given script.</p>
</section>
<section id="expression">
<h3>&lt;expression&gt;<a class="headerlink" href="#expression" title="Permalink to this headline">¶</a></h3>
<p>An expression is anything that results in a single value.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">10</span> <span class="o">*</span> <span class="mi">3</span>
<span class="p">(</span><span class="s1">&#39;platform-1&#39;</span> <span class="o">==</span> <span class="n">platform</span><span class="o">.</span><span class="n">Name</span><span class="p">())</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="mi">5</span> <span class="o">&lt;</span> <span class="n">mX</span><span class="p">)</span>
<span class="n">Foo</span><span class="p">()</span>
<span class="n">mX</span>
<span class="n">MATH</span><span class="o">.</span><span class="n">Pi</span><span class="p">()</span>
<span class="p">(</span><span class="mf">9.99</span> <span class="o">&gt;=</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mf">1.23</span>
</pre></div>
</div>
</section>
<section id="expression-list">
<h3>&lt;expression-list&gt;<a class="headerlink" href="#expression-list" title="Permalink to this headline">¶</a></h3>
<p>A comma separated list of &lt;expression&gt;’s.</p>
</section>
<section id="cast">
<h3>&lt;cast&gt;<a class="headerlink" href="#cast" title="Permalink to this headline">¶</a></h3>
<p>Expressions can be cast to another type using the cast operation.  This is necessary in certain cases (see
<a class="reference internal" href="script/iterator.html#Iterator" title="Iterator"><span class="xref wsf wsf-class">Iterator</span></a>, <a class="reference internal" href="script/arrayiterator.html#ArrayIterator" title="ArrayIterator"><span class="xref wsf wsf-class">ArrayIterator</span></a>, and <a class="reference internal" href="script/iterator.html#Iterator" title="Iterator"><span class="xref wsf wsf-class">MapIterator</span></a> in the <a class="reference internal" href="script_types.html"><span class="doc">Script Types</span></a> section).</p>
<p><code class="docutils literal notranslate"><span class="pre">'('</span> <span class="pre">&lt;type&gt;</span> <span class="pre">')'</span> <span class="pre">&lt;expression&gt;</span></code></p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Object</span> <span class="n">obj</span> <span class="o">=</span> <span class="s1">&#39;my string&#39;</span><span class="p">;</span>
<span class="n">string</span> <span class="o">=</span> <span class="p">(</span><span class="n">string</span><span class="p">)</span><span class="n">obj</span><span class="p">;</span>

<span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">99</span><span class="p">;</span>
<span class="n">double</span> <span class="n">d</span> <span class="o">=</span> <span class="p">(</span><span class="n">double</span><span class="p">)</span><span class="n">i</span><span class="p">;</span>

<span class="n">WsfMessage</span> <span class="n">msg</span> <span class="o">=</span> <span class="n">GetControlMessage</span><span class="p">();</span>
<span class="p">(</span><span class="n">WsfControlMessage</span><span class="p">)</span><span class="n">msg</span><span class="o">.</span><span class="n">SetResource</span><span class="p">(</span><span class="s1">&#39;my_resource&#39;</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="statement">
<h3>&lt;statement&gt;<a class="headerlink" href="#statement" title="Permalink to this headline">¶</a></h3>
<p>A statement is defined as one of the following:</p>
</section>
<section id="variable-declaration">
<h3>&lt;variable-declaration&gt;<a class="headerlink" href="#variable-declaration" title="Permalink to this headline">¶</a></h3>
<p>Every variable must be declared before it is used.  A variable may be simply declared or it may be declared and
assigned a value. A variable declaration is one of the following:</p>
<p><code class="docutils literal notranslate"><span class="pre">[&lt;storage_type&gt;]</span> <span class="pre">&lt;type&gt;</span> <span class="pre">&lt;identifier&gt;</span> <span class="pre">';'</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">[&lt;storage_type&gt;]</span> <span class="pre">&lt;type&gt;</span> <span class="pre">&lt;identifier&gt;</span> <span class="pre">=</span> <span class="pre">&lt;expression&gt;</span> <span class="pre">';'</span></code></p>
<p>Examples of the former are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">i</span><span class="p">;</span>
<span class="n">static</span> <span class="n">j</span><span class="p">;</span>
<span class="n">WsfSensor</span> <span class="n">thisSensor</span><span class="p">;</span>
</pre></div>
</div>
<p>Examples of the latter are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">global</span> <span class="n">double</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">10.0</span> <span class="o">*</span> <span class="n">i</span><span class="p">;</span>
<span class="n">string</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;Hello, world&#39;</span><span class="p">;</span>
<span class="n">WsfSensor</span> <span class="n">thisSensor</span> <span class="o">=</span> <span class="n">PLATFORM</span><span class="o">.</span><span class="n">Sensor</span><span class="p">(</span><span class="s1">&#39;this_sensor&#39;</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="variable-assignment">
<h3>&lt;variable-assignment&gt;<a class="headerlink" href="#variable-assignment" title="Permalink to this headline">¶</a></h3>
<p>Simple values, complex expressions, and script/function return values can be assigned to variables using the assignment
operator.</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;variable&gt;</span> <span class="pre">=</span> <span class="pre">&lt;expression&gt;</span> <span class="pre">;</span></code></p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">x</span><span class="p">;</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="if-else">
<h3>&lt;if-else&gt;<a class="headerlink" href="#if-else" title="Permalink to this headline">¶</a></h3>
<p>The if-else statement allows users to select which statements to execute based on one or more expressions that
evaluates to a boolean.  The first condition that resolves to true executes the statements contained its &lt;block&gt;.</p>
<p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">'('</span> <span class="pre">&lt;expression&gt;</span> <span class="pre">')'</span> <span class="pre">&lt;block&gt;</span> <span class="pre">{</span> <span class="pre">else</span> <span class="pre">if</span> <span class="pre">'('</span> <span class="pre">&lt;expression&gt;</span> <span class="pre">')'</span> <span class="pre">&lt;block&gt;</span> <span class="pre">}</span> <span class="pre">[else</span> <span class="pre">&lt;block&gt;]</span></code></p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">string</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;platform-1&#39;</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;platform-2&#39;</span><span class="p">)</span>
<span class="p">{</span>
   <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Found platform-2&#39;</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;platform-1&#39;</span><span class="p">)</span>
<span class="p">{</span>
   <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Found platform-1&#39;</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
   <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Couldn</span><span class="se">\&#39;</span><span class="s1">t find platform 1 or 2&#39;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="while-loop">
<h3>&lt;while-loop&gt;<a class="headerlink" href="#while-loop" title="Permalink to this headline">¶</a></h3>
<p>The while statement allows users to iterate based on an expression that evaluates to a boolean.  The iteration
continues until the expression resolves to false.</p>
<p><code class="docutils literal notranslate"><span class="pre">while</span> <span class="pre">'('</span> <span class="pre">&lt;expression&gt;</span> <span class="pre">')'</span> <span class="pre">&lt;block&gt;</span></code></p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span>
<span class="p">{</span>
   <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;i is &#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
   <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="do-while-loop">
<h3>&lt;do-while-loop&gt;<a class="headerlink" href="#do-while-loop" title="Permalink to this headline">¶</a></h3>
<p>The do-while statement allows users to iterate based on an expression that evaluates to a boolean.  The iteration
continues until the expression resolves to false.  The difference between the do-while and while loop is the condition
is checked at the bottom of the do-while loop, which guarantees at least on iteration.</p>
<p><code class="docutils literal notranslate"><span class="pre">do</span> <span class="pre">&lt;block&gt;</span> <span class="pre">while</span> <span class="pre">'('</span> <span class="pre">&lt;expression&gt;</span> <span class="pre">')'</span></code></p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="n">do</span>
<span class="p">{</span>
   <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
   <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;i is &#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="for-loop">
<h3>&lt;for-loop&gt;<a class="headerlink" href="#for-loop" title="Permalink to this headline">¶</a></h3>
<p>The for statement allows users to iterate based on an expression that evaluates to a boolean.  The iteration continues
until the expression resolves to false.  In addition, it provides space for declaring a loop counter and increment
operation.</p>
<p><code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">'('</span> <span class="pre">[&lt;variable-declaration&gt;]</span> <span class="pre">';'</span> <span class="pre">[&lt;expression-list&gt;]</span> <span class="pre">';'</span> <span class="pre">[&lt;expression-list&gt;]</span> <span class="pre">')'</span> <span class="pre">&lt;block&gt;</span></code></p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">{</span>
   <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;i is &#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="foreach-loop">
<h3>&lt;foreach-loop&gt;<a class="headerlink" href="#foreach-loop" title="Permalink to this headline">¶</a></h3>
<p>The foreach loop allows users to iterate over the elements in a container, while providing access to the key and
data.</p>
<p><code class="docutils literal notranslate"><span class="pre">foreach</span> <span class="pre">'('</span> <span class="pre">[&lt;variable-declaration&gt;</span> <span class="pre">':']</span> <span class="pre">&lt;variable-declaration&gt;</span> <span class="pre">in</span> <span class="pre">&lt;expression&gt;</span> <span class="pre">')'</span> <span class="pre">&lt;block&gt;</span></code></p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">double</span><span class="o">&gt;</span> <span class="n">myMap</span> <span class="o">=</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">double</span><span class="o">&gt;</span><span class="p">();</span>
<span class="n">myMap</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.1</span><span class="p">;</span>
<span class="n">myMap</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">2.2</span><span class="p">;</span>

<span class="o">//</span> <span class="n">If</span> <span class="n">two</span> <span class="n">loop</span> <span class="n">variables</span> <span class="n">are</span> <span class="n">declared</span>
<span class="o">//</span> <span class="p">(</span><span class="n">separated</span> <span class="n">by</span> <span class="n">a</span> <span class="n">colon</span><span class="p">),</span> <span class="n">the</span> <span class="n">first</span> <span class="n">must</span> <span class="n">be</span>
<span class="o">//</span> <span class="n">the</span> <span class="n">key</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">second</span> <span class="n">must</span> <span class="n">be</span> <span class="n">the</span> <span class="n">data</span><span class="o">.</span>
<span class="n">foreach</span> <span class="p">(</span><span class="n">string</span> <span class="n">aKey</span> <span class="p">:</span> <span class="n">double</span> <span class="n">aData</span> <span class="ow">in</span> <span class="n">myMap</span><span class="p">)</span>
<span class="p">{</span>
   <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;key, data &#39;</span><span class="p">,</span> <span class="n">aKey</span><span class="p">,</span> <span class="s1">&#39;, &#39;</span><span class="p">,</span> <span class="n">aData</span><span class="p">);</span>
<span class="p">}</span>

<span class="o">//</span> <span class="n">If</span> <span class="n">one</span> <span class="n">loop</span> <span class="n">variable</span> <span class="ow">is</span> <span class="n">declared</span>
<span class="o">//</span> <span class="n">it</span> <span class="n">must</span> <span class="n">be</span> <span class="n">the</span> <span class="n">data</span><span class="o">.</span>
<span class="n">foreach</span> <span class="p">(</span><span class="n">double</span> <span class="n">aData</span> <span class="ow">in</span> <span class="n">myMap</span><span class="p">)</span>
<span class="p">{</span>
   <span class="n">Print</span><span class="p">(</span><span class="s1">&#39;data &#39;</span><span class="p">,</span> <span class="n">aData</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="break">
<h3>&lt;break&gt;<a class="headerlink" href="#break" title="Permalink to this headline">¶</a></h3>
<p>The break statement allows the user to jump out of the current block.</p>
<p><code class="docutils literal notranslate"><span class="pre">break</span> <span class="pre">';'</span></code></p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="p">(</span><span class="n">true</span><span class="p">)</span>
<span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">true</span><span class="p">)</span>
   <span class="p">{</span>
      <span class="k">break</span><span class="p">;</span>
      <span class="p">}</span>
   <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="continue">
<h3>&lt;continue&gt;<a class="headerlink" href="#continue" title="Permalink to this headline">¶</a></h3>
<p>The continue statement allows the user to ignore the rest of the statements in a loop and jump to the top of the
loop.</p>
<p><code class="docutils literal notranslate"><span class="pre">continue</span> <span class="pre">';'</span></code></p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>
   <span class="p">{</span>
      <span class="k">continue</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="return">
<h3>&lt;return&gt;<a class="headerlink" href="#return" title="Permalink to this headline">¶</a></h3>
<p>The return statement allows users to return a value from a script/function call.</p>
<p><code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">&lt;expression&gt;</span> <span class="pre">';'</span></code></p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">double</span> <span class="n">Multiply</span><span class="p">(</span><span class="n">double</span> <span class="n">aA</span><span class="p">,</span> <span class="n">double</span> <span class="n">aB</span><span class="p">)</span>
<span class="p">{</span>
   <span class="k">return</span> <span class="n">aA</span><span class="o">*</span><span class="n">aB</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="block">
<h3>&lt;block&gt;<a class="headerlink" href="#block" title="Permalink to this headline">¶</a></h3>
<p>A block is:</p>
<ul class="simple">
<li><p>Zero or more statements surrounded by script end_script</p></li>
<li><p>Zero or more statements surrounded by curly braces</p></li>
</ul>
<p>An example of the former is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">script</span> <span class="n">void</span> <span class="n">my_script</span><span class="p">()</span>
   <span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
   <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;i = &#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
<span class="n">end_script</span>
</pre></div>
</div>
<p>An example of the latter is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">true</span><span class="p">)</span>
   <span class="p">{</span>
   <span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
   <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;i = &#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="function-declaration">
<h3>&lt;function-declaration&gt;<a class="headerlink" href="#function-declaration" title="Permalink to this headline">¶</a></h3>
<p>Functions can be declared inside of scripts using the syntax below.  Functions can only be declared inside of a script.
If you need a function that is available to all scripts, define it as a script.</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;type&gt;</span> <span class="pre">&lt;identifier&gt;</span> <span class="pre">'('</span> <span class="pre">[&lt;variable-declaration-list&gt;]</span> <span class="pre">')'</span> <span class="pre">&lt;block&gt;</span></code></p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">double</span> <span class="n">Magnitude</span><span class="p">(</span><span class="n">double</span> <span class="n">aDx</span><span class="p">,</span> <span class="n">double</span> <span class="n">aDy</span><span class="p">)</span>
<span class="p">{</span>
   <span class="k">return</span> <span class="n">MATH</span><span class="o">.</span><span class="n">Sqrt</span><span class="p">(</span><span class="n">aDx</span><span class="o">*</span><span class="n">aDx</span> <span class="o">+</span> <span class="n">aDy</span><span class="o">*</span><span class="n">aDy</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="script/math.html#Math" title="Math"><span class="xref wsf wsf-class">MATH</span></a> is a system variable that is available to all scripts, which provides access to various math-based utilities.</p>
</div>
</section>
</section>
</section>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    <p class="logo"><a href="main_page.html">
      <img class="logo" src="../_static/sidebar_logo.png" alt="Logo"/>
    </a></p>
  

<script src="../_static/extension.js"></script>
<p>
   <ul class="Core-menu">
      <li><a href="main_page.html">Main Page</a></li>
      <li><a href="changelog/afsim_2.9.html">Changelog</a> | <a href="afsim_change_log.html">History</a></li>
      <li><a href="documents.html">Documents</a></li>
      <li><a href="security_info.html">Security Information</a></li>
      <li><a href="contact_info.html">Contact Information</a></li>
   </ul>
</p>

<br>
<hr>
<br>

<p>
   <h3>Core Apps</h3>
   <ul class="Core-menu">
     <li><a href="wsf_core.html">Main Page</a></li>
     <li><a href="wsf_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/wsf_2.9.html">Changelog</a> | <a href="wsf_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Demos</h3>
   <ul class="DEMOS-menu">
     <li><a href="changelog/demos_2.9.html">Changelog</a> | <a href="demos_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Mystic</h3>
   <ul class="Mystic-menu">
     <li><a href="mystic.html">Main Page</a></li>
     <li><a href="mystic_users_guide.html">User's Guide</a></li>
     <li><a href="mystic_reference_guide.html">Reference Guide</a></li>
     <li><a href="pymystic.html">Batch Processing</a></li>
     <li><a href="changelog/mystic_2.9.html">Changelog</a> | <a href="mystic_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Warlock</h3>
   <ul class="WARLOCK-menu">
     <li><a href="warlock.html">Main Page</a></li>
     <li><a href="warlock_users_guide.html">User's Guide</a></li>
     <li><a href="warlock_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/warlock_2.9.html">Changelog</a> | <a href="warlock_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Wizard</h3>
   <ul class="WIZARD-menu">
     <li><a href="wizard.html">Main Page</a></li>
     <li><a href="wizard_users_guide.html">User's Guide</a></li>
     <li><a href="wizard_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/wizard_2.9.html">Changelog</a> | <a href="wizard_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>EVT Reader</h3>
   <ul class="EvtReader-menu">
     <li><a href="evtreader.html">Main Page</a></li>
   </ul>
</p>

<p>
   <h3>Mover Creator</h3>
   <ul class="MoverCreator-menu">
     <li><a href="mover_creator.html">Main Page</a></li>
     <li><a href="mc_users_guide.html">User's Guide</a></li>
     <li><a href="mc_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/mover_creator_2.9.html">Changelog</a> | <a href="mc_change_log.html">History</a></li>
   </ul>
</p>

<br>
<hr>
<br>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/docs/script.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="script/array.html" title="Array"
             >next</a> |</li>
        <li class="right" >
          <a href="scheduler_commands.html" title="Scheduler Commands"
             >previous</a> |</li>
  <li>
    <img src="../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Multiple, All Rights Reserved.
      Last updated on Feb 25, 2022.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>