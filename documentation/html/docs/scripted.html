
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Scripted &#8212; AFSIM 2.9.0 Documentation</title>
    <link rel="stylesheet" href="../_static/wsftheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/collapse.css" />
    <link rel="stylesheet" type="text/css" href="../_static/admonition.css" />
    <link rel="stylesheet" type="text/css" href="../_static/table.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pseudo-header.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pseudo-topic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/quick-search.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/collapse_sections.js"></script>
    
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Script Language Grammar" href="scripting_language_grammar.html" />
    <link rel="prev" title="Script Variables" href="script_variables.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="scripting_language_grammar.html" title="Script Language Grammar"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="script_variables.html" title="Script Variables"
             accesskey="P">previous</a> |</li>
  <li>
    <img src="../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="scripted">
<h1>Scripted<a class="headerlink" href="#scripted" title="Permalink to this headline">¶</a></h1>
<p><strong>Script Type:</strong> <a class="reference internal" href="script/wsforbitalscriptevent.html#WsfOrbitalScriptEvent" title="WsfOrbitalScriptEvent"><span class="xref wsf wsf-class">WsfOrbitalScriptEvent</span></a></p>
<pre class="literal-block"><a class="reference internal" href="orbital_event.html"><span class="doc">event</span></a> scripted
   <a class="reference internal" href="orbital_event.html#orbital-event-common-commands"><span class="std std-ref">&lt;Common Mission Event Commands&gt;</span></a>
   <a class="reference internal" href="#on_initialize">on_initialize</a> ... end_on_initialize
   <a class="reference internal" href="#on_update">on_update</a>     ... end_on_update
   <a class="reference internal" href="#on_complete">on_complete</a>   ... end_on_complete
   <a class="reference internal" href="#is_complete">is_complete</a>   ... end_is_complete
end_event</pre>
<p>Perform a set of scripted operations.  Scripts may be defined completely within each block, or they may reference scripts defined elsewhere (such as on the <a class="reference internal" href="wsf_space_mover.html#WSF_SPACE_MOVER" title="WSF_SPACE_MOVER"><span class="xref wsf wsf-model">WSF_SPACE_MOVER</span></a>, the parent platform, or at global scope).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Scripts that invoke other mission events can only be called from the <a class="reference internal" href="#on_complete">on_complete</a> script, as doing so would invalidate the current event from which the script is being called.</p>
</div>
<dl class="command">
<dt id="on_initialize">
on_initialize …script_body… end_on_initialize<a class="headerlink" href="#on_initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a script that is executed when the event is initialized.  This initialization occurs when the mission event is scheduled, which is either when the mission sequence is scheduled for the first event of a mission sequence, or immediately upon completion of the previous event of a mission sequence.</p>
<pre class="literal-block">on_initialize
   <a class="reference internal" href="script.html#script"><span class="std std-ref">Script Body</span></a>
end_on_initialize</pre>
</dd></dl>

<dl class="command">
<dt id="on_update">
on_update …script_body… end_on_update<a class="headerlink" href="#on_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a script that executes with the <a class="reference internal" href="orbital_event.html#orbital-event-common-commands"><span class="std std-ref">update_interval</span></a> and <a class="reference internal" href="orbital_event.html#orbital-event-common-commands"><span class="std std-ref">duration</span></a> of the event, starting from the time at which the event’s constraint is first met.  If <em>duration</em> is not defined the script is always executed once.  If the <a class="reference internal" href="#is_complete">is_complete</a> script is defined and the event is <a class="reference internal" href="orbital_event.html#orbital-event-common-commands"><span class="std std-ref">finite</span></a>, it is also updated at subsequent constraint times, until the <a class="reference internal" href="#is_complete">is_complete</a> script returns <em>true</em>.  Alternately, if <a class="reference internal" href="orbital_event.html#orbital-event-common-commands"><span class="std std-ref">duration</span></a> is defined, the event will execute at the specified <a class="reference internal" href="orbital_event.html#orbital-event-common-commands"><span class="std std-ref">update_rate</span></a> for the given duration (see examples, below).</p>
<pre class="literal-block">on_update
   <a class="reference internal" href="script.html#script"><span class="std std-ref">Script Body</span></a>
end_on_update</pre>
</dd></dl>

<dl class="command">
<dt id="on_complete">
on_complete …script_body… end_on_complete<a class="headerlink" href="#on_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a script that executes on completion of a mission event.</p>
<pre class="literal-block">on_complete
   <a class="reference internal" href="script.html#script"><span class="std std-ref">Script Body</span></a>
end_on_complete</pre>
</dd></dl>

<dl class="command">
<dt id="is_complete">
is_complete …script_body… end_is_complete<a class="headerlink" href="#is_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a script that determines whether the script event is complete.  If <em>false</em>, the event continues to execute; if <em>true</em>, the event is considered complete, and the <a class="reference internal" href="#on_complete">on_complete</a> script is called. If defined, this script is called immediately after each event update, and it overrides any <a class="reference internal" href="orbital_event.html#orbital-event-common-commands"><span class="std std-ref">duration</span></a> command.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This script must return a bool.</p>
</div>
<pre class="literal-block">is_complete
   <a class="reference internal" href="script.html#script"><span class="std std-ref">Script Body</span></a>
end_is_complete</pre>
</dd></dl>

<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Example</span> <span class="nb">input</span> <span class="k">for</span> <span class="n">a</span> <span class="n">scripted</span> <span class="n">event</span> <span class="n">within</span> <span class="n">a</span> <span class="n">WSF_SPACE_MOVER</span> <span class="n">definition</span>
<span class="n">script_variables</span>
   <span class="nb">int</span> <span class="n">gUpdateNum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">end_script_variables</span>

<span class="n">script</span> <span class="n">void</span> <span class="n">DoSomething</span><span class="p">()</span>
   <span class="o">//</span> <span class="n">Insert</span> <span class="n">code</span> <span class="n">here</span>
<span class="n">end_script</span>

<span class="n">mission_sequence</span>
   <span class="n">event</span> <span class="n">scripted</span>
      <span class="n">execute_at</span> <span class="n">eclipse_entry</span>
      <span class="n">update_interval</span> <span class="mi">10</span> <span class="n">s</span>
      <span class="n">finite</span>  <span class="o">//</span> <span class="n">needed</span> <span class="n">to</span> <span class="n">execute</span> <span class="n">multiple</span> <span class="n">times</span>
      <span class="n">on_initialize</span>
         <span class="n">writeln</span><span class="p">(</span><span class="s2">&quot;Initialized&quot;</span><span class="p">);</span>
      <span class="n">end_on_initialize</span>
      <span class="n">on_update</span>
         <span class="n">gUpdateNum</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
         <span class="n">DoSomething</span><span class="p">();</span>
         <span class="n">writeln</span><span class="p">(</span><span class="s2">&quot;Update &quot;</span><span class="p">,</span> <span class="n">gUpdateNum</span><span class="p">);</span>
      <span class="n">end_on_update</span>
      <span class="n">is_complete</span>
         <span class="k">return</span> <span class="p">(</span><span class="n">gUpdateNum</span> <span class="o">==</span> <span class="mi">100</span><span class="p">);</span> <span class="o">//</span> <span class="n">Execute</span> <span class="mi">100</span> <span class="n">times</span>
      <span class="n">end_is_complete</span>
      <span class="n">on_complete</span>
         <span class="n">writeln</span><span class="p">(</span><span class="s2">&quot;Complete&quot;</span><span class="p">);</span>
      <span class="n">end_on_complete</span>
   <span class="n">end_event</span>
<span class="n">end_mission_sequence</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Example</span> <span class="nb">input</span> <span class="k">for</span> <span class="n">a</span> <span class="n">scripted</span> <span class="n">event</span> <span class="n">within</span> <span class="n">a</span> <span class="n">WSF_SPACE_MOVER</span> <span class="n">definition</span>
<span class="o">//</span> <span class="p">(</span><span class="n">same</span> <span class="k">as</span> <span class="n">above</span><span class="p">,</span> <span class="n">using</span> <span class="n">duration</span> <span class="n">instead</span> <span class="n">of</span> <span class="n">is_complete</span> <span class="n">script</span><span class="p">)</span>
<span class="n">script</span> <span class="n">void</span> <span class="n">DoSomething</span><span class="p">()</span>
   <span class="o">//</span> <span class="n">Insert</span> <span class="n">code</span> <span class="n">here</span>
<span class="n">end_script</span>

<span class="n">mission_sequence</span>
   <span class="n">event</span> <span class="n">scripted</span>
      <span class="n">execute_at</span> <span class="n">eclipse_entry</span>
      <span class="n">update_interval</span> <span class="mi">10</span> <span class="n">s</span>
      <span class="n">duration</span> <span class="mi">990</span> <span class="n">s</span> <span class="o">//</span> <span class="n">Execute</span> <span class="mi">100</span> <span class="n">times</span>
      <span class="n">on_initialize</span>
         <span class="n">writeln</span><span class="p">(</span><span class="s2">&quot;Initialized&quot;</span><span class="p">);</span>
      <span class="n">end_on_initialize</span>
      <span class="n">on_update</span>
         <span class="n">static</span> <span class="nb">int</span> <span class="n">sUpdateNum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
         <span class="n">sUpdateNum</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
         <span class="n">DoSomething</span><span class="p">();</span>
         <span class="n">writeln</span><span class="p">(</span><span class="s2">&quot;Update &quot;</span><span class="p">,</span> <span class="n">sUpdateNum</span><span class="p">);</span>
      <span class="n">end_on_update</span>
      <span class="n">on_complete</span>
         <span class="n">writeln</span><span class="p">(</span><span class="s2">&quot;Complete&quot;</span><span class="p">);</span>
      <span class="n">end_on_complete</span>
   <span class="n">end_event</span>
<span class="n">end_mission_sequence</span>
</pre></div>
</div>
</section>
</section>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    <p class="logo"><a href="main_page.html">
      <img class="logo" src="../_static/sidebar_logo.png" alt="Logo"/>
    </a></p>
  

<script src="../_static/extension.js"></script>
<p>
   <ul class="Core-menu">
      <li><a href="main_page.html">Main Page</a></li>
      <li><a href="changelog/afsim_2.9.html">Changelog</a> | <a href="afsim_change_log.html">History</a></li>
      <li><a href="documents.html">Documents</a></li>
      <li><a href="security_info.html">Security Information</a></li>
      <li><a href="contact_info.html">Contact Information</a></li>
   </ul>
</p>

<br>
<hr>
<br>

<p>
   <h3>Core Apps</h3>
   <ul class="Core-menu">
     <li><a href="wsf_core.html">Main Page</a></li>
     <li><a href="wsf_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/wsf_2.9.html">Changelog</a> | <a href="wsf_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Demos</h3>
   <ul class="DEMOS-menu">
     <li><a href="changelog/demos_2.9.html">Changelog</a> | <a href="demos_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Mystic</h3>
   <ul class="Mystic-menu">
     <li><a href="mystic.html">Main Page</a></li>
     <li><a href="mystic_users_guide.html">User's Guide</a></li>
     <li><a href="mystic_reference_guide.html">Reference Guide</a></li>
     <li><a href="pymystic.html">Batch Processing</a></li>
     <li><a href="changelog/mystic_2.9.html">Changelog</a> | <a href="mystic_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Warlock</h3>
   <ul class="WARLOCK-menu">
     <li><a href="warlock.html">Main Page</a></li>
     <li><a href="warlock_users_guide.html">User's Guide</a></li>
     <li><a href="warlock_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/warlock_2.9.html">Changelog</a> | <a href="warlock_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Wizard</h3>
   <ul class="WIZARD-menu">
     <li><a href="wizard.html">Main Page</a></li>
     <li><a href="wizard_users_guide.html">User's Guide</a></li>
     <li><a href="wizard_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/wizard_2.9.html">Changelog</a> | <a href="wizard_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>EVT Reader</h3>
   <ul class="EvtReader-menu">
     <li><a href="evtreader.html">Main Page</a></li>
   </ul>
</p>

<p>
   <h3>Mover Creator</h3>
   <ul class="MoverCreator-menu">
     <li><a href="mover_creator.html">Main Page</a></li>
     <li><a href="mc_users_guide.html">User's Guide</a></li>
     <li><a href="mc_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/mover_creator_2.9.html">Changelog</a> | <a href="mc_change_log.html">History</a></li>
   </ul>
</p>

<br>
<hr>
<br>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/docs/scripted.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="scripting_language_grammar.html" title="Script Language Grammar"
             >next</a> |</li>
        <li class="right" >
          <a href="script_variables.html" title="Script Variables"
             >previous</a> |</li>
  <li>
    <img src="../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Multiple, All Rights Reserved.
      Last updated on Feb 25, 2022.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>