
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Script demo 1.txt &#8212; AFSIM 2.9.0 Documentation</title>
    <link rel="stylesheet" href="../_static/wsftheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/collapse.css" />
    <link rel="stylesheet" type="text/css" href="../_static/admonition.css" />
    <link rel="stylesheet" type="text/css" href="../_static/table.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pseudo-header.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pseudo-topic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/quick-search.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/collapse_sections.js"></script>
    
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Script demo 2.txt" href="script_demo_2.txt.html" />
    <link rel="prev" title="Script Commands" href="script_commands.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="script_demo_2.txt.html" title="Script demo 2.txt"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="script_commands.html" title="Script Commands"
             accesskey="P">previous</a> |</li>
  <li>
    <img src="../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="script-demo-1-txt">
<h1>Script demo 1.txt<a class="headerlink" href="#script-demo-1-txt" title="Permalink to this headline">Â¶</a></h1>
<pre class="literal-block">#         1         2         3         4         5         6         7
#234567890123456789012345678901234567890123456789012345678901234567890123456789
################################################################################
#                           Basic <a class="reference internal" href="script_commands.html#_.script_commands.script" title="script (_.script_commands)"><span class="xref wsf wsf-command">Script</span></a> Demo
#
# This is a basic <a class="reference internal" href="script_commands.html#_.script_commands.script" title="script (_.script_commands)"><span class="xref wsf wsf-command">script</span></a> example that demonstrates some the features
# of the scripting language and how to use scripting in a WSF component.
#
# In this scenario we have:
#
# a) an air <a class="reference internal" href="platform.html#platform" title="platform"><span class="xref wsf wsf-command">platform</span></a>.
#
# The air <a class="reference internal" href="platform.html#platform" title="platform"><span class="xref wsf wsf-command">platform</span></a> will fly a <a class="reference internal" href="route.html#route" title="route"><span class="xref wsf wsf-command">route</span></a> and print its configuration using a <a class="reference internal" href="script_commands.html#_.script_commands.script" title="script (_.script_commands)"><span class="xref wsf wsf-command">script</span></a>.
#
################################################################################

<a class="reference internal" href="script_commands.html#_.script_commands.script_interface" title="script_interface (_.script_commands)"><span class="xref wsf wsf-command">script_interface</span></a>
   debug
end_script_interface

.. include:: dis_network.txt

################################################################################
// Define the <a class="reference internal" href="platform.html#platform" title="platform"><span class="xref wsf wsf-command">platform</span></a> type for the notional 737.

<a class="reference internal" href="platform.html#platform.platform_type" title="platform_type (platform)"><span class="xref wsf wsf-command">platform_type</span></a> 737 <a class="reference internal" href="wsf_platform.html#WSF_PLATFORM" title="WSF_PLATFORM"><span class="xref wsf wsf-model">WSF_PLATFORM</span></a>

   <a class="reference internal" href="mover.html#mover" title="mover"><span class="xref wsf wsf-command">mover</span></a> <a class="reference internal" href="wsf_air_mover.html#WSF_AIR_MOVER" title="WSF_AIR_MOVER"><span class="xref wsf wsf-model">WSF_AIR_MOVER</span></a>
   end_mover

   // This is an example single shot <a class="reference internal" href="processor.html#processor" title="processor"><span class="xref wsf wsf-command">processor</span></a> that runs only once.
   // It dumps out a bunch of information about the <a class="reference internal" href="platform.html#platform" title="platform"><span class="xref wsf wsf-command">platform</span></a>.  In its
   // current configuration it doesn't contain any sensors, <a class="reference internal" href="comm.html#comm" title="comm"><span class="xref wsf wsf-command">comm</span></a> devices, etc.
   <a class="reference internal" href="processor.html#processor" title="processor"><span class="xref wsf wsf-command">processor</span></a> show-config-proc <a class="reference internal" href="wsf_script_processor.html#WSF_SCRIPT_PROCESSOR" title="WSF_SCRIPT_PROCESSOR"><span class="xref wsf wsf-model">WSF_SCRIPT_PROCESSOR</span></a>
      update_interval 1.0 sec

      // An example of how to create instance variables.  These can be used
      // in any scripts defined within the current <a class="reference internal" href="processor.html#processor" title="processor"><span class="xref wsf wsf-command">processor</span></a>.
      <a class="reference internal" href="script_variables.html#scriptvariables"><span class="std std-ref">Script Variables</span></a>
         int mMyInt = 999;
         double mMyDouble = 123.456;
         <a class="reference internal" href="script/wsfplatform.html#WsfPlatform" title="WsfPlatform"><span class="xref wsf wsf-class">WsfPlatform</span></a> mMyPlatform = PLATFORM;

         // Create an <a class="reference internal" href="script/array.html#Array&lt;T&gt;" title="Array&lt;T&gt;"><span class="xref wsf wsf-class">Array&lt;T&gt;</span></a>.  Maps are also available (see the User's guide).
         <a class="reference internal" href="script/array.html#Array&lt;T&gt;" title="Array&lt;T&gt;"><span class="xref wsf wsf-class">Array&lt;double&gt;</span></a> mMyArray = <a class="reference internal" href="script/array.html#Array&lt;T&gt;" title="Array&lt;T&gt;"><span class="xref wsf wsf-class">Array&lt;double&gt;</span></a> ();
      end_script_variables

      // This is an example of how to create a <a class="reference internal" href="script_commands.html#_.script_commands.script" title="script (_.script_commands)"><span class="xref wsf wsf-command">script</span></a> that is available
      // on the current <a class="reference internal" href="processor.html#processor" title="processor"><span class="xref wsf wsf-command">processor</span></a>.
      <a class="reference internal" href="script_commands.html#_.script_commands.script" title="script (_.script_commands)"><span class="xref wsf wsf-command">script</span></a> void PrintPlatformName(<a class="reference internal" href="script/wsfplatform.html#WsfPlatform" title="WsfPlatform"><span class="xref wsf wsf-class">WsfPlatform</span></a> aPlatform)
         // Print name using <a class="reference internal" href="script_commands.html#_.script_commands.script" title="script (_.script_commands)"><span class="xref wsf wsf-command">script</span></a> argument.
         print(&quot;The <a class="reference internal" href="platform.html#platform" title="platform"><span class="xref wsf wsf-command">platform</span></a>'s name is &quot;, aPlatform.Name());

         // Print name using the <a class="reference internal" href="script_commands.html#_.script_commands.script" title="script (_.script_commands)"><span class="xref wsf wsf-command">script</span></a> variable (declared in <a class="reference internal" href="script_variables.html#scriptvariables"><span class="std std-ref">Script Variables</span></a>).
         print(&quot;The <a class="reference internal" href="platform.html#platform" title="platform"><span class="xref wsf wsf-command">platform</span></a>'s name is &quot;, mMyPlatform.Name());
      end_script

      // on_initialize is a 'common' <a class="reference internal" href="script_commands.html#_.script_commands.script" title="script (_.script_commands)"><span class="xref wsf wsf-command">script</span></a> provided by several WSF components
      // (see User's guide for a complete list).  Notice the syntax is different
      // from how regular scripts are declared.
      on_initialize
         print(&quot;on_initialize&quot;);

         // Add some data to the <a class="reference internal" href="script/array.html#Array&lt;T&gt;" title="Array&lt;T&gt;"><span class="xref wsf wsf-class">Array</span></a>.
         mMyArray.PushBack(1.2);
         mMyArray.PushBack(2.3);
         mMyArray.PushBack(3.4);
      end_on_initialize

      // on_update is a 'common' <a class="reference internal" href="script_commands.html#_.script_commands.script" title="script (_.script_commands)"><span class="xref wsf wsf-command">script</span></a> provided by several WSF components
      // (see User's guide for a complete list).  Notice the syntax is different
      // from how regular scripts are declared..
      on_update
         print(&quot;on_update&quot;);

         // Calls to external <a class="reference internal" href="script_commands.html#_.script_commands.script" title="script (_.script_commands)"><span class="xref wsf wsf-command">script</span></a> must be externed.
         extern void PrintPlatformName(<a class="reference internal" href="script/wsfplatform.html#WsfPlatform" title="WsfPlatform"><span class="xref wsf wsf-class">WsfPlatform</span></a>);
         PrintPlatformName(PLATFORM);

         print(&quot;&quot;);
         print(&quot;Print my member variables&quot;);
         print(&quot;--- mMyPlatform name = &quot;, mMyPlatform.Name());
         print(&quot;--- mMyInt = &quot;, mMyInt);
         print(&quot;--- mMyDouble = &quot;, mMyDouble);
         print(&quot;--- mMyArray = &quot;);

         // For each loop.  The key loop variable is optional.
         print(&quot;<a class="reference internal" href="script/array.html#Array&lt;T&gt;" title="Array&lt;T&gt;"><span class="xref wsf wsf-class">Array</span></a> elements using a foreach with key and data&quot;);
         foreach (int key : double data in mMyArray)
         {
            print(&quot;---            key, data &quot;, key, &quot;, &quot;, data);
         }
         print(&quot;&quot;);

         // For each loop without the key.
         print(&quot;<a class="reference internal" href="script/array.html#Array&lt;T&gt;" title="Array&lt;T&gt;"><span class="xref wsf wsf-class">Array</span></a> elements using a foreach with data&quot;);
         foreach (double data in mMyArray)
         {
            print(&quot;---            data &quot;, data);
         }
         print(&quot;&quot;);

         // You can use an <span class="xref wsf wsf-class">iterator</span>.
         print(&quot;<a class="reference internal" href="script/array.html#Array&lt;T&gt;" title="Array&lt;T&gt;"><span class="xref wsf wsf-class">Array</span></a> elements using an <span class="xref wsf wsf-class">iterator</span>&quot;);
         <a class="reference internal" href="script/arrayiterator.html#ArrayIterator" title="ArrayIterator"><span class="xref wsf wsf-class">ArrayIterator</span></a> arrayIter = mMyArray.GetIterator();
         while (arrayIter.HasNext())
         {
            double data = (double)arrayIter.Next();
            print(&quot;---            key, data &quot;, arrayIter.Key(), &quot;, &quot;, data);
         }
         print(&quot;&quot;);

         print(&quot;Information for &quot;, PLATFORM.Name(), &quot;.&quot;, PLATFORM.Type());

         print(&quot;  Command Chains&quot;);
         for (int i = 0; i &lt; PLATFORM.CommandChainCount(); i = i + 1)
         {
            <a class="reference internal" href="script/wsfcommandchain.html#WsfCommandChain" title="WsfCommandChain"><span class="xref wsf wsf-class">WsfCommandChain</span></a> chain = PLATFORM.CommandChainEntry(i);
            print(&quot;    &quot;, chain.Name());
            if (chain.Commander().IsValid())
            {
               print(&quot;      Commander: &quot;, chain.Commander().Name());
            }
            print(&quot;      Peers&quot;);
            foreach (<a class="reference internal" href="script/wsfplatform.html#WsfPlatform" title="WsfPlatform"><span class="xref wsf wsf-class">WsfPlatform</span></a> peer in chain.Peers())
            {
               print(&quot;          &quot;, peer.Name());
            }
            print(&quot;      Subordinates&quot;);
            foreach (<a class="reference internal" href="script/wsfplatform.html#WsfPlatform" title="WsfPlatform"><span class="xref wsf wsf-class">WsfPlatform</span></a> subordinate in chain.Subordinates())
            {
               print(&quot;          &quot;, subordinate.Name());
            }
         }
         print(&quot;  <a class="reference internal" href="comm.html#comm" title="comm"><span class="xref wsf wsf-command">comm</span></a> Systems&quot;);
         for (int i = 0; i &lt; PLATFORM.CommCount(); i = i + 1)
         {
            <a class="reference internal" href="script/wsfcomm.html#WsfComm" title="WsfComm"><span class="xref wsf wsf-class">WsfComm</span></a> <a class="reference internal" href="comm.html#comm" title="comm"><span class="xref wsf wsf-command">comm</span></a> = PLATFORM.CommEntry(i);
            print(&quot;    &quot;, <a class="reference internal" href="comm.html#comm" title="comm"><span class="xref wsf wsf-command">comm</span></a>.Name(), &quot;; Type=&quot;, <a class="reference internal" href="comm.html#comm" title="comm"><span class="xref wsf wsf-command">comm</span></a>.Type(),
                  &quot; On=&quot;, <a class="reference internal" href="comm.html#comm" title="comm"><span class="xref wsf wsf-command">comm</span></a>.IsTurnedOn());
         }
         print(&quot;  <a class="reference internal" href="sensor.html#sensor" title="sensor"><span class="xref wsf wsf-command">sensor</span></a> Systems&quot;);
         for (int i = 0; i &lt; PLATFORM.SensorCount(); i = i + 1)
         {
            <a class="reference internal" href="script/wsfsensor.html#WsfSensor" title="WsfSensor"><span class="xref wsf wsf-class">WsfSensor</span></a> <a class="reference internal" href="sensor.html#sensor" title="sensor"><span class="xref wsf wsf-command">sensor</span></a> = PLATFORM.SensorEntry(i);
            print(&quot;    &quot;, <a class="reference internal" href="sensor.html#sensor" title="sensor"><span class="xref wsf wsf-command">sensor</span></a>.Name(), &quot;; Type=&quot;, <a class="reference internal" href="sensor.html#sensor" title="sensor"><span class="xref wsf wsf-command">sensor</span></a>.Type(),
                  &quot; On=&quot;, <a class="reference internal" href="sensor.html#sensor" title="sensor"><span class="xref wsf wsf-command">sensor</span></a>.IsTurnedOn());
         }
         print(&quot;  Processors&quot;);
         for (int i = 0; i &lt; PLATFORM.ProcessorCount(); i = i + 1)
         {
            <a class="reference internal" href="script/wsfprocessor.html#WsfProcessor" title="WsfProcessor"><span class="xref wsf wsf-class">WsfProcessor</span></a> <a class="reference internal" href="processor.html#processor" title="processor"><span class="xref wsf wsf-command">processor</span></a> = PLATFORM.ProcessorEntry(i);
            print(&quot;    &quot;, <a class="reference internal" href="processor.html#processor" title="processor"><span class="xref wsf wsf-command">processor</span></a>.Name(), &quot;; Type=&quot;, <a class="reference internal" href="processor.html#processor" title="processor"><span class="xref wsf wsf-command">processor</span></a>.Type(),
                  &quot; On=&quot;, <a class="reference internal" href="processor.html#processor" title="processor"><span class="xref wsf wsf-command">processor</span></a>.IsTurnedOn(),
                  &quot; UpdateInterval=&quot;, <a class="reference internal" href="processor.html#processor" title="processor"><span class="xref wsf wsf-command">processor</span></a>.UpdateInterval());
         }

         // Disable future calls.
         PROCESSOR.TurnOff();
      end_on_update
   end_processor

end_platform_type

#         1         2         3         4         5         6         7
#234567890123456789012345678901234567890123456789012345678901234567890123456789
################################################################################

<a class="reference internal" href="platform.html#platform" title="platform"><span class="xref wsf wsf-command">platform</span></a> 737-1 737
   side blue

   command_chain ATC SELF

   <a class="reference internal" href="route.html#route" title="route"><span class="xref wsf wsf-command">route</span></a>
#     Take off
      position 38:44:52.3n 90:21:36.4w altitude 6 ft agl speed 0 kts
      position 38:45:07.6n 90:22:09.4w altitude 6 ft agl speed 120 kts # climb_rate 1000 fpm

      position 38:49:00n 90:29:00w altitude 15000 ft speed 400 kts
      position 39:29:00n 91:30:00w altitude 35000 ft
      position 38:45:00n 90:06:08w
      position 38:38:24n 90:07:46w altitude 10000 ft speed 250 kts

#     Landing
      position 38:44:52.3n 90:21:36.4w altitude 6 ft agl speed 120 kts
      position 38:45:07.6n 90:22:09.4w altitude 6 ft agl speed 0 kts
   end_route
end_platform

<a class="reference internal" href="simulation_control_commands.html#end_time" title="end_time"><span class="xref wsf wsf-command">end_time</span></a> 1200 sec</pre>
</section>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    <p class="logo"><a href="main_page.html">
      <img class="logo" src="../_static/sidebar_logo.png" alt="Logo"/>
    </a></p>
  

<script src="../_static/extension.js"></script>
<p>
   <ul class="Core-menu">
      <li><a href="main_page.html">Main Page</a></li>
      <li><a href="changelog/afsim_2.9.html">Changelog</a> | <a href="afsim_change_log.html">History</a></li>
      <li><a href="documents.html">Documents</a></li>
      <li><a href="security_info.html">Security Information</a></li>
      <li><a href="contact_info.html">Contact Information</a></li>
   </ul>
</p>

<br>
<hr>
<br>

<p>
   <h3>Core Apps</h3>
   <ul class="Core-menu">
     <li><a href="wsf_core.html">Main Page</a></li>
     <li><a href="wsf_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/wsf_2.9.html">Changelog</a> | <a href="wsf_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Demos</h3>
   <ul class="DEMOS-menu">
     <li><a href="changelog/demos_2.9.html">Changelog</a> | <a href="demos_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Mystic</h3>
   <ul class="Mystic-menu">
     <li><a href="mystic.html">Main Page</a></li>
     <li><a href="mystic_users_guide.html">User's Guide</a></li>
     <li><a href="mystic_reference_guide.html">Reference Guide</a></li>
     <li><a href="pymystic.html">Batch Processing</a></li>
     <li><a href="changelog/mystic_2.9.html">Changelog</a> | <a href="mystic_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Warlock</h3>
   <ul class="WARLOCK-menu">
     <li><a href="warlock.html">Main Page</a></li>
     <li><a href="warlock_users_guide.html">User's Guide</a></li>
     <li><a href="warlock_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/warlock_2.9.html">Changelog</a> | <a href="warlock_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Wizard</h3>
   <ul class="WIZARD-menu">
     <li><a href="wizard.html">Main Page</a></li>
     <li><a href="wizard_users_guide.html">User's Guide</a></li>
     <li><a href="wizard_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/wizard_2.9.html">Changelog</a> | <a href="wizard_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>EVT Reader</h3>
   <ul class="EvtReader-menu">
     <li><a href="evtreader.html">Main Page</a></li>
   </ul>
</p>

<p>
   <h3>Mover Creator</h3>
   <ul class="MoverCreator-menu">
     <li><a href="mover_creator.html">Main Page</a></li>
     <li><a href="mc_users_guide.html">User's Guide</a></li>
     <li><a href="mc_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/mover_creator_2.9.html">Changelog</a> | <a href="mc_change_log.html">History</a></li>
   </ul>
</p>

<br>
<hr>
<br>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/docs/script_demo_1.txt.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="script_demo_2.txt.html" title="Script demo 2.txt"
             >next</a> |</li>
        <li class="right" >
          <a href="script_commands.html" title="Script Commands"
             >previous</a> |</li>
  <li>
    <img src="../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Multiple, All Rights Reserved.
      Last updated on Feb 25, 2022.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>