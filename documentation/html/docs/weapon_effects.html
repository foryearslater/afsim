
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>weapon_effects &#8212; AFSIM 2.9.0 Documentation</title>
    <link rel="stylesheet" href="../_static/wsftheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/collapse.css" />
    <link rel="stylesheet" type="text/css" href="../_static/admonition.css" />
    <link rel="stylesheet" type="text/css" href="../_static/table.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pseudo-header.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pseudo-topic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/quick-search.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/collapse_sections.js"></script>
    
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Overview" href="weapon_effects_commands.html" />
    <link rel="prev" title="Weapon Component" href="weapon_component.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="weapon_effects_commands.html" title="Overview"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="weapon_component.html" title="Weapon Component"
             accesskey="P">previous</a> |</li>
  <li>
    <img src="../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="weapon-effects">
<h1>weapon_effects<a class="headerlink" href="#weapon-effects" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id1">Overview</a></p></li>
<li><p><a class="reference internal" href="#commands" id="id2">Commands</a></p></li>
<li><p><a class="reference internal" href="#script-interface" id="id3">Script Interface</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id4">Examples</a></p></li>
<li><p><a class="reference internal" href="#see-also" id="id5">See Also</a></p></li>
</ul>
</div>
<p>Script Class: <a class="reference internal" href="script/wsfweaponengagement.html#WsfWeaponEngagement" title="WsfWeaponEngagement"><span class="xref wsf wsf-class">WsfWeaponEngagement</span></a></p>
<dl class="command">
<dt id="weapon_effects">
weapon_effects<em> &lt;name&gt;</em><em> &lt;base-type&gt;</em> … end_weapon_effects<a class="headerlink" href="#weapon_effects" title="Permalink to this definition">¶</a></dt>
<dd><pre class="literal-block">weapon_effects &lt;name&gt; &lt;base-type&gt;

   <a class="reference internal" href="#debug">debug</a>
   <a class="reference internal" href="#draw_endgame_pk">draw_endgame_pk</a>
   <a class="reference internal" href="#excluded_category">excluded_category</a> &lt;category-name&gt;
   <a class="reference internal" href="#incidental_damage_allowed">incidental_damage_allowed</a> &lt;boolean-value&gt;
   <a class="reference internal" href="#intercept_pk">intercept_pk</a> &lt;pk-value&gt;
   <a class="reference internal" href="#launch_pk">launch_pk</a> &lt;pk-value&gt;
   <a class="reference internal" href="#remove_weapon_platform">remove_weapon_platform</a> &lt;boolean-value&gt;
   <a class="reference internal" href="#use_intercept_pk">use_intercept_pk</a>
   <a class="reference internal" href="#use_launch_pk">use_launch_pk</a>

   # <a class="reference internal" href="#script-interface">Script Interface</a>

   <a class="reference internal" href="#on_target_damaged">on_target_damaged</a>
      ... &lt;script&gt;...
   end_on_target_damaged

   <a class="reference internal" href="#on_target_killed">on_target_killed</a>
      ... script commands ...
   end_on_target_killed

   script void <a class="reference internal" href="#weapon_effects.on_weapon_detonation" title="on_weapon_detonation (weapon_effects)"><span class="xref wsf wsf-command">on_weapon_detonation()</span></a>
      ... script commands ...
   end_script

   script void <a class="reference internal" href="#weapon_effects.on_weapon_target_engagement" title="on_weapon_target_engagement (weapon_effects)"><span class="xref wsf wsf-command">on_weapon_target_engagement(WsfPlatform aTarget)</span></a>
      ... script commands ...
   end_script

end_weapon_effects</pre>
</dd></dl>

<section id="overview">
<h2><a class="toc-backref" href="#id1">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Defines a weapon’s effectiveness in rendering enemy target platforms ineffective or neutralized.  The effect upon target platforms may be of a probabilistic nature, or physics based (miss distance, incidence angle, impact velocity, etc.), or some combination of the two.  In some cases a probability of kill (Pk) may be determined from the launch conditions, or in some cases from the terminal conditions; this model allows for either approach.  The model also allows for a catastrophic event during flyout (gimbal lock, airframe destruction, jamming of the targeting sensor, etc.) that renders the weapon inert or ineffective against any target, for the rest of the flight.</p>
</section>
<section id="commands">
<h2><a class="toc-backref" href="#id2">Commands</a><a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h2>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Some <a class="reference internal" href="#weapon_effects" title="weapon_effects"><span class="xref wsf wsf-command">weapon_effects</span></a> base-types are not compatible with all commands defined below.  For example, <a class="reference internal" href="wsf_carlton_lethality.html#WSF_CARLTON_LETHALITY" title="WSF_CARLTON_LETHALITY"><span class="xref wsf wsf-model">WSF_CARLTON_LETHALITY</span></a> does not accept <a class="reference internal" href="#intercept_pk">intercept_pk</a>, and if used the result is an input processing error.  See the individual base-type model definition documentation for incompatible <a class="reference internal" href="#weapon_effects" title="weapon_effects"><span class="xref wsf wsf-command">weapon_effects</span></a> commands.</p>
</div>
<dl class="command">
<dt id="weapon_effects.debug">
<span id="debug"></span>debug<a class="headerlink" href="#weapon_effects.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Debugging information will be sent to standard output.</p>
</dd></dl>

<dl class="command">
<dt id="weapon_effects.draw_endgame_pk">
<span id="draw_endgame_pk"></span>draw_endgame_pk<a class="headerlink" href="#weapon_effects.draw_endgame_pk" title="Permalink to this definition">¶</a></dt>
<dd><p>Forces a pk draw on a target at time of end game regardless of whether or not the target is indestructible, or is internally or externally controlled.</p>
</dd></dl>

<dl class="command">
<dt id="weapon_effects.excluded_category">
<span id="excluded_category"></span>excluded_category<em> &lt;category-name&gt;</em><a class="headerlink" href="#weapon_effects.excluded_category" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines a platform category the weapon will not affect.  If the target <a class="reference internal" href="platform.html#platform" title="platform"><span class="xref wsf wsf-command">platform</span></a> being considered for damage is of this category, no neutralizing effect will be possible.</p>
</dd></dl>

<dl class="command">
<dt id="weapon_effects.incidental_damage_allowed">
<span id="incidental_damage_allowed"></span>incidental_damage_allowed<a class="reference internal" href="argumenttypes.html#boolean-value" title="boolean-value"><em> &lt;boolean-value&gt;</em></a><a class="headerlink" href="#weapon_effects.incidental_damage_allowed" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines whether any “incidental” platform damage is possible.  Incidental is damage to a platform other than the intended one.  For air-to-air missile engagements, a missile typically will kill its intended target, or none at all (no incidental damage), but if a bomb is dropped with the intention of destroying a train station and misses, it could easily destroy an adjacent building (incidental damage).</p>
<p><strong>Default:</strong> false</p>
</dd></dl>

<dl class="command">
<dt id="weapon_effects.intercept_pk">
<span id="intercept_pk"></span>intercept_pk<em> &lt;pk-value&gt;</em><a class="headerlink" href="#weapon_effects.intercept_pk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="command">
<dt id="weapon_effects.launch_pk">
<span id="launch_pk"></span>launch_pk<em> &lt;pk-value&gt;</em><a class="headerlink" href="#weapon_effects.launch_pk" title="Permalink to this definition">¶</a></dt>
<dd><p>The probability of kill assuming a valid intercept.  If <a class="reference internal" href="#use_intercept_pk">use_intercept_pk</a>, then <a class="reference internal" href="#launch_pk">launch_pk</a> will be ignored, conversely, if <a class="reference internal" href="#use_launch_pk">use_launch_pk</a>, then the <a class="reference internal" href="#intercept_pk">intercept_pk</a> will be ignored.  In the event a <a class="reference internal" href="wsf_spherical_lethality.html#WSF_SPHERICAL_LETHALITY.pk_table" title="pk_table (WSF_SPHERICAL_LETHALITY)"><span class="xref wsf wsf-command">PkTable</span></a> is present and enabled by the <a class="reference internal" href="wsf_spherical_lethality.html#WSF_SPHERICAL_LETHALITY.use_pk_table" title="use_pk_table (WSF_SPHERICAL_LETHALITY)"><span class="xref wsf wsf-command">use_pk_table</span></a> command, then the <a class="reference internal" href="#intercept_pk">intercept_pk</a> value will be overridden by the pk fetched from the table.</p>
</dd></dl>

<dl class="command">
<dt id="weapon_effects.remove_weapon_platform">
<span id="remove_weapon_platform"></span>remove_weapon_platform<a class="reference internal" href="argumenttypes.html#boolean-value" title="boolean-value"><em> &lt;boolean-value&gt;</em></a><a class="headerlink" href="#weapon_effects.remove_weapon_platform" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether the explicit weapon platform causing the effect is removed upon completion of the engagement.  The setting is ignored for implicit engagements.  Setting this to ‘false’ allows the platform to remain after the completion of the engagement.</p>
<p><strong>Default:</strong> true (The weapon platform is removed upon completion of the engagement)</p>
</dd></dl>

<dl class="command">
<dt id="weapon_effects.use_intercept_pk">
<span id="use_intercept_pk"></span>use_intercept_pk<a class="headerlink" href="#weapon_effects.use_intercept_pk" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets an internal flag indicating that the <a class="reference internal" href="#intercept_pk">intercept_pk</a> value (either as user input, or calculated internally, depending upon the specific effects model) will be used to determine the end effect upon the target.</p>
</dd></dl>

<dl class="command">
<dt id="weapon_effects.use_launch_pk">
<span id="use_launch_pk"></span>use_launch_pk<a class="headerlink" href="#weapon_effects.use_launch_pk" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets an internal flag indicating that the <a class="reference internal" href="#launch_pk">launch_pk</a> value (either as user input, or calculated internally, depending upon the specific effects model) will be used to determine the end effect upon the target.</p>
</dd></dl>

</section>
<section id="script-interface">
<h2><a class="toc-backref" href="#id3">Script Interface</a><a class="headerlink" href="#script-interface" title="Permalink to this headline">¶</a></h2>
<p>weapon_effects supports the script interface to allow the user to define custom processing that is invoked during the termination of an engagement.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Great care should be exercised when writing script that utilize the <a class="reference internal" href="script/wsfweaponengagement.html#WsfWeaponEngagement" title="WsfWeaponEngagement"><span class="xref wsf wsf-class">WsfWeaponEngagement</span></a> object. Please observe the cautions documented in <a class="reference internal" href="script/wsfweaponengagement.html#WsfWeaponEngagement" title="WsfWeaponEngagement"><span class="xref wsf wsf-class">WsfWeaponEngagement</span></a>. For instance, the firing platform may no longer exist.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When the <a class="reference internal" href="dis_interface.html#dis_interface" title="dis_interface"><span class="xref wsf wsf-command">dis_interface</span></a> receives a Detonation PDU for a remotely simulated weapon, it may not use the <a class="reference internal" href="#weapon_effects" title="weapon_effects"><span class="xref wsf wsf-command">weapon_effects</span></a> associated with the weapon (and therefore, not execute this script). See <a class="reference internal" href="dis_interface.html#dis_interface.simple_detonations" title="simple_detonations (dis_interface)"><span class="xref wsf wsf-command">simple_detonations</span></a> for more information.</p>
</div>
<dl class="command">
<dt id="weapon_effects.on_target_damaged">
<span id="on_target_damaged"></span>on_target_damaged … end_on_target_damaged<a class="headerlink" href="#weapon_effects.on_target_damaged" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a custom scripted action when the weapon_effects algorithm determines a target platform has been damaged. <em>This action is performed instead of the default action</em> (which is to assign a numeric damage value to the target platform).  The variable <em>DAMAGE</em>, indicating the numeric value of the damage, is available when executing this script.</p>
</dd></dl>

<dl class="command">
<dt id="weapon_effects.on_target_killed">
<span id="on_target_killed"></span>on_target_killed … end_on_target_killed<a class="headerlink" href="#weapon_effects.on_target_killed" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a custom scripted action when the weapon_effects algorithm determines a target platform has been killed.  <em>This action is performed instead of the default action</em> (which is to remove the platform from the simulation, if possible) The variable <em>DAMAGE</em>, indicating the numeric value of the damage, is available when executing this script; however, this value should be equal to 1.0.</p>
</dd></dl>

<dl class="command">
<dt id="weapon_effects.on_weapon_detonation">
<span id="on_weapon_detonation"></span>script void on_weapon_detonation() … end_script<a class="headerlink" href="#weapon_effects.on_weapon_detonation" title="Permalink to this definition">¶</a></dt>
<dd><p>This is invoked when it has been determined that the weapon has detonated, but before taking action against any of the targets. When called, any of the methods defined in <a class="reference internal" href="script/wsfweaponengagement.html#WsfWeaponEngagement" title="WsfWeaponEngagement"><span class="xref wsf wsf-class">WsfWeaponEngagement</span></a> are available.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See the notes in the general discussion of the <a class="reference internal" href="#script-interface">Script Interface</a>.</p>
</div>
</dd></dl>

<dl class="command">
<dt id="weapon_effects.on_weapon_target_engagement">
<span id="on_weapon_target_engagement"></span>script void on_weapon_target_engagement(WsfPlatform aTarget) … end_script<a class="headerlink" href="#weapon_effects.on_weapon_target_engagement" title="Permalink to this definition">¶</a></dt>
<dd><p>This script may be invoked repeatedly for a single weapon detonation. It is invoked once for each target that might be possibly affected by the weapon. When called, any of the methods defined in <a class="reference internal" href="script/wsfweaponengagement.html#WsfWeaponEngagement" title="WsfWeaponEngagement"><span class="xref wsf wsf-class">WsfWeaponEngagement</span></a> are available. <strong>aTarget</strong> refers to the current target <a class="reference internal" href="script/wsfplatform.html#WsfPlatform" title="WsfPlatform"><span class="xref wsf wsf-class">WsfPlatform</span></a> being considered.</p>
<p>This script is typically used to:</p>
<ul class="simple">
<li><p>Degrade the probability of kill (Pk) based on the conditions that exist at the time of intercept.</p></li>
<li><p>Implement non-lethal effects.</p></li>
<li><p>Display information about the intercept.</p></li>
<li><p>Affect the target platform in some other way other than just killing it.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See the notes in the general discussion of the <a class="reference internal" href="#script-interface">Script Interface</a>.</p>
</div>
</dd></dl>

</section>
<section id="examples">
<h2><a class="toc-backref" href="#id4">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>An example that sets the damage on the target platform and sets the target’s appearance to “smoking” is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">on_target_damaged</span>
   <span class="c1"># The following line duplicates the default weapon effects behavior</span>
   <span class="n">TargetPlatform</span><span class="p">()</span><span class="o">.</span><span class="n">SetDamageFactor</span><span class="p">(</span><span class="n">DAMAGE</span><span class="p">);</span>

   <span class="c1"># Set the entity appearance to &quot;smoking&quot;</span>
   <span class="c1"># LSB = 5, 2 bits, value = 2</span>
   <span class="n">TargetPlatform</span><span class="p">()</span><span class="o">.</span><span class="n">SetAppearance</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">end_on_target_damaged</span>
</pre></div>
</div>
<p>An example that reflects a “Mobility Kill” on the target platform is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">on_target_killed</span>
   <span class="n">TargetPlatform</span><span class="p">()</span><span class="o">.</span><span class="n">Mover</span><span class="p">()</span><span class="o">.</span><span class="n">SetDamageFactor</span><span class="p">(</span><span class="n">DAMAGE</span><span class="p">);</span>  <span class="c1"># Reflect damage on the mover.</span>
   <span class="c1"># Appearance of mobility kill:</span>
   <span class="c1"># LSB=1, size=1, value=1.</span>
   <span class="n">TargetPlatform</span><span class="p">()</span><span class="o">.</span><span class="n">SetAppearance</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="n">end_on_target_killed</span>
</pre></div>
</div>
<p>In the following example, which typically arises during a directed-energy engagement, only part of the target is affected.  Specifically, the target’s IRST sensor is destroyed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">on_target_killed</span>
   <span class="n">WsfPlatform</span> <span class="n">target</span> <span class="o">=</span> <span class="n">TargetPlatform</span><span class="p">();</span>
   <span class="k">if</span> <span class="p">((</span><span class="n">target</span><span class="o">.</span><span class="n">Type</span><span class="p">()</span>   <span class="o">==</span> <span class="s2">&quot;SU-37&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
       <span class="p">(</span><span class="n">TargetOffsetName</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;IRST&quot;</span><span class="p">))</span>
   <span class="p">{</span>
      <span class="c1"># Set the damage on the sensor,</span>
      <span class="c1"># after which it is unusable.</span>
      <span class="n">target</span><span class="o">.</span><span class="n">Sensor</span><span class="p">(</span><span class="s2">&quot;irst&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">SetDamageFactor</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span>
   <span class="p">}</span>
<span class="n">end_on_target_killed</span>
</pre></div>
</div>
<p>This example degrades the Pk of the weapon if another platform is within the vicinity of the weapon at termination:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">weapon_effects</span> <span class="n">SAM_LETHALITY</span> <span class="n">WSF_GRADUATED_LETHALITY</span>
  <span class="c1"># The default lethality</span>
  <span class="n">radius_and_pk</span> <span class="mi">100</span> <span class="n">m</span> <span class="mf">0.7</span>

  <span class="n">script</span> <span class="n">void</span> <span class="n">on_weapon_target_engagement</span><span class="p">(</span><span class="n">WsfPlatform</span> <span class="n">aTarget</span><span class="p">)</span>

    <span class="k">if</span>  <span class="p">(</span><span class="n">MissDistance</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">100</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>  <span class="c1">#do not care it was a miss anyway</span>
    <span class="k">if</span> <span class="p">((</span><span class="n">aTarget</span><span class="o">.</span><span class="n">Type</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;A&quot;</span><span class="p">)</span> <span class="o">||</span>
        <span class="p">(</span><span class="n">aTarget</span><span class="o">.</span><span class="n">Type</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;B&quot;</span><span class="p">)</span> <span class="o">||</span>
        <span class="p">(</span><span class="n">aTarget</span><span class="o">.</span><span class="n">Type</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;C&quot;</span><span class="p">))</span>
    <span class="p">{</span>
       <span class="nb">int</span> <span class="n">TotalSimPlatforms</span> <span class="o">=</span> <span class="n">WsfSimulation</span><span class="o">.</span><span class="n">PlatformCount</span><span class="p">();</span> <span class="c1">#Get total number of platforms</span>
       <span class="nb">int</span> <span class="n">i</span><span class="p">;</span>
       <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">TotalSimPlatforms</span><span class="p">;</span> <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">#Test every platform</span>
       <span class="p">{</span>
          <span class="n">WsfPlatform</span> <span class="n">testPlatform</span> <span class="o">=</span> <span class="n">WsfSimulation</span><span class="o">.</span><span class="n">FindPlatform</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
          <span class="k">if</span> <span class="p">((</span><span class="n">testPlatform</span><span class="o">.</span><span class="n">Type</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;X&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">aTarget</span><span class="o">.</span><span class="n">SlantRangeTo</span><span class="p">(</span><span class="n">testPlatform</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1111</span> <span class="p">))</span>
          <span class="p">{</span>
             <span class="n">SetPkDegrade</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">if</span> <span class="p">((</span><span class="n">testPlatform</span><span class="o">.</span><span class="n">Type</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;Y&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">aTarget</span><span class="o">.</span><span class="n">SlantRangeTo</span><span class="p">(</span><span class="n">testPlatform</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1111</span> <span class="p">))</span>
          <span class="p">{</span>
             <span class="n">SetPkDegrade</span><span class="p">(</span><span class="mf">0.4</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">if</span> <span class="p">((</span><span class="n">testPlatform</span><span class="o">.</span><span class="n">Type</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;Z&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">aTarget</span><span class="o">.</span><span class="n">SlantRangeTo</span><span class="p">(</span><span class="n">testPlatform</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1111</span> <span class="p">))</span>
          <span class="p">{</span>
             <span class="n">SetPkDegrade</span><span class="p">(</span><span class="mf">0.3</span><span class="p">);</span>
          <span class="p">}</span>
       <span class="p">}</span>
    <span class="p">}</span>
  <span class="n">end_script</span>
<span class="n">end_weapon_effects</span>
</pre></div>
</div>
<p>Finally, an example that duplicates the default behavior (i.e., killing the platform), in script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">on_target_killed</span>
   <span class="n">TargetPlatform</span><span class="p">()</span><span class="o">.</span><span class="n">Detonate</span><span class="p">(</span><span class="s2">&quot;target_impact&quot;</span><span class="p">);</span>
<span class="n">end_on_target_killed</span>
</pre></div>
</div>
<p>Following is a contrived example that will degrade the Pk if the weapon speed is less than 300 m/s:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>weapon_effects SAM_LETHALITY WSF_GRADUATED_LETHALITY

   # The default lethality
   radius_and_pk 100 m 0.7

   script void on_weapon_target_engagement(WsfPlatform aTarget)
      WsfPlatform weapon = WeaponPlatform();
      if (! (aTarget.IsValid() &amp;&amp; weapon.IsValid())) return;
      if (weapon.Speed() &lt; 300)
      {
         SetPkDegrade(0.5);
      }
   end_script
end_weapon_effects
</pre></div>
</div>
<p>Following is an example that prints some information:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>weapon_effects SAM_LETHALITY WSF_GRADUATED_LETHALITY

   # The default lethality
   radius_and_pk 100 m 0.7

   script void on_weapon_target_engagement(WsfPlatform aTarget)
     writeln(&quot;T=&quot;,TIME_NOW,&quot; Weapon Engagement&quot;,
             &quot;; Start Time: &quot;, StartTime(),
             &quot;; Elapsed Time: &quot;, TimeSinceStarted(),
             &quot;, Serial: &quot;, SerialNumber());
     WsfPlatform target = aTarget;
     WsfPlatform weapon = WeaponPlatform();
     if (! (target.IsValid() &amp;&amp; weapon.IsValid())) return;

     writeln(&quot; Weapon Name      : &quot;, weapon.Name());
     writeln(&quot; Target Name      : &quot;, target.Name());

     writeln(&quot; Weapon Loc       : &quot;, WeaponLocation().ToString());
     writeln(&quot; Target Loc       : &quot;, TargetLocation().ToString());

     writeln(&quot; Weapon Launch Loc: &quot;, WeaponLocationAtLaunch().ToString());
     writeln(&quot; Target Launch Loc: &quot;, TargetLocationAtLaunch().ToString());

     writeln(&quot; Miss Distance    : &quot;, MissDistance());
     writeln(&quot; Pk               : &quot;, Pk());
     writeln(&quot; Pk Degrade       : &quot;, PkDegrade());

     writeln(&quot; Heading          : Weapon: &quot;, weapon.Heading(), &quot;, Target: &quot;,
     target.Heading(),
             &quot;, Diff=&quot;, target.HeadingDifferenceOf(weapon));
     writeln(&quot; Speed            : Weapon: &quot;, weapon.Speed(), &quot;, Target: &quot;,
     target.Speed());
     writeln(&quot; Range            : &quot;, weapon.SlantRangeTo(target));

   end_script
end_weapon_effects
</pre></div>
</div>
</section>
<section id="see-also">
<h2><a class="toc-backref" href="#id5">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="platform.html#platform.weapon_effects" title="weapon_effects (platform)"><span class="xref wsf wsf-command">platform</span></a></p></li>
<li><p><a class="reference internal" href="script/wsfweaponengagement.html#WsfWeaponEngagement" title="WsfWeaponEngagement"><span class="xref wsf wsf-class">WsfWeaponEngagement</span></a></p></li>
<li><p><a class="reference internal" href="wsf_explicit_weapon.html#WSF_EXPLICIT_WEAPON" title="WSF_EXPLICIT_WEAPON"><span class="xref wsf wsf-model">WSF_EXPLICIT_WEAPON</span></a></p></li>
</ul>
</section>
</section>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    <p class="logo"><a href="main_page.html">
      <img class="logo" src="../_static/sidebar_logo.png" alt="Logo"/>
    </a></p>
  

<script src="../_static/extension.js"></script>
<p>
   <ul class="Core-menu">
      <li><a href="main_page.html">Main Page</a></li>
      <li><a href="changelog/afsim_2.9.html">Changelog</a> | <a href="afsim_change_log.html">History</a></li>
      <li><a href="documents.html">Documents</a></li>
      <li><a href="security_info.html">Security Information</a></li>
      <li><a href="contact_info.html">Contact Information</a></li>
   </ul>
</p>

<br>
<hr>
<br>

<p>
   <h3>Core Apps</h3>
   <ul class="Core-menu">
     <li><a href="wsf_core.html">Main Page</a></li>
     <li><a href="wsf_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/wsf_2.9.html">Changelog</a> | <a href="wsf_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Demos</h3>
   <ul class="DEMOS-menu">
     <li><a href="changelog/demos_2.9.html">Changelog</a> | <a href="demos_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Mystic</h3>
   <ul class="Mystic-menu">
     <li><a href="mystic.html">Main Page</a></li>
     <li><a href="mystic_users_guide.html">User's Guide</a></li>
     <li><a href="mystic_reference_guide.html">Reference Guide</a></li>
     <li><a href="pymystic.html">Batch Processing</a></li>
     <li><a href="changelog/mystic_2.9.html">Changelog</a> | <a href="mystic_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Warlock</h3>
   <ul class="WARLOCK-menu">
     <li><a href="warlock.html">Main Page</a></li>
     <li><a href="warlock_users_guide.html">User's Guide</a></li>
     <li><a href="warlock_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/warlock_2.9.html">Changelog</a> | <a href="warlock_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Wizard</h3>
   <ul class="WIZARD-menu">
     <li><a href="wizard.html">Main Page</a></li>
     <li><a href="wizard_users_guide.html">User's Guide</a></li>
     <li><a href="wizard_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/wizard_2.9.html">Changelog</a> | <a href="wizard_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>EVT Reader</h3>
   <ul class="EvtReader-menu">
     <li><a href="evtreader.html">Main Page</a></li>
   </ul>
</p>

<p>
   <h3>Mover Creator</h3>
   <ul class="MoverCreator-menu">
     <li><a href="mover_creator.html">Main Page</a></li>
     <li><a href="mc_users_guide.html">User's Guide</a></li>
     <li><a href="mc_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/mover_creator_2.9.html">Changelog</a> | <a href="mc_change_log.html">History</a></li>
   </ul>
</p>

<br>
<hr>
<br>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/docs/weapon_effects.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="weapon_effects_commands.html" title="Overview"
             >next</a> |</li>
        <li class="right" >
          <a href="weapon_component.html" title="Weapon Component"
             >previous</a> |</li>
  <li>
    <img src="../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Multiple, All Rights Reserved.
      Last updated on Feb 25, 2022.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>