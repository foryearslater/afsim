
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>osm_traffic &#8212; AFSIM 2.9.0 Documentation</title>
    <link rel="stylesheet" href="../_static/wsftheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/collapse.css" />
    <link rel="stylesheet" type="text/css" href="../_static/admonition.css" />
    <link rel="stylesheet" type="text/css" href="../_static/table.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pseudo-header.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pseudo-topic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/quick-search.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/collapse_sections.js"></script>
    
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="oth_radar demo" href="oth_radar.html" />
    <link rel="prev" title="orwaca_iads" href="orwaca_iads.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="oth_radar.html" title="oth_radar demo"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="orwaca_iads.html" title="orwaca_iads"
             accesskey="P">previous</a> |</li>
  <li>
    <img src="../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="osm-traffic">
<h1>osm_traffic<a class="headerlink" href="#osm-traffic" title="Permalink to this headline">¶</a></h1>
<dl class="command">
<dt id="osm_traffic">
osm_traffic … end_osm_traffic<a class="headerlink" href="#osm_traffic" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Script Class: <a class="reference internal" href="script/wsfosm_traffic.html#WsfOSM_Traffic" title="WsfOSM_Traffic"><span class="xref wsf wsf-class">WsfOSM_Traffic</span></a></p>
<pre class="literal-block"><a class="reference internal" href="#osm_traffic">osm_traffic</a>
  <a class="reference internal" href="#debug">debug</a> &lt;boolean-value&gt;
  <a class="reference internal" href="#network">network</a> &lt;route-network-name&gt;
    <a class="reference internal" href="#vehicle_count">vehicle_count</a> &lt;positive-integer&gt;
    <a class="reference internal" href="#maximum_speed">maximum_speed</a> &lt;speed-value&gt;

    <a class="reference internal" href="#vehicle">vehicle</a> &lt;platform-type&gt;
      <a class="reference internal" href="#fraction">fraction</a> &lt;real-value&gt;
      <a class="reference internal" href="#mean_speed">mean_speed</a> &lt;speed-value&gt;
      <a class="reference internal" href="#sigma_speed">sigma_speed</a> &lt;speed-value&gt;
      <a class="reference internal" href="#ignore_speed_limits">ignore_speed_limits</a>
    end_vehicle

    <a class="reference internal" href="#route_aux_data_mapping">route_aux_data_mapping</a>
      <a class="reference internal" href="#minimum_speed">minimum_speed</a> &lt;string&gt;
      <a class="reference internal" href="#maximum_speed">maximum_speed</a> &lt;string&gt;
      <a class="reference internal" href="#lanes">lanes</a> &lt;string&gt;
      <a class="reference internal" href="#one_way">one_way</a> &lt;string&gt;
      <a class="reference internal" href="#density">density</a> &lt;string&gt;
      <a class="reference internal" href="#surface">surface</a> &lt;string&gt;
    end_route_aux_data_mapping

    <a class="reference internal" href="#waypoint_aux_data_mapping">waypoint_aux_data_mapping</a>
      <a class="reference internal" href="#stop">stop</a> &lt;string&gt;
      <a class="reference internal" href="#traffic_signals">traffic_signals</a> &lt;string&gt;
      <a class="reference internal" href="#highway">highway</a> &lt;string&gt;
    end_waypoint_aux_data_mapping
  end_network
end_osm_traffic</pre>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The osm_traffic command generates background road traffic via ground moving platforms during the simulation on a predefined <a class="reference internal" href="route_network.html#route_network" title="route_network"><span class="xref wsf wsf-command">route_network</span></a>. This capability is similar to the <a class="reference internal" href="road_traffic.html#road_traffic" title="road_traffic"><span class="xref wsf wsf-command">road_traffic</span></a> command; the primary difference between the two is that <a class="reference internal" href="#osm_traffic">osm_traffic</a> is designed to be used with <a class="reference internal" href="route_network.html#route_network" title="route_network"><span class="xref wsf wsf-command">route_network</span></a>s generated by <em>Wizard’s OSM Converter Tool</em>. This converter allows for additional <a class="reference internal" href="route.html#route" title="route"><span class="xref wsf wsf-command">route</span></a> commands to be utilized in the generation of the traffic via the <a class="reference internal" href="route.html#route.aux_data" title="aux_data (route)"><span class="xref wsf wsf-command">aux_data</span></a> as further described below.</p>
</section>
<section id="operations">
<h2>Operations<a class="headerlink" href="#operations" title="Permalink to this headline">¶</a></h2>
<p>Generated background traffic vehicles will adhere to the general rules of the road as specified in the <a class="reference internal" href="route.html#route.aux_data" title="aux_data (route)"><span class="xref wsf wsf-command">aux_data</span></a>, and are responsible for the following behaviors.</p>
<ul class="simple">
<li><p>Stopping accordingly at traffic lights and stop signs</p></li>
<li><p>Lining up at intersections when traffic becomes congested</p></li>
<li><p>Observing minimum and maximum speed limits (<a class="reference internal" href="#minimum_speed">minimum_speed</a> and <a class="reference internal" href="#maximum_speed">maximum_speed</a>)</p></li>
<li><p>Attempting to avoid collisions by changing lanes and speeds as necessary</p></li>
</ul>
<p>Road data such as speed limits and traffic lights should be added through the route and waypoint aux_data sections, then mapped to the osm_traffic command via the <a class="reference internal" href="#route_aux_data_mapping">route_aux_data_mapping</a> and <a class="reference internal" href="#waypoint_aux_data_mapping">waypoint_aux_data_mapping</a> blocks.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#osm_traffic">osm_traffic</a> modifies the routes and their associated names to provide a more realistic representation of the routes as roads. The rules, naming conventions and an example route name are provided below. The described suffixes are computer generated, and appear in the order they are listed. <a class="reference internal" href="script/wsfosm_traffic.html#WsfOSM_Traffic" title="WsfOSM_Traffic"><span class="xref wsf wsf-class">Script methods</span></a> are available for routes to simplify access lookups.</p>
<ul class="simple">
<li><p>Intersections are modeled visually as small blank spaces without any routes running through them. When a single route passes through multiple intersections, it is split into several parts, designated by double underscores followed by a numeric “segment” suffix. The segments are numbered in the order of traversal in the original route input.</p></li>
<li><p>Most roads are bidirectional, but only a single route input is provided. As a result, when necessary, <a class="reference internal" href="#osm_traffic">osm_traffic</a> internally creates new routes going in the opposite direction. These are designated by a double underscore followed by either a “normal” or “opposite” suffix, with “normal” referring to the input route’s original direction.</p></li>
<li><p>Routes with X lanes are split into X different routes (up to ten lanes). Even when there is only one lane, every route name has a numeric suffix that designates which lane it represents.</p></li>
<li><p>Example: “Lackland_Road__1__normal2”, which means Lackland_Road, segment 1, 2nd lane going in the normal direction.</p></li>
</ul>
</div>
<p><a class="reference internal" href="#osm_traffic">osm_traffic</a> is also compatible with scripted vehicles. For scripted vehicles, it is the user’s decision to follow (or ignore) the rules of the road. However, as long as the associated commands are used, the background traffic will be aware of these added vehicles, and will attempt to avoid rear collisions with them when possible. More information regarding the <a class="reference internal" href="#osm_traffic">osm_traffic</a> script methods can be found at <a class="reference internal" href="script/wsfosm_traffic.html#WsfOSM_Traffic" title="WsfOSM_Traffic"><span class="xref wsf wsf-class">WsfOSM_Traffic</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently route_networks will not be drawn on the map display. A simple example is provided below that demonstrates how to visualize the route network.</p>
</div>
</section>
<section id="commands">
<h2>Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h2>
<dl class="command">
<dt id="osm_traffic.debug">
<span id="debug"></span>debug<a class="reference internal" href="argumenttypes.html#boolean-value" title="boolean-value"><em> &lt;boolean-value&gt;</em></a><a class="headerlink" href="#osm_traffic.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables or disables debugging output to command line (standard out). Provides more verbose information for debugging when true.</p>
<p><strong>Default</strong> false</p>
</dd></dl>

<dl class="command">
<dt id="osm_traffic.network">
<span id="network"></span>network<em> &lt;route-network-name&gt;</em> … end_network<a class="headerlink" href="#osm_traffic.network" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the attributes and vehicles that are generated on the defined <a class="reference internal" href="route_network.html#route_network" title="route_network"><span class="xref wsf wsf-command">route_network</span></a> as specified by the &lt;route-network-name&gt;.</p>
<dl class="command">
<dt id="osm_traffic.network.vehicle_count">
<span id="network.vehicle_count"></span><span id="vehicle_count"></span>vehicle_count<a class="reference internal" href="argumenttypes.html#positive-integer" title="positive-integer"><em> &lt;positive-integer&gt;</em></a><a class="headerlink" href="#osm_traffic.network.vehicle_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the number of vehicles that will be generated on the route network.</p>
</dd></dl>

<dl class="command">
<dt id="osm_traffic.network.maximum_speed">
<span id="network.maximum_speed"></span><span id="maximum_speed"></span>maximum_speed<a class="reference internal" href="argumenttypes.html#speed-value" title="speed-value"><em> &lt;speed-value&gt;</em></a><a class="headerlink" href="#osm_traffic.network.maximum_speed" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum speed any vehicle on the network can travel even if a faster speed is specified in the vehicle block. Generally, it will be more effective to define speed limits for individual routes or to define a maximum speed on the ground mover itself.</p>
</dd></dl>

<dl class="command">
<dt id="osm_traffic.network.vehicle">
<span id="network.vehicle"></span><span id="vehicle"></span>vehicle<em> &lt;platform-type&gt;</em> end_vehicle<a class="headerlink" href="#osm_traffic.network.vehicle" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the attributes of a specific vehicle type within the context of this network. To define multiple vehicle types, create multiple vehicle blocks. The &lt;platform-type&gt; must be a previously defined platform_type.</p>
<dl class="command">
<dt id="osm_traffic.network.vehicle.fraction">
<span id="network.vehicle.fraction"></span><span id="vehicle.fraction"></span><span id="fraction"></span>fraction<a class="reference internal" href="argumenttypes.html#real-value" title="real-value"><em> &lt;real-value&gt;</em></a><a class="headerlink" href="#osm_traffic.network.vehicle.fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>If multiple vehicle blocks are defined, the fraction is the percentage (as a decimal value) of this specific vehicle type that would populate the road network.   The sum of all the vehicle fractions must add up to 1.</p>
</dd></dl>

<dl class="command">
<dt id="osm_traffic.network.vehicle.mean_speed">
<span id="network.vehicle.mean_speed"></span><span id="vehicle.mean_speed"></span><span id="mean_speed"></span>mean_speed<a class="reference internal" href="argumenttypes.html#speed-value" title="speed-value"><em> &lt;speed-value&gt;</em></a><a class="headerlink" href="#osm_traffic.network.vehicle.mean_speed" title="Permalink to this definition">¶</a></dt>
<dd><p>The average speed of all the vehicles defined by this vehicle block. This value will only be used when no speed limits (<a class="reference internal" href="#maximum_speed">maximum_speed</a> or <a class="reference internal" href="#minimum_speed">minimum_speed</a>) are defined on a particular route or if the <a class="reference internal" href="#ignore_speed_limits">ignore_speed_limits</a> flag is set.</p>
</dd></dl>

<dl class="command">
<dt id="osm_traffic.network.vehicle.sigma_speed">
<span id="network.vehicle.sigma_speed"></span><span id="vehicle.sigma_speed"></span><span id="sigma_speed"></span>sigma_speed<a class="reference internal" href="argumenttypes.html#speed-value" title="speed-value"><em> &lt;speed-value&gt;</em></a><a class="headerlink" href="#osm_traffic.network.vehicle.sigma_speed" title="Permalink to this definition">¶</a></dt>
<dd><p>The speed magnitude of one standard deviation. This command follows same conditions as <a class="reference internal" href="#mean_speed">mean_speed</a>.</p>
</dd></dl>

<dl class="command">
<dt id="osm_traffic.network.vehicle.ignore_speed_limits">
<span id="network.vehicle.ignore_speed_limits"></span><span id="vehicle.ignore_speed_limits"></span><span id="ignore_speed_limits"></span>ignore_speed_limits<a class="headerlink" href="#osm_traffic.network.vehicle.ignore_speed_limits" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates that vehicles of the specified type do not need to follow the speed limits defined by <a class="reference internal" href="#maximum_speed">maximum_speed</a> or <a class="reference internal" href="#minimum_speed">minimum_speed</a></p>
</dd></dl>

</dd></dl>

<dl class="command">
<dt id="osm_traffic.network.route_aux_data_mapping">
<span id="network.route_aux_data_mapping"></span><span id="route_aux_data_mapping"></span>route_aux_data_mapping … end_route_aux_data_mapping<a class="headerlink" href="#osm_traffic.network.route_aux_data_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>This block applies to all routes in the <a class="reference internal" href="route_network.html#route_network" title="route_network"><span class="xref wsf wsf-command">route_network</span></a>, and maps <a class="reference internal" href="#osm_traffic">osm_traffic</a> route aux_data variable names to the rules of the road. The parameter for each command is simply a string representation of the variables’ name as defined in the route aux_data input blocks.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Ensure that the naming conventions of desired features is consistent across all of the routes in the route_network (i.e. the aux_data variable name for <a class="reference internal" href="#maximum_speed">maximum_speed</a> should be the same across all routes).</p>
</div>
<dl class="command">
<dt id="osm_traffic.network.route_aux_data_mapping.minimum_speed">
<span id="network.route_aux_data_mapping.minimum_speed"></span><span id="route_aux_data_mapping.minimum_speed"></span><span id="minimum_speed"></span>minimum_speed<em> &lt;aux-data-variable-name&gt;</em><a class="headerlink" href="#osm_traffic.network.route_aux_data_mapping.minimum_speed" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps an aux_data numeric variable to the route’s minimum speed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a <a class="reference internal" href="#minimum_speed">minimum_speed</a> string is not found on the route, then minimum speed will be half the <a class="reference internal" href="#maximum_speed">maximum_speed</a> if it is found instead.</p>
</div>
<p><strong>Default</strong> minspeed</p>
</dd></dl>

<dl class="command">
<dt id="osm_traffic.network.route_aux_data_mapping.maximum_speed">
<span id="network.route_aux_data_mapping.maximum_speed"></span><span id="route_aux_data_mapping.maximum_speed"></span><span id="maximum_speed"></span>maximum_speed<em> &lt;aux-data-variable-name&gt;</em><a class="headerlink" href="#osm_traffic.network.route_aux_data_mapping.maximum_speed" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps an aux_data numeric variable to the route’s maximum speed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a <a class="reference internal" href="#maximum_speed">maximum_speed</a> string is not found on the route, then maximum speed will be double the <a class="reference internal" href="#minimum_speed">minimum_speed</a> if it is found instead.</p>
</div>
<p><strong>Default</strong> maxspeed</p>
</dd></dl>

<dl class="command">
<dt id="osm_traffic.network.route_aux_data_mapping.lanes">
<span id="network.route_aux_data_mapping.lanes"></span><span id="route_aux_data_mapping.lanes"></span><span id="lanes"></span>lanes<em> &lt;aux-data-variable-name&gt;</em><a class="headerlink" href="#osm_traffic.network.route_aux_data_mapping.lanes" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps an aux_data integer variable to the number of lanes in the route. This defines the number of lanes traveling in both directions, unless otherwise specified. By default, on a two-way road, there will be two lanes (one for each direction).</p>
<p><strong>Default</strong> lanes</p>
</dd></dl>

<dl class="command">
<dt id="osm_traffic.network.route_aux_data_mapping.one_way">
<span id="network.route_aux_data_mapping.one_way"></span><span id="route_aux_data_mapping.one_way"></span><span id="one_way"></span>one_way<em> &lt;aux-data-variable-name&gt;</em><a class="headerlink" href="#osm_traffic.network.route_aux_data_mapping.one_way" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps an aux_data boolean variable to whether a road is one way or not. This will also affect how lanes are interpreted.</p>
<p><strong>Default</strong> oneway</p>
</dd></dl>

<dl class="command">
<dt id="osm_traffic.network.route_aux_data_mapping.density">
<span id="network.route_aux_data_mapping.density"></span><span id="route_aux_data_mapping.density"></span><span id="density"></span>density<em> &lt;aux-data-variable-name&gt;</em><a class="headerlink" href="#osm_traffic.network.route_aux_data_mapping.density" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps an aux_data integer variable to a road’s average vehicle density.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This input will only apply to background vehicles; any additional scripted vehicles will not be considered when populating and traveling through roads.</p>
</div>
<p><strong>Default</strong> density</p>
</dd></dl>

<dl class="command">
<dt id="osm_traffic.network.route_aux_data_mapping.surface">
<span id="network.route_aux_data_mapping.surface"></span><span id="route_aux_data_mapping.surface"></span><span id="surface"></span>surface<em> &lt;aux-data-variable-name&gt;</em><a class="headerlink" href="#osm_traffic.network.route_aux_data_mapping.surface" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps an aux_data string variable to a road’s surface type.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This aux_data field is currently not utilized by the <a class="reference internal" href="#osm_traffic">osm_traffic</a> generated traffic.</p>
</div>
<p><strong>Default</strong> surface</p>
</dd></dl>

</dd></dl>

<dl class="command">
<dt id="osm_traffic.network.waypoint_aux_data_mapping">
<span id="network.waypoint_aux_data_mapping"></span><span id="waypoint_aux_data_mapping"></span>waypoint_aux_data_mapping … end_waypoint_aux_data_mapping<a class="headerlink" href="#osm_traffic.network.waypoint_aux_data_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>This block applies to all waypoints in the <a class="reference internal" href="route_network.html#route_network" title="route_network"><span class="xref wsf wsf-command">route_network</span></a>, and maps the osm_traffic waypoint aux_data variables names to the rules of the road.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The parameter usage and naming convention rules are the same as in the <a class="reference internal" href="#route_aux_data_mapping">route_aux_data_mapping</a> block.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The aux_data will be ignored unless the waypoint has a <a class="reference internal" href="route.html#route.node_id" title="node_id (route)"><span class="xref wsf wsf-command">node_id</span></a>; stop signs and traffic lights are inconsequential when there are no connected roads.</p>
</div>
<dl class="command">
<dt id="osm_traffic.network.waypoint_aux_data_mapping.stop">
<span id="network.waypoint_aux_data_mapping.stop"></span><span id="waypoint_aux_data_mapping.stop"></span><span id="stop"></span>stop<em> &lt;aux-data-variable-name&gt;</em><a class="headerlink" href="#osm_traffic.network.waypoint_aux_data_mapping.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps an aux_data boolean variable to whether a waypoint is a stop sign.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, the waypoint will not be treated as a stop sign.</p>
</div>
<p><strong>Default</strong> stop</p>
</dd></dl>

<dl class="command">
<dt id="osm_traffic.network.waypoint_aux_data_mapping.traffic_signals">
<span id="network.waypoint_aux_data_mapping.traffic_signals"></span><span id="waypoint_aux_data_mapping.traffic_signals"></span><span id="traffic_signals"></span>traffic_signals<em> &lt;aux-data-variable-name&gt;</em><a class="headerlink" href="#osm_traffic.network.waypoint_aux_data_mapping.traffic_signals" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps an aux_data boolean variable to whether a waypoint has a traffic light.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, there will be no traffic light.</p>
</div>
<p><strong>Default</strong> traffic_signals</p>
</dd></dl>

<dl class="command">
<dt id="osm_traffic.network.waypoint_aux_data_mapping.highway">
<span id="network.waypoint_aux_data_mapping.highway"></span><span id="waypoint_aux_data_mapping.highway"></span><span id="highway"></span>highway<em> &lt;aux-data-variable-name&gt;</em><a class="headerlink" href="#osm_traffic.network.waypoint_aux_data_mapping.highway" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps an aux_data boolean variable to highway description / type.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, there will be no highway.</p>
</div>
<p><strong>Default</strong> highway</p>
</dd></dl>

</dd></dl>

</dd></dl>

</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<pre class="literal-block"><a class="reference internal" href="#osm_traffic">osm_traffic</a>
  <a class="reference internal" href="#network">network</a> osm_netowrk
    <a class="reference internal" href="#vehicle_count">vehicle_count</a> 500
    <a class="reference internal" href="#maximum_speed">maximum_speed</a>  75 mi/h
    <a class="reference internal" href="#vehicle">vehicle</a> Car
      <a class="reference internal" href="#fraction">fraction</a>      0.80
      <a class="reference internal" href="#mean_speed">mean_speed</a>   60 mi/h
      <a class="reference internal" href="#sigma_speed">sigma_speed</a>   5 mi/h
    end_vehicle
    <a class="reference internal" href="#vehicle">vehicle</a> Pickup_Truck
      <a class="reference internal" href="#fraction">fraction</a>      0.15
      <a class="reference internal" href="#mean_speed">mean_speed</a>   60 mi/h
      <a class="reference internal" href="#sigma_speed">sigma_speed</a>  10 mi/h
    end_vehicle
    <a class="reference internal" href="#vehicle">vehicle</a> School_Bus
      <a class="reference internal" href="#fraction">fraction</a>      0.05
      <a class="reference internal" href="#mean_speed">mean_speed</a>   50 mi/h
      <a class="reference internal" href="#sigma_speed">sigma_speed</a>  10 mi/h
    end_vehicle
  end_network
end_osm_traffic</pre>
</section>
<section id="wsfdraw-examples">
<h2>WsfDraw Examples<a class="headerlink" href="#wsfdraw-examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Simple script to visualize the road network</span>
<span class="c1"># the string literals may change based on what the aux_data variable and network names actually are</span>
<span class="n">script</span> <span class="n">void</span> <span class="n">DrawRoads</span><span class="p">()</span>
   <span class="n">WsfDraw</span> <span class="n">draw</span> <span class="o">=</span> <span class="n">WsfDraw</span><span class="p">();</span>
   <span class="n">WsfRouteNetwork</span> <span class="n">network</span> <span class="o">=</span> <span class="n">WsfRouteNetwork</span><span class="o">.</span><span class="n">FindRouteNetwork</span><span class="p">(</span><span class="s2">&quot;network_name&quot;</span><span class="p">);</span>
   <span class="n">WsfOSMTraffic</span> <span class="n">traffic</span> <span class="o">=</span> <span class="n">WsfOSMTraffic</span><span class="o">.</span><span class="n">GetTraffic</span><span class="p">();</span>
   <span class="n">Array</span><span class="o">&lt;</span><span class="n">WsfRoute</span><span class="o">&gt;</span> <span class="n">trafficRoutes</span> <span class="o">=</span> <span class="n">traffic</span><span class="o">.</span><span class="n">GetTrafficRoutes</span><span class="p">(</span><span class="s2">&quot;network_name&quot;</span><span class="p">);</span>

   <span class="n">foreach</span> <span class="p">(</span><span class="n">WsfRoute</span> <span class="n">rte</span> <span class="ow">in</span> <span class="n">trafficRoutes</span><span class="p">)</span>
   <span class="p">{</span>
      <span class="n">WsfRoute</span> <span class="n">route</span> <span class="o">=</span> <span class="n">rte</span><span class="o">.</span><span class="n">Copy</span><span class="p">();</span>
      <span class="n">route</span><span class="o">.</span><span class="n">SetAltitude</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
      <span class="n">draw</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="o">.</span><span class="mi">93</span><span class="p">,</span><span class="o">.</span><span class="mi">51</span><span class="p">,</span><span class="o">.</span><span class="mi">93</span><span class="p">);</span>
      <span class="n">draw</span><span class="o">.</span><span class="n">SetLayer</span><span class="p">(</span><span class="n">route</span><span class="o">.</span><span class="n">Name</span><span class="p">());</span>
      <span class="n">draw</span><span class="o">.</span><span class="n">SetId</span><span class="p">(</span><span class="n">route</span><span class="o">.</span><span class="n">Name</span><span class="p">());</span>
      <span class="n">draw</span><span class="o">.</span><span class="n">SetLineSize</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
      <span class="n">draw</span><span class="o">.</span><span class="n">BeginPolyline</span><span class="p">();</span>
      <span class="n">draw</span><span class="o">.</span><span class="n">VertexRoute</span><span class="p">(</span><span class="n">route</span><span class="p">);</span>
      <span class="n">draw</span><span class="o">.</span><span class="n">End</span><span class="p">();</span>
      <span class="n">draw</span><span class="o">.</span><span class="n">SetId</span><span class="p">(</span><span class="n">route</span><span class="o">.</span><span class="n">Name</span><span class="p">());</span>
      <span class="n">draw</span><span class="o">.</span><span class="n">SetTextSize</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
      <span class="n">draw</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
      <span class="c1"># If aux_data should be listed on the map, uncomment and add to this section</span>
      <span class="c1">#    if (route.AuxDataExists(&quot;maxspeed&quot;) || route.AuxDataExists(&quot;name&quot;))</span>
      <span class="c1">#    {</span>
      <span class="c1">#       string name = (string)route.AuxDataInt(&quot;name&quot;);</span>
      <span class="c1">#       string speedLimit = (string)route.AuxDataDouble(&quot;maxspeed&quot;) + &quot; mph&quot;;</span>
      <span class="c1">#       draw.BeginText(name);</span>
      <span class="c1">#    }</span>
      <span class="n">draw</span><span class="o">.</span><span class="n">BeginText</span><span class="p">(</span><span class="n">route</span><span class="o">.</span><span class="n">Name</span><span class="p">());</span>
      <span class="n">WsfGeoPoint</span> <span class="n">textPos</span> <span class="o">=</span> <span class="n">route</span><span class="o">.</span><span class="n">Waypoint</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">Location</span><span class="p">();</span>
      <span class="n">textPos</span><span class="o">.</span><span class="n">SetAltitudeAGL</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
      <span class="n">draw</span><span class="o">.</span><span class="n">Vertex</span><span class="p">(</span><span class="n">textPos</span><span class="p">);</span>
      <span class="c1">#draw.Vertex(route.Waypoint(0).Location());</span>
      <span class="n">draw</span><span class="o">.</span><span class="n">End</span><span class="p">();</span>
      <span class="n">draw</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
      <span class="n">draw</span><span class="o">.</span><span class="n">SetLineSize</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
      <span class="n">draw</span><span class="o">.</span><span class="n">BeginLines</span><span class="p">();</span>
      <span class="n">draw</span><span class="o">.</span><span class="n">Vertex</span><span class="p">(</span><span class="n">route</span><span class="o">.</span><span class="n">Waypoint</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">Location</span><span class="p">());</span>
      <span class="n">draw</span><span class="o">.</span><span class="n">Vertex</span><span class="p">(</span><span class="n">textPos</span><span class="p">);</span>
      <span class="n">draw</span><span class="o">.</span><span class="n">End</span><span class="p">();</span>
   <span class="p">}</span>
<span class="n">end_script</span>

<span class="c1"># Simple script to draw colored shapes where stop signs and traffic lights are located</span>
<span class="n">script</span> <span class="n">void</span> <span class="n">DrawStops</span><span class="p">()</span>
   <span class="n">WsfDraw</span> <span class="n">draw</span> <span class="o">=</span> <span class="n">WsfDraw</span><span class="p">();</span>
   <span class="n">WsfRouteNetwork</span> <span class="n">network</span> <span class="o">=</span> <span class="n">WsfRouteNetwork</span><span class="o">.</span><span class="n">FindRouteNetwork</span><span class="p">(</span><span class="s2">&quot;network_name&quot;</span><span class="p">);</span>
   <span class="n">foreach</span> <span class="p">(</span><span class="n">WsfRoute</span> <span class="n">rte</span> <span class="ow">in</span> <span class="n">network</span><span class="o">.</span><span class="n">Routes</span><span class="p">())</span> <span class="p">{</span>
      <span class="n">WsfRoute</span> <span class="n">route</span> <span class="o">=</span> <span class="n">rte</span><span class="o">.</span><span class="n">Copy</span><span class="p">();</span>
      <span class="n">foreach</span> <span class="p">(</span><span class="n">WsfWaypoint</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">route</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">if</span> <span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">AuxDataExists</span><span class="p">(</span><span class="s2">&quot;stop_sign&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
             <span class="n">node</span><span class="o">.</span><span class="n">AuxDataBool</span><span class="p">(</span><span class="s2">&quot;stop_sign&quot;</span><span class="p">))</span>
         <span class="p">{</span>
            <span class="n">draw</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
            <span class="n">draw</span><span class="o">.</span><span class="n">SetEllipseMode</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">);</span>
            <span class="n">draw</span><span class="o">.</span><span class="n">BeginCircle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
            <span class="n">draw</span><span class="o">.</span><span class="n">VertexLLA</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">Latitude</span><span class="p">(),</span> <span class="n">node</span><span class="o">.</span><span class="n">Longitude</span><span class="p">(),</span> <span class="mi">0</span><span class="p">);</span>
            <span class="n">draw</span><span class="o">.</span><span class="n">End</span><span class="p">();</span>
         <span class="p">}</span>

         <span class="k">if</span> <span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">AuxDataExists</span><span class="p">(</span><span class="s2">&quot;traffic_signals&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
             <span class="n">node</span><span class="o">.</span><span class="n">AuxDataBool</span><span class="p">(</span><span class="s2">&quot;traffic_signals&quot;</span><span class="p">))</span>
         <span class="p">{</span>
            <span class="n">draw</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
            <span class="n">draw</span><span class="o">.</span><span class="n">SetEllipseMode</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">);</span>
            <span class="n">draw</span><span class="o">.</span><span class="n">BeginCircle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
            <span class="n">draw</span><span class="o">.</span><span class="n">VertexLLA</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">Latitude</span><span class="p">(),</span> <span class="n">node</span><span class="o">.</span><span class="n">Longitude</span><span class="p">(),</span> <span class="mi">0</span><span class="p">);</span>
            <span class="n">draw</span><span class="o">.</span><span class="n">End</span><span class="p">();</span>
         <span class="p">}</span>
      <span class="p">}</span>
   <span class="p">}</span>
<span class="n">end_script</span>
</pre></div>
</div>
</section>
</section>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    <p class="logo"><a href="main_page.html">
      <img class="logo" src="../_static/sidebar_logo.png" alt="Logo"/>
    </a></p>
  

<script src="../_static/extension.js"></script>
<p>
   <ul class="Core-menu">
      <li><a href="main_page.html">Main Page</a></li>
      <li><a href="changelog/afsim_2.9.html">Changelog</a> | <a href="afsim_change_log.html">History</a></li>
      <li><a href="documents.html">Documents</a></li>
      <li><a href="security_info.html">Security Information</a></li>
      <li><a href="contact_info.html">Contact Information</a></li>
   </ul>
</p>

<br>
<hr>
<br>

<p>
   <h3>Core Apps</h3>
   <ul class="Core-menu">
     <li><a href="wsf_core.html">Main Page</a></li>
     <li><a href="wsf_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/wsf_2.9.html">Changelog</a> | <a href="wsf_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Demos</h3>
   <ul class="DEMOS-menu">
     <li><a href="changelog/demos_2.9.html">Changelog</a> | <a href="demos_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Mystic</h3>
   <ul class="Mystic-menu">
     <li><a href="mystic.html">Main Page</a></li>
     <li><a href="mystic_users_guide.html">User's Guide</a></li>
     <li><a href="mystic_reference_guide.html">Reference Guide</a></li>
     <li><a href="pymystic.html">Batch Processing</a></li>
     <li><a href="changelog/mystic_2.9.html">Changelog</a> | <a href="mystic_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Warlock</h3>
   <ul class="WARLOCK-menu">
     <li><a href="warlock.html">Main Page</a></li>
     <li><a href="warlock_users_guide.html">User's Guide</a></li>
     <li><a href="warlock_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/warlock_2.9.html">Changelog</a> | <a href="warlock_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>Wizard</h3>
   <ul class="WIZARD-menu">
     <li><a href="wizard.html">Main Page</a></li>
     <li><a href="wizard_users_guide.html">User's Guide</a></li>
     <li><a href="wizard_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/wizard_2.9.html">Changelog</a> | <a href="wizard_change_log.html">History</a></li>
   </ul>
</p>

<p>
   <h3>EVT Reader</h3>
   <ul class="EvtReader-menu">
     <li><a href="evtreader.html">Main Page</a></li>
   </ul>
</p>

<p>
   <h3>Mover Creator</h3>
   <ul class="MoverCreator-menu">
     <li><a href="mover_creator.html">Main Page</a></li>
     <li><a href="mc_users_guide.html">User's Guide</a></li>
     <li><a href="mc_reference_guide.html">Reference Guide</a></li>
     <li><a href="changelog/mover_creator_2.9.html">Changelog</a> | <a href="mc_change_log.html">History</a></li>
   </ul>
</p>

<br>
<hr>
<br>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/docs/osm_traffic.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="../wsf-classindex.html" title="Script Class Index"
             >classes</a> |</li>
        <li class="right" >
          <a href="../wsf-commandindex.html" title="Command Index"
             >commands</a> |</li>
        <li class="right" >
          <a href="../wsf-modelindex.html" title="Model Index"
             >models</a> |</li>
        <li class="right" >
          <a href="../wsf-demoindex.html" title="Demo Index"
             >demos</a> |</li>
        <li class="right" >
          <a href="oth_radar.html" title="oth_radar demo"
             >next</a> |</li>
        <li class="right" >
          <a href="orwaca_iads.html" title="orwaca_iads"
             >previous</a> |</li>
  <li>
    <img src="../_static/relbar_logo.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="main_page.html">AFSIM 2.9.0 Documentation</a> &#187;
  </li>
  
        <li class="nav-item nav-item-0"><a href="../site_index.html">Site Index</a> &#187;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Multiple, All Rights Reserved.
      Last updated on Feb 25, 2022.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>